<a routerLink="/book-details/{{book.id}}">

  <div class="card">
    <!-- صورة الكتاب + الخصم -->
    <div class="position-relative">
      <img [src]="getCoverImageUrl()" class="card-img-top" alt="Book Cover">
      <span class="badge bg-danger position-absolute start-50 translate-middle-x" style="bottom: -12px;">
        خصم {{book.discountPercentage}}%
      </span>
    </div>


    <!-- تفاصيل الكتاب -->
    <div class="card-body text-center">
      <div class="book-rating mb-2">
        @for (star of stars; track star) {
          <i class="fa-star" [ngClass]="{
            'fas text-warning': star < (book.rating || 0),
            'far text-secondary': star >= (book.rating || 0)
          }"></i>
        }
    </div>


     <h5 class ="card-title fw-bold">{{book.title}}</h5>
      <p class="card-text text-muted fs-5">{{book.authorName}}</p>

      <div class="underBook">

          <span class="told text-danger text-decoration-line-through">
            ج.م {{book.price | number}}
          </span>
          <span class="tnew text-dark">
            ج.م {{book.price - (book.price * book.discountPercentage / 100) | number}}
          </span>

          <button class="cart-ribbon">
            <i class="fa-solid fa-cart-shopping"></i>
          </button>

      </div>
    </div>
  </div>

</a>
