<head>
    <link rel="stylesheet" href="forgot-password.css">
</head>
<div class="forgot-password-container">
  <!-- Logo -->
   <div class="logo-container">
    <div>
          <img src="/icons/logo.svg" alt="Logo" width="40" height="40" class="me-2">
    </div>
  </div>

  <!-- Forgot Password Form Card -->
  <div class="forgot-password-card">
    <div class="header">
      <h2>إعادة تعيين كلمة المرور</h2>
      <p>أدخل بريدك الإلكتروني وسنرسل لك رابطاً لإعادة تعيين كلمة المرور</p>
    </div>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
      <!-- Email Field -->
      <div class="form-group">
        <label for="email" class="form-label">البريد الإلكتروني</label>
        <input
          id="email"
          type="email"
          class="form-control"
          [class.is-invalid]="emailError()"
          formControlName="email"
          placeholder="أدخل بريدك الإلكتروني"
        >
        @if (emailError()) {
          <div class="invalid-feedback">{{ emailError() }}</div>
        }
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="btn btn-submit"
        [disabled]="isSubmitting() || !forgotPasswordForm.valid"
      >
        @if (isSubmitting()) {
          <span class="spinner-border spinner-border-sm me-2" role="status"></span>
          جاري الإرسال...
        } @else {
          إرسال رابط إعادة التعيين
        }
      </button>

      <!-- Success Message -->
      @if (isEmailSent()) {
        <div class="alert alert-success mt-3" role="alert">
          تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني
        </div>
      }

      <!-- Error Message -->
      @if (errorMessage()) {
        <div class="alert alert-danger mt-3" role="alert">
          {{ errorMessage() }}
        </div>
      }
    </form>

    <!-- Back to Login -->
    <div class="back-to-login">
      <button type="button" class="link-button" (click)="onBackToLogin()">
        العودة إلى تسجيل الدخول
      </button>
    </div>
  </div>
</div>
