var Xx=Object.defineProperty,ew=Object.defineProperties;var tw=Object.getOwnPropertyDescriptors;var F0=Object.getOwnPropertySymbols;var nw=Object.prototype.hasOwnProperty,rw=Object.prototype.propertyIsEnumerable;var L0=(t,n,e)=>n in t?Xx(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,T=(t,n)=>{for(var e in n||={})nw.call(n,e)&&L0(t,e,n[e]);if(F0)for(var e of F0(n))rw.call(n,e)&&L0(t,e,n[e]);return t},ie=(t,n)=>ew(t,tw(n));var An=(t,n,e)=>new Promise((r,i)=>{var o=l=>{try{a(e.next(l))}catch(p){i(p)}},s=l=>{try{a(e.throw(l))}catch(p){i(p)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(t,n)).next())});var Lf;function Ml(){return Lf}function Kn(t){let n=Lf;return Lf=t,n}var j0=Symbol("NotFound");function yo(t){return t===j0||t?.name==="\u0275NotFound"}function Pl(t,n){return Object.is(t,n)}var ct=null,El=!1,jf=1,iw=null,Dt=Symbol("SIGNAL");function te(t){let n=ct;return ct=t,n}function Ol(){return ct}var Yr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Co(t){if(El)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(t);let n=ct.nextProducerIndex++;if(kl(ct),n<ct.producerNode.length&&ct.producerNode[n]!==t&&js(ct)){let e=ct.producerNode[n];Tl(e,ct.producerIndexOfThis[n])}ct.producerNode[n]!==t&&(ct.producerNode[n]=t,ct.producerIndexOfThis[n]=js(ct)?B0(t,ct,n):0),ct.producerLastReadVersion[n]=t.version}function V0(){jf++}function Al(t){if(!(js(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===jf)){if(!t.producerMustRecompute(t)&&!_o(t)){Sl(t);return}t.producerRecomputeValue(t),Sl(t)}}function Vf(t){if(t.liveConsumerNode===void 0)return;let n=El;El=!0;try{for(let e of t.liveConsumerNode)e.dirty||ow(e)}finally{El=n}}function Bf(){return ct?.consumerAllowSignalWrites!==!1}function ow(t){t.dirty=!0,Vf(t),t.consumerMarkedDirty?.(t)}function Sl(t){t.dirty=!1,t.lastCleanEpoch=jf}function Qr(t){return t&&(t.nextProducerIndex=0),te(t)}function Di(t,n){if(te(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(js(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Tl(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _o(t){kl(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Al(e),r!==e.version))return!0}return!1}function xo(t){if(kl(t),js(t))for(let n=0;n<t.producerNode.length;n++)Tl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function B0(t,n,e){if(U0(t),t.liveConsumerNode.length===0&&H0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=B0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Tl(t,n){if(U0(t),t.liveConsumerNode.length===1&&H0(t))for(let r=0;r<t.producerNode.length;r++)Tl(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];kl(i),i.producerIndexOfThis[r]=n}}function js(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function kl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function U0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function H0(t){return t.producerNode!==void 0}function Nl(t){iw?.(t)}function Rl(t,n){let e=Object.create(sw);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(Al(e),Co(e),e.value===Ls)throw e.error;return e.value};return r[Dt]=e,Nl(e),r}var Il=Symbol("UNSET"),Dl=Symbol("COMPUTING"),Ls=Symbol("ERRORED"),sw=ie(T({},Yr),{value:Il,dirty:!0,error:null,equal:Pl,kind:"computed",producerMustRecompute(t){return t.value===Il||t.value===Dl},producerRecomputeValue(t){if(t.value===Dl)throw new Error("");let n=t.value;t.value=Dl;let e=Qr(t),r,i=!1;try{r=t.computation(),te(null),i=n!==Il&&n!==Ls&&r!==Ls&&t.equal(n,r)}catch(o){r=Ls,t.error=o}finally{Di(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function aw(){throw new Error}var $0=aw;function z0(t){$0(t)}function Uf(t){$0=t}var lw=null;function Hf(t,n){let e=Object.create(Fl);e.value=t,n!==void 0&&(e.equal=n);let r=()=>G0(e);return r[Dt]=e,Nl(e),[r,s=>wo(e,s),s=>$f(e,s)]}function G0(t){return Co(t),t.value}function wo(t,n){Bf()||z0(t),t.equal(t.value,n)||(t.value=n,cw(t))}function $f(t,n){Bf()||z0(t),wo(t,n(t.value))}var Fl=ie(T({},Yr),{equal:Pl,value:void 0,kind:"signal"});function cw(t){t.version++,V0(),Vf(t),lw?.(t)}function le(t){return typeof t=="function"}function Mo(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ll=Mo(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Si(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ye=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){n=o instanceof Ll?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{q0(o)}catch(s){n=n??[],s instanceof Ll?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ll(n)}}add(n){var e;if(n&&n!==this)if(this.closed)q0(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Si(e,n)}remove(n){let{_finalizers:e}=this;e&&Si(e,n),n instanceof t&&n._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var zf=Ye.EMPTY;function jl(t){return t instanceof Ye||t&&"closed"in t&&le(t.remove)&&le(t.add)&&le(t.unsubscribe)}function q0(t){le(t)?t():t.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Eo={setTimeout(t,n,...e){let{delegate:r}=Eo;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Eo;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Vl(t){Eo.setTimeout(()=>{let{onUnhandledError:n}=Tn;if(n)n(t);else throw t})}function Vs(){}var W0=Gf("C",void 0,void 0);function Y0(t){return Gf("E",void 0,t)}function Q0(t){return Gf("N",t,void 0)}function Gf(t,n,e){return{kind:t,value:n,error:e}}var Pi=null;function Io(t){if(Tn.useDeprecatedSynchronousErrorHandling){let n=!Pi;if(n&&(Pi={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=Pi;if(Pi=null,e)throw r}}else t()}function Z0(t){Tn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=t)}var Oi=class extends Ye{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,jl(n)&&n.add(this)):this.destination=fw}static create(n,e,r){return new _r(n,e,r)}next(n){this.isStopped?Wf(Q0(n),this):this._next(n)}error(n){this.isStopped?Wf(Y0(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Wf(W0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uw=Function.prototype.bind;function qf(t,n){return uw.call(t,n)}var Yf=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Bl(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Bl(r)}else Bl(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Bl(e)}}},_r=class extends Oi{constructor(n,e,r){super();let i;if(le(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&qf(n.next,o),error:n.error&&qf(n.error,o),complete:n.complete&&qf(n.complete,o)}):i=n}this.destination=new Yf(i)}};function Bl(t){Tn.useDeprecatedSynchronousErrorHandling?Z0(t):Vl(t)}function dw(t){throw t}function Wf(t,n){let{onStoppedNotification:e}=Tn;e&&Eo.setTimeout(()=>e(t,n))}var fw={closed:!0,next:Vs,error:dw,complete:Vs};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function Qf(...t){return Zf(t)}function Zf(t){return t.length===0?Rt:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var oe=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=gw(e)?e:new _r(e,r,i);return Io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=K0(r),new r((i,o)=>{let s=new _r({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Do](){return this}pipe(...e){return Zf(e)(this)}toPromise(e){return e=K0(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function K0(t){var n;return(n=t??Tn.Promise)!==null&&n!==void 0?n:Promise}function pw(t){return t&&le(t.next)&&le(t.error)&&le(t.complete)}function gw(t){return t&&t instanceof Oi||pw(t)&&jl(t)}function Kf(t){return le(t?.lift)}function fe(t){return n=>{if(Kf(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,n,e,r,i){return new Jf(t,n,e,r,i)}var Jf=class extends Oi{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function So(){return fe((t,n)=>{let e=null;t._refCount++;let r=pe(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Po=class extends oe{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Kf(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ye;let e=this.getSubject();n.add(this.source.subscribe(pe(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ye.EMPTY)}return n}refCount(){return So()(this)}};var J0=Mo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ul(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new J0}next(e){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zf:(this.currentObservers=null,o.push(e),new Ye(()=>{this.currentObservers=null,Si(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new oe;return e.source=this,e}}return t.create=(n,e)=>new Ul(n,e),t})(),Ul=class extends ge{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:zf}};var Ue=class extends ge{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Bs={now(){return(Bs.delegate||Date).now()},delegate:void 0};var Hl=class extends ge{constructor(n=1/0,e=1/0,r=Bs){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(n),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!n.closed;s+=r?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=e.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var $l=class extends Ye{constructor(n,e){super()}schedule(n,e=0){return this}};var Us={setInterval(t,n,...e){let{delegate:r}=Us;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=Us;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var zl=class extends $l{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Us.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Us.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Si(r,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Oo=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}};Oo.now=Bs.now;var Gl=class extends Oo{constructor(n,e=Oo.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}};var Xf=new Gl(zl),X0=Xf;var Yt=new oe(t=>t.complete());function ql(t){return t&&le(t.schedule)}function ev(t){return t[t.length-1]}function Wl(t){return le(ev(t))?t.pop():void 0}function Zr(t){return ql(ev(t))?t.pop():void 0}function nv(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(g){try{p(r.next(g))}catch(h){s(h)}}function l(g){try{p(r.throw(g))}catch(h){s(h)}}function p(g){g.done?o(g.value):i(g.value).then(a,l)}p((r=r.apply(t,n||[])).next())})}function tv(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ai(t){return this instanceof Ai?(this.v=t,this):new Ai(t)}function rv(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(S){return Promise.resolve(S).then(b,h)}}function a(b,S){r[b]&&(i[b]=function($){return new Promise(function(j,V){o.push([b,$,j,V])>1||l(b,$)})},S&&(i[b]=S(i[b])))}function l(b,S){try{p(r[b](S))}catch($){x(o[0][3],$)}}function p(b){b.value instanceof Ai?Promise.resolve(b.value.v).then(g,h):x(o[0][2],b)}function g(b){l("next",b)}function h(b){l("throw",b)}function x(b,S){b(S),o.shift(),o.length&&l(o[0][0],o[0][1])}}function iv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof tv=="function"?tv(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(p){o({value:p,done:a})},s)}}var Yl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ql(t){return le(t?.then)}function Zl(t){return le(t[Do])}function Kl(t){return Symbol.asyncIterator&&le(t?.[Symbol.asyncIterator])}function Jl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xl=hw();function ec(t){return le(t?.[Xl])}function tc(t){return rv(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield Ai(e.read());if(i)return yield Ai(void 0);yield yield Ai(r)}}finally{e.releaseLock()}})}function nc(t){return le(t?.getReader)}function He(t){if(t instanceof oe)return t;if(t!=null){if(Zl(t))return mw(t);if(Yl(t))return vw(t);if(Ql(t))return bw(t);if(Kl(t))return ov(t);if(ec(t))return yw(t);if(nc(t))return Cw(t)}throw Jl(t)}function mw(t){return new oe(n=>{let e=t[Do]();if(le(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vw(t){return new oe(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function bw(t){return new oe(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Vl)})}function yw(t){return new oe(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function ov(t){return new oe(n=>{_w(t,n).catch(e=>n.error(e))})}function Cw(t){return ov(tc(t))}function _w(t,n){var e,r,i,o;return nv(this,void 0,void 0,function*(){try{for(e=iv(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Qt(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rc(t,n=0){return fe((e,r)=>{e.subscribe(pe(r,i=>Qt(r,t,()=>r.next(i),n),()=>Qt(r,t,()=>r.complete(),n),i=>Qt(r,t,()=>r.error(i),n)))})}function ic(t,n=0){return fe((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function sv(t,n){return He(t).pipe(ic(n),rc(n))}function av(t,n){return He(t).pipe(ic(n),rc(n))}function lv(t,n){return new oe(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function cv(t,n){return new oe(e=>{let r;return Qt(e,n,()=>{r=t[Xl](),Qt(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function oc(t,n){if(!t)throw new Error("Iterable cannot be null");return new oe(e=>{Qt(e,n,()=>{let r=t[Symbol.asyncIterator]();Qt(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function uv(t,n){return oc(tc(t),n)}function dv(t,n){if(t!=null){if(Zl(t))return sv(t,n);if(Yl(t))return lv(t,n);if(Ql(t))return av(t,n);if(Kl(t))return oc(t,n);if(ec(t))return cv(t,n);if(nc(t))return uv(t,n)}throw Jl(t)}function Te(t,n){return n?dv(t,n):He(t)}function q(...t){let n=Zr(t);return Te(t,n)}function Jn(t,n){let e=le(t)?t:()=>t,r=i=>i.error(e());return new oe(n?i=>n.schedule(r,0,i):r)}function Xn(t){return!!t&&(t instanceof oe||le(t.lift)&&le(t.subscribe))}var kn=Mo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function sc(t,n){let e=typeof n=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):e?r(n.defaultValue):i(new kn)}})})}function fv(t){return t instanceof Date&&!isNaN(t)}function B(t,n){return fe((e,r)=>{let i=0;e.subscribe(pe(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:xw}=Array;function ww(t,n){return xw(n)?t(...n):t(n)}function ac(t){return B(n=>ww(t,n))}var{isArray:Mw}=Array,{getPrototypeOf:Ew,prototype:Iw,keys:Dw}=Object;function lc(t){if(t.length===1){let n=t[0];if(Mw(n))return{args:n,keys:null};if(Sw(n)){let e=Dw(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function Sw(t){return t&&typeof t=="object"&&Ew(t)===Iw}function cc(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Hs(...t){let n=Zr(t),e=Wl(t),{args:r,keys:i}=lc(t);if(r.length===0)return Te([],n);let o=new oe(Pw(r,n,i?s=>cc(i,s):Rt));return e?o.pipe(ac(e)):o}function Pw(t,n,e=Rt){return r=>{pv(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)pv(n,()=>{let p=Te(t[l],n),g=!1;p.subscribe(pe(r,h=>{o[l]=h,g||(g=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pv(t,n,e){t?Qt(e,t,n):n()}function gv(t,n,e,r,i,o,s,a){let l=[],p=0,g=0,h=!1,x=()=>{h&&!l.length&&!p&&n.complete()},b=$=>p<r?S($):l.push($),S=$=>{o&&n.next($),p++;let j=!1;He(e($,g++)).subscribe(pe(n,V=>{i?.(V),o?b(V):n.next(V)},()=>{j=!0},void 0,()=>{if(j)try{for(p--;l.length&&p<r;){let V=l.shift();s?Qt(n,s,()=>S(V)):S(V)}x()}catch(V){n.error(V)}}))};return t.subscribe(pe(n,b,()=>{h=!0,x()})),()=>{a?.()}}function Je(t,n,e=1/0){return le(n)?Je((r,i)=>B((o,s)=>n(r,o,i,s))(He(t(r,i))),e):(typeof n=="number"&&(e=n),fe((r,i)=>gv(r,i,t,e)))}function Kr(t=1/0){return Je(Rt,t)}function hv(){return Kr(1)}function xr(...t){return hv()(Te(t,Zr(t)))}function Jr(t){return new oe(n=>{He(t()).subscribe(n)})}function Ti(...t){let n=Wl(t),{args:e,keys:r}=lc(t),i=new oe(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,p=s;for(let g=0;g<s;g++){let h=!1;He(e[g]).subscribe(pe(o,x=>{h||(h=!0,p--),a[g]=x},()=>l--,void 0,()=>{(!l||!h)&&(p||o.next(r?cc(r,a):a),o.complete())}))}});return n?i.pipe(ac(n)):i}function ep(t=0,n,e=X0){let r=-1;return n!=null&&(ql(n)?e=n:r=n),new oe(i=>{let o=fv(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function St(t,n){return fe((e,r)=>{let i=0;e.subscribe(pe(r,o=>t.call(n,o,i++)&&r.next(o)))})}function rt(t){return fe((n,e)=>{let r=null,i=!1,o;r=n.subscribe(pe(e,void 0,void 0,s=>{o=He(t(s,rt(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function mv(t,n,e,r,i){return(o,s)=>{let a=e,l=n,p=0;o.subscribe(pe(s,g=>{let h=p++;l=a?t(l,g,h):(a=!0,g),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Cn(t,n){return le(n)?Je(t,n,1):Je(t,1)}function Xr(t,n=Xf){return fe((e,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let p=o;o=null,r.next(p)}};function l(){let p=s+t,g=n.now();if(g<p){i=this.schedule(void 0,p-g),r.add(i);return}a()}e.subscribe(pe(r,p=>{o=p,s=n.now(),i||(i=n.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ei(t){return fe((n,e)=>{let r=!1;n.subscribe(pe(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Zt(t){return t<=0?()=>Yt:fe((n,e)=>{let r=0;n.subscribe(pe(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function ti(t,n=Rt){return t=t??Ow,fe((e,r)=>{let i,o=!0;e.subscribe(pe(r,s=>{let a=n(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Ow(t,n){return t===n}function uc(t=Aw){return fe((n,e)=>{let r=!1;n.subscribe(pe(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function Aw(){return new kn}function on(t){return fe((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function wr(t,n){let e=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):Rt,Zt(1),e?ei(n):uc(()=>new kn))}function Ao(t){return t<=0?()=>Yt:fe((n,e)=>{let r=[];n.subscribe(pe(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function tp(t,n){let e=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):Rt,Ao(1),e?ei(n):uc(()=>new kn))}function np(t,n){return fe(mv(t,n,arguments.length>=2,!0))}function vv(t={}){let{connector:n=()=>new ge,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,p=0,g=!1,h=!1,x=()=>{a?.unsubscribe(),a=void 0},b=()=>{x(),s=l=void 0,g=h=!1},S=()=>{let $=s;b(),$?.unsubscribe()};return fe(($,j)=>{p++,!h&&!g&&x();let V=l=l??n();j.add(()=>{p--,p===0&&!h&&!g&&(a=rp(S,i))}),V.subscribe(j),!s&&p>0&&(s=new _r({next:ve=>V.next(ve),error:ve=>{h=!0,x(),a=rp(b,e,ve),V.error(ve)},complete:()=>{g=!0,x(),a=rp(b,r),V.complete()}}),He($).subscribe(s))})(o)}}function rp(t,n,...e){if(n===!0){t();return}if(n===!1)return;let r=new _r({next:()=>{r.unsubscribe(),t()}});return He(n(...e)).subscribe(r)}function dc(t,n,e){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:e}=t:r=t??1/0,vv({connector:()=>new Hl(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ip(...t){let n=Zr(t);return fe((e,r)=>{(n?xr(t,e,n):xr(t,e)).subscribe(r)})}function $e(t,n){return fe((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(pe(r,l=>{i?.unsubscribe();let p=0,g=o++;He(t(l,g)).subscribe(i=pe(r,h=>r.next(n?n(l,h,g,p++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ki(t){return fe((n,e)=>{He(t).subscribe(pe(e,()=>e.complete(),Vs)),!e.closed&&n.subscribe(e)})}function Fe(t,n,e){let r=le(t)||n||e?{next:t,error:n,complete:e}:t;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,l=>{var p;(p=r.next)===null||p===void 0||p.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var p;a=!1,(p=r.error)===null||p===void 0||p.call(r,l),o.error(l)},()=>{var l,p;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):Rt}function bv(t){let n=te(null);try{return t()}finally{te(n)}}var mc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",N=class extends Error{code;constructor(n,e){super(Ir(n,e)),this.code=n}};function Tw(t){return`NG0${Math.abs(t)}`}function Ir(t,n){return`${Tw(t)}${n?": "+n:""}`}var Dr=globalThis;function we(t){for(let n in t)if(t[n]===we)return n;throw Error("")}function _v(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Er(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Er).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function vc(t,n){return t?n?`${t} ${n}`:t:n||""}var kw=we({__forward_ref__:we});function Kt(t){return t.__forward_ref__=Kt,t.toString=function(){return Er(this())},t}function _t(t){return mp(t)?t():t}function mp(t){return typeof t=="function"&&t.hasOwnProperty(kw)&&t.__forward_ref__===Kt}function xv(t,n){t==null&&vp(n,t,null,"!=")}function vp(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ys(t){return Nw(t,bc)}function bp(t){return Ys(t)!==null}function Nw(t,n){return t.hasOwnProperty(n)&&t[n]||null}function Rw(t){let n=t?.[bc]??null;return n||null}function sp(t){return t&&t.hasOwnProperty(pc)?t[pc]:null}var bc=we({\u0275prov:we}),pc=we({\u0275inj:we}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=P({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yp(t){return t&&!!t.\u0275providers}var Cp=we({\u0275cmp:we}),_p=we({\u0275dir:we}),xp=we({\u0275pipe:we}),wp=we({\u0275mod:we}),Gs=we({\u0275fac:we}),ji=we({__NG_ELEMENT_ID__:we}),yv=we({__NG_ENV_ID__:we});function Vt(t){return typeof t=="string"?t:t==null?"":String(t)}function gc(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vt(t)}var Mp=we({ngErrorCode:we}),wv=we({ngErrorMessage:we}),zs=we({ngTokenPath:we});function Ep(t,n){return Mv("",-200,n)}function yc(t,n){throw new N(-201,!1)}function Fw(t,n){t[zs]??=[];let e=t[zs],r;typeof n=="object"&&"multi"in n&&n?.multi===!0?(xv(n.provide,"Token with multi: true should have a provide property"),r=gc(n.provide)):r=gc(n),e[0]!==r&&t[zs].unshift(r)}function Lw(t,n){let e=t[zs],r=t[Mp],i=t[wv]||t.message;return t.message=Vw(i,r,e,n),t}function Mv(t,n,e){let r=new N(n,t);return r[Mp]=n,r[wv]=t,e&&(r[zs]=e),r}function jw(t){return t[Mp]}function Vw(t,n,e=[],r=null){let i="";e&&e.length>1&&(i=` Path: ${e.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Ir(n,`${t}${o}${i}`)}var ap;function Ev(){return ap}function Ft(t){let n=ap;return ap=t,n}function Ip(t,n,e){let r=Ys(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(n!==void 0)return n;yc(t,"Injector")}var Bw={},Ni=Bw,lp="__NG_DI_FLAG__",cp=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=Ri(e)||0;try{return this.injector.get(n,r&8?null:Ni,r)}catch(i){if(yo(i))return i;throw i}}};function Uw(t,n=0){let e=Ml();if(e===void 0)throw new N(-203,!1);if(e===null)return Ip(t,void 0,n);{let r=Hw(n),i=e.retrieve(t,r);if(yo(i)){if(r.optional)return null;throw i}return i}}function F(t,n=0){return(Ev()||Uw)(_t(t),n)}function M(t,n){return F(t,Ri(n))}function Ri(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hw(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function up(t){let n=[];for(let e=0;e<t.length;e++){let r=_t(t[e]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=$w(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(F(i,o))}else n.push(F(r))}return n}function Dp(t,n){return t[lp]=n,t.prototype[lp]=n,t}function $w(t){return t[lp]}function ni(t,n){let e=t.hasOwnProperty(Gs);return e?t[Gs]:null}function Iv(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function Dv(t){return t.flat(Number.POSITIVE_INFINITY)}function Cc(t,n){t.forEach(e=>Array.isArray(e)?Cc(e,n):n(e))}function Sp(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Qs(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Sv(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function _c(t,n,e){let r=ko(t,n);return r>=0?t[r|1]=e:(r=~r,Sv(t,r,n,e)),r}function xc(t,n){let e=ko(t,n);if(e>=0)return t[e|1]}function ko(t,n){return zw(t,n,1)}function zw(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var ii={},Lt=[],Sr=new U(""),Pp=new U("",-1),Op=new U(""),qs=class{get(n,e=Ni){if(e===Ni){let i=Mv("",-201);throw i.name="\u0275NotFound",i}return e}};function Ap(t){return t[wp]||null}function Pr(t){return t[Cp]||null}function Tp(t){return t[_p]||null}function Pv(t){return t[xp]||null}function er(t){return{\u0275providers:t}}function Ov(t){return er([{provide:Sr,multi:!0,useValue:t}])}function Av(...t){return{\u0275providers:kp(!0,t),\u0275fromNgModule:!0}}function kp(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return Cc(n,s=>{let a=s;hc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Tv(i,o),e}function Tv(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Np(i,o=>{n(o,r)})}}function hc(t,n,e,r){if(t=_t(t),!t)return!1;let i=null,o=sp(t),s=!o&&Pr(t);if(!o&&!s){let l=t.ngModule;if(o=sp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let p of l)hc(p,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let p;try{Cc(o.imports,g=>{hc(g,n,e,r)&&(p||=[],p.push(g))})}finally{}p!==void 0&&Tv(p,n)}if(!a){let p=ni(i)||(()=>new i);n({provide:i,useFactory:p,deps:Lt},i),n({provide:Op,useValue:i,multi:!0},i),n({provide:Sr,useValue:()=>F(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let p=t;Np(l,g=>{n(g,p)})}}else return!1;return i!==t&&t.providers!==void 0}function Np(t,n){for(let e of t)yp(e)&&(e=e.\u0275providers),Array.isArray(e)?Np(e,n):n(e)}var Gw=we({provide:String,useValue:we});function kv(t){return t!==null&&typeof t=="object"&&Gw in t}function qw(t){return!!(t&&t.useExisting)}function Ww(t){return!!(t&&t.useFactory)}function Fi(t){return typeof t=="function"}function Nv(t){return!!t.useClass}var Zs=new U(""),fc={},Cv={},op;function Ks(){return op===void 0&&(op=new qs),op}var Xe=class{},Li=class extends Xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,fp(n,s=>this.processProvider(s)),this.records.set(Pp,To(void 0,this)),i.has("environment")&&this.records.set(Xe,To(void 0,this));let o=this.records.get(Zs);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Op,Lt,{self:!0}))}retrieve(n,e){let r=Ri(e)||0;try{return this.get(n,Ni,r)}catch(i){if(yo(i))return i;throw i}}destroy(){$s(this),this._destroyed=!0;let n=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(n)}}onDestroy(n){return $s(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){$s(this);let e=Kn(this),r=Ft(void 0),i;try{return n()}finally{Kn(e),Ft(r)}}get(n,e=Ni,r){if($s(this),n.hasOwnProperty(yv))return n[yv](this);let i=Ri(r),o,s=Kn(this),a=Ft(void 0);try{if(!(i&4)){let p=this.records.get(n);if(p===void 0){let g=Jw(n)&&Ys(n);g&&this.injectableDefInScope(g)?p=To(dp(n),fc):p=null,this.records.set(n,p)}if(p!=null)return this.hydrate(n,p,i)}let l=i&2?Ks():this.parent;return e=i&8&&e===Ni?null:e,l.get(n,e)}catch(l){let p=jw(l);throw p===-200||p===-201?new N(p,null):l}finally{Ft(a),Kn(s)}}resolveInjectorInitializers(){let n=te(null),e=Kn(this),r=Ft(void 0),i;try{let o=this.get(Sr,Lt,{self:!0});for(let s of o)s()}finally{Kn(e),Ft(r),te(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(Er(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=_t(n);let e=Fi(n)?n:_t(n&&n.provide),r=Qw(n);if(!Fi(n)&&n.multi===!0){let i=this.records.get(e);i||(i=To(void 0,fc,!0),i.factory=()=>up(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=te(null);try{if(e.value===Cv)throw Ep(Er(n));return e.value===fc&&(e.value=Cv,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&Kw(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{te(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=_t(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function dp(t){let n=Ys(t),e=n!==null?n.factory:ni(t);if(e!==null)return e;if(t instanceof U)throw new N(204,!1);if(t instanceof Function)return Yw(t);throw new N(204,!1)}function Yw(t){if(t.length>0)throw new N(204,!1);let e=Rw(t);return e!==null?()=>e.factory(t):()=>new t}function Qw(t){if(kv(t))return To(void 0,t.useValue);{let n=Rp(t);return To(n,fc)}}function Rp(t,n,e){let r;if(Fi(t)){let i=_t(t);return ni(i)||dp(i)}else if(kv(t))r=()=>_t(t.useValue);else if(Ww(t))r=()=>t.useFactory(...up(t.deps||[]));else if(qw(t))r=(i,o)=>F(_t(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=_t(t&&(t.useClass||t.provide));if(Zw(t))r=()=>new i(...up(t.deps));else return ni(i)||dp(i)}return r}function $s(t){if(t.destroyed)throw new N(205,!1)}function To(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Zw(t){return!!t.deps}function Kw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Jw(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function fp(t,n){for(let e of t)Array.isArray(e)?fp(e,n):e&&yp(e)?fp(e.\u0275providers,n):n(e)}function vt(t,n){let e;t instanceof Li?($s(t),e=t):e=new cp(t);let r,i=Kn(e),o=Ft(void 0);try{return n()}finally{Kn(i),Ft(o)}}function Rv(){return Ev()!==void 0||Ml()!=null}var Rn=0,J=1,ne=2,ut=3,xn=4,wn=5,No=6,Ro=7,et=8,Vi=9,tr=10,Oe=11,Fo=12,Fp=13,Bi=14,sn=15,oi=16,Ui=17,nr=18,Js=19,Lp=20,Mr=21,wc=22,Or=23,an=24,Hi=25,Le=26,Fv=1,jp=6,si=7,Xs=8,$i=9,bt=10;function rr(t){return Array.isArray(t)&&typeof t[Fv]=="object"}function Fn(t){return Array.isArray(t)&&t[Fv]===!0}function Vp(t){return(t.flags&4)!==0}function ai(t){return t.componentOffset>-1}function Lo(t){return(t.flags&1)===1}function ir(t){return!!t.template}function jo(t){return(t[ne]&512)!==0}function zi(t){return(t[ne]&256)===256}var Bp="svg",Lv="math";function Mn(t){for(;Array.isArray(t);)t=t[Rn];return t}function Up(t,n){return Mn(n[t])}function Ln(t,n){return Mn(n[t.index])}function ea(t,n){return t.data[n]}function ta(t,n){return t[n]}function Hp(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function En(t,n){let e=n[t];return rr(e)?e:e[Rn]}function jv(t){return(t[ne]&4)===4}function Mc(t){return(t[ne]&128)===128}function Vv(t){return Fn(t[ut])}function In(t,n){return n==null?null:t[n]}function $p(t){t[Ui]=0}function zp(t){t[ne]&1024||(t[ne]|=1024,Mc(t)&&li(t))}function Bv(t,n){for(;t>0;)n=n[Bi],t--;return n}function na(t){return!!(t[ne]&9216||t[an]?.dirty)}function Ec(t){t[tr].changeDetectionScheduler?.notify(8),t[ne]&64&&(t[ne]|=1024),na(t)&&li(t)}function li(t){t[tr].changeDetectionScheduler?.notify(0);let n=ri(t);for(;n!==null&&!(n[ne]&8192||(n[ne]|=8192,!Mc(n)));)n=ri(n)}function Gp(t,n){if(zi(t))throw new N(911,!1);t[Mr]===null&&(t[Mr]=[]),t[Mr].push(n)}function Uv(t,n){if(t[Mr]===null)return;let e=t[Mr].indexOf(n);e!==-1&&t[Mr].splice(e,1)}function ri(t){let n=t[ut];return Fn(n)?n[ut]:n}function qp(t){return t[Ro]??=[]}function Wp(t){return t.cleanup??=[]}function Hv(t,n,e,r){let i=qp(n);i.push(e),t.firstCreatePass&&Wp(t).push(r,i.length-1)}var ce={lFrame:t1(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ra=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(ra||{}),Xw=0,pp=!1;function $v(){return ce.lFrame.elementDepthCount}function zv(){ce.lFrame.elementDepthCount++}function Yp(){ce.lFrame.elementDepthCount--}function Ic(){return ce.bindingsEnabled}function Gv(){return ce.skipHydrationRootTNode!==null}function Qp(t){return ce.skipHydrationRootTNode===t}function Zp(){ce.skipHydrationRootTNode=null}function K(){return ce.lFrame.lView}function je(){return ce.lFrame.tView}function O(t){return ce.lFrame.contextLView=t,t[et]}function A(t){return ce.lFrame.contextLView=null,t}function it(){let t=Kp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Kp(){return ce.lFrame.currentTNode}function qv(){let t=ce.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Vo(t,n){let e=ce.lFrame;e.currentTNode=t,e.isParent=n}function Jp(){return ce.lFrame.isParent}function Wv(){ce.lFrame.isParent=!1}function Yv(){return ce.lFrame.contextLView}function Xp(t){vp("Must never be called in production mode"),Xw=t}function eg(){return pp}function Bo(t){let n=pp;return pp=t,n}function Gi(){let t=ce.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Dc(){return ce.lFrame.bindingIndex}function Qv(t){return ce.lFrame.bindingIndex=t}function Ar(){return ce.lFrame.bindingIndex++}function Uo(t){let n=ce.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Zv(){return ce.lFrame.inI18n}function Kv(t,n){let e=ce.lFrame;e.bindingIndex=e.bindingRootIndex=t,Sc(n)}function Jv(){return ce.lFrame.currentDirectiveIndex}function Sc(t){ce.lFrame.currentDirectiveIndex=t}function Xv(t){let n=ce.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function tg(){return ce.lFrame.currentQueryIndex}function Pc(t){ce.lFrame.currentQueryIndex=t}function e2(t){let n=t[J];return n.type===2?n.declTNode:n.type===1?t[wn]:null}function ng(t,n,e){if(e&4){let i=n,o=t;for(;i=i.parent,i===null&&!(e&1);)if(i=e2(o),i===null||(o=o[Bi],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=ce.lFrame=e1();return r.currentTNode=n,r.lView=t,!0}function Oc(t){let n=e1(),e=t[J];ce.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function e1(){let t=ce.lFrame,n=t===null?null:t.child;return n===null?t1(t):n}function t1(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function n1(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rg=n1;function Ac(){let t=n1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function r1(t){return(ce.lFrame.contextLView=Bv(t,ce.lFrame.contextLView))[et]}function jn(){return ce.lFrame.selectedIndex}function ci(t){ce.lFrame.selectedIndex=t}function ia(){let t=ce.lFrame;return ea(t.tView,t.selectedIndex)}function ln(){ce.lFrame.currentNamespace=Bp}function cn(){t2()}function t2(){ce.lFrame.currentNamespace=null}function i1(){return ce.lFrame.currentNamespace}var o1=!0;function Tc(){return o1}function oa(t){o1=t}function gp(t,n=null,e=null,r){let i=ig(t,n,e,r);return i.resolveInjectorInitializers(),i}function ig(t,n=null,e=null,r,i=new Set){let o=[e||Lt,Av(t)];return r=r||(typeof t=="object"?void 0:Er(t)),new Li(o,n||Ks(),r||null,i)}var xt=class t{static THROW_IF_NOT_FOUND=Ni;static NULL=new qs;static create(n,e){if(Array.isArray(n))return gp({name:""},e,n,"");{let r=n.name??"";return gp({name:r},n.parent,n.providers,r)}}static \u0275prov=P({token:t,providedIn:"any",factory:()=>F(Pp)});static __NG_ELEMENT_ID__=-1},ke=new U(""),Bt=(()=>{class t{static __NG_ELEMENT_ID__=n2;static __NG_ENV_ID__=e=>e}return t})(),Ws=class extends Bt{_lView;constructor(n){super(),this._lView=n}get destroyed(){return zi(this._lView)}onDestroy(n){let e=this._lView;return Gp(e,n),()=>Uv(e,n)}};function n2(){return new Ws(K())}var _n=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Pt=new U("",{providedIn:"root",factory:()=>{let t=M(Xe),n;return e=>{t.destroyed&&!n?setTimeout(()=>{throw e}):(n??=t.get(_n),n.handleError(e))}}}),s1={provide:Sr,useValue:()=>void M(_n),multi:!0},r2=new U("",{providedIn:"root",factory:()=>{let t=M(ke).defaultView;if(!t)return;let n=M(Pt),e=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",e),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(Bt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",e)})}});function og(){return er([Ov(()=>void M(r2))])}function sg(t){return typeof t=="function"&&t[Dt]!==void 0}function he(t,n){let[e,r,i]=Hf(t,n?.equal),o=e,s=o[Dt];return o.set=r,o.update=i,o.asReadonly=ag.bind(o),o}function ag(){let t=this[Dt];if(t.readonlyFn===void 0){let n=()=>this();n[Dt]=t,t.readonlyFn=n}return t.readonlyFn}function lg(t){return sg(t)&&typeof t.set=="function"}var Nn=class{},sa=new U("",{providedIn:"root",factory:()=>!1});var cg=new U(""),ug=new U("");var Ho=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=i2}return t})();function i2(){return new Ho(K(),it())}var or=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ue(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new oe(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})(),aa=(()=>{class t{internalPendingTasks=M(or);scheduler=M(Nn);errorHandler=M(Pt);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let r=this.add();e().catch(this.errorHandler).finally(r)}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})();function qi(...t){}var la=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>new hp})}return t})(),hp=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[e,r]of this.queues)e===null?n||=this.flushQueue(r):n||=e.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function Yo(t){return{toString:t}.toString()}var kc="__parameters__";function u2(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function F1(t,n,e){return Yo(()=>{let r=u2(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,p,g){let h=l.hasOwnProperty(kc)?l[kc]:Object.defineProperty(l,kc,{value:[]})[kc];for(;h.length<=g;)h.push(null);return(h[g]=h[g]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Xg=Dp(F1("Optional"),8);var eh=Dp(F1("SkipSelf"),4);function d2(t){return typeof t=="function"}var Uc=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function L1(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var wt=(()=>{let t=()=>j1;return t.ngInherit=!0,t})();function j1(t){return t.type.prototype.ngOnChanges&&(t.setInput=p2),f2}function f2(){let t=B1(this),n=t?.current;if(n){let e=t.previous;if(e===ii)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function p2(t,n,e,r,i){let o=this.declaredInputs[r],s=B1(t)||g2(t,{previous:ii,current:null}),a=s.current||(s.current={}),l=s.previous,p=l[o];a[o]=new Uc(p&&p.currentValue,e,l===ii),L1(t,n,i,e)}var V1="__ngSimpleChanges__";function B1(t){return t[V1]||null}function g2(t,n){return t[V1]=n}var a1=[];var Ee=function(t,n=null,e){for(let r=0;r<a1.length;r++){let i=a1[r];i(t,n,e)}};function h2(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=j1(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function U1(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:p,ngOnDestroy:g}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),p&&((t.viewHooks??=[]).push(e,p),(t.viewCheckHooks??=[]).push(e,p)),g!=null&&(t.destroyHooks??=[]).push(e,g)}}function Fc(t,n,e){H1(t,n,3,e)}function Lc(t,n,e,r){(t[ne]&3)===e&&H1(t,n,e,r)}function dg(t,n){let e=t[ne];(e&3)===n&&(e&=16383,e+=1,t[ne]=e)}function H1(t,n,e,r){let i=r!==void 0?t[Ui]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Ui]+=65536),(a<o||o==-1)&&(m2(t,e,n,l),t[Ui]=(t[Ui]&4294901760)+l+2),l++}function l1(t,n){Ee(4,t,n);let e=te(null);try{n.call(t)}finally{te(e),Ee(5,t,n)}}function m2(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[ne]>>14<t[Ui]>>16&&(t[ne]&3)===n&&(t[ne]+=16384,l1(a,o)):l1(a,o)}var zo=-1,Qi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=e,this.injectImpl=r}};function v2(t){return(t.flags&8)!==0}function b2(t){return(t.flags&16)!==0}function y2(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];C2(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function $1(t){return t===3||t===4||t===6}function C2(t){return t.charCodeAt(0)===64}function Go(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?c1(t,e,i,null,n[++r]):c1(t,e,i,null,null))}}return t}function c1(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function z1(t){return t!==zo}function Hc(t){return t&32767}function _2(t){return t>>16}function $c(t,n){let e=_2(t),r=n;for(;e>0;)r=r[Bi],e--;return r}var xg=!0;function zc(t){let n=xg;return xg=t,n}var x2=256,G1=x2-1,q1=5,w2=0,sr={};function M2(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(ji)&&(r=e[ji]),r==null&&(r=e[ji]=w2++);let i=r&G1,o=1<<i;n.data[t+(i>>q1)]|=o}function Gc(t,n){let e=W1(t,n);if(e!==-1)return e;let r=n[J];r.firstCreatePass&&(t.injectorIndex=n.length,fg(r.data,t),fg(n,null),fg(r.blueprint,null));let i=th(t,n),o=t.injectorIndex;if(z1(i)){let s=Hc(i),a=$c(i,n),l=a[J].data;for(let p=0;p<8;p++)n[o+p]=a[s+p]|l[s+p]}return n[o+8]=i,o}function fg(t,n){t.push(0,0,0,0,0,0,0,0,n)}function W1(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function th(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=J1(i),r===null)return zo;if(e++,i=i[Bi],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return zo}function wg(t,n,e){M2(t,n,e)}function E2(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if($1(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function Y1(t,n,e){if(e&8||t!==void 0)return t;yc(n,"NodeInjector")}function Q1(t,n,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let i=t[Vi],o=Ft(void 0);try{return i?i.get(n,r,e&8):Ip(n,r,e&8)}finally{Ft(o)}}return Y1(r,n,e)}function Z1(t,n,e,r=0,i){if(t!==null){if(n[ne]&2048&&!(r&2)){let s=P2(t,n,e,r,sr);if(s!==sr)return s}let o=K1(t,n,e,r,sr);if(o!==sr)return o}return Q1(n,e,r,i)}function K1(t,n,e,r,i){let o=D2(e);if(typeof o=="function"){if(!ng(n,t,r))return r&1?Y1(i,e,r):Q1(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&8))yc(e);else return s}finally{rg()}}else if(typeof o=="number"){let s=null,a=W1(t,n),l=zo,p=r&1?n[sn][wn]:null;for((a===-1||r&4)&&(l=a===-1?th(t,n):n[a+8],l===zo||!d1(r,!1)?a=-1:(s=n[J],a=Hc(l),n=$c(l,n)));a!==-1;){let g=n[J];if(u1(o,a,g.data)){let h=I2(a,n,e,s,r,p);if(h!==sr)return h}l=n[a+8],l!==zo&&d1(r,n[J].data[a+8]===p)&&u1(o,a,n)?(s=g,a=Hc(l),n=$c(l,n)):a=-1}}return i}function I2(t,n,e,r,i,o){let s=n[J],a=s.data[t+8],l=r==null?ai(a)&&xg:r!=s&&(a.type&3)!==0,p=i&1&&o===a,g=jc(a,s,e,l,p);return g!==null?da(n,s,g,a,i):sr}function jc(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,p=t.directiveEnd,g=o>>20,h=r?a:a+g,x=i?a+g:p;for(let b=h;b<x;b++){let S=s[b];if(b<l&&e===S||b>=l&&S.type===e)return b}if(i){let b=s[l];if(b&&ir(b)&&b.type===e)return l}return null}function da(t,n,e,r,i){let o=t[e],s=n.data;if(o instanceof Qi){let a=o;if(a.resolving){let b=gc(s[e]);throw Ep(b)}let l=zc(a.canSeeViewProviders);a.resolving=!0;let p=s[e].type||s[e],g,h=a.injectImpl?Ft(a.injectImpl):null,x=ng(t,r,0);try{o=t[e]=a.factory(void 0,i,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&h2(e,s[e],n)}finally{h!==null&&Ft(h),zc(l),a.resolving=!1,rg()}}return o}function D2(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(ji)?t[ji]:void 0;return typeof n=="number"?n>=0?n&G1:S2:n}function u1(t,n,e){let r=1<<t;return!!(e[n+(t>>q1)]&r)}function d1(t,n){return!(t&2)&&!(t&1&&n)}var Yi=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Z1(this._tNode,this._lView,n,Ri(r),e)}};function S2(){return new Yi(it(),K())}function un(t){return Yo(()=>{let n=t.prototype.constructor,e=n[Gs]||Mg(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Gs]||Mg(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mg(t){return mp(t)?()=>{let n=Mg(_t(t));return n&&n()}:ni(t)}function P2(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[ne]&2048&&!jo(s);){let a=K1(o,s,e,r|2,sr);if(a!==sr)return a;let l=o.parent;if(!l){let p=s[Lp];if(p){let g=p.get(e,sr,r);if(g!==sr)return g}l=J1(s),s=s[Bi]}o=l}return i}function J1(t){let n=t[J],e=n.type;return e===2?n.declTNode:e===1?t[wn]:null}function ba(t){return E2(it(),t)}function O2(){return Qo(it(),K())}function Qo(t,n){return new dt(Ln(t,n))}var dt=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=O2}return t})();function A2(t){return t instanceof dt?t.nativeElement:t}function T2(){return this._results[Symbol.iterator]()}var qc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ge}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let r=Dv(n);(this._changesDetected=!Iv(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=T2};function X1(t){return(t.flags&128)===128}var nh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nh||{}),eb=new Map,k2=0;function N2(){return k2++}function R2(t){eb.set(t[Js],t)}function Eg(t){eb.delete(t[Js])}var f1="__ngContext__";function qo(t,n){rr(n)?(t[f1]=n[Js],R2(n)):t[f1]=n}function tb(t){return rb(t[Fo])}function nb(t){return rb(t[xn])}function rb(t){for(;t!==null&&!Fn(t);)t=t[xn];return t}var Ig;function rh(t){Ig=t}function ib(){if(Ig!==void 0)return Ig;if(typeof document<"u")return document;throw new N(210,!1)}var cu=new U("",{providedIn:"root",factory:()=>F2}),F2="ng",uu=new U(""),Zo=new U("",{providedIn:"platform",factory:()=>"unknown"});var du=new U("",{providedIn:"root",factory:()=>ib().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var L2="h",j2="b";var ob="r";var sb="di";var ab=!1,lb=new U("",{providedIn:"root",factory:()=>ab});var V2=(t,n,e,r)=>{};function B2(t,n,e,r){V2(t,n,e,r)}function ih(t){return(t.flags&32)===32}var U2=()=>null;function cb(t,n,e=!1){return U2(t,n,e)}function ub(t,n){let e=t.contentQueries;if(e!==null){let r=te(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];Pc(o),a.contentQueries(2,n[s],s)}}}finally{te(r)}}}function Dg(t,n,e){Pc(0);let r=te(null);try{n(t,e)}finally{te(r)}}function oh(t,n,e){if(Vp(n)){let r=te(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{te(r)}}}var Tr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tr||{});var Nc;function H2(){if(Nc===void 0&&(Nc=null,Dr.trustedTypes))try{Nc=Dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nc}function p1(t){return H2()?.createScriptURL(t)||t}var Wc=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mc})`}};function Ko(t){return t instanceof Wc?t.changingThisBreaksApplicationSecurity:t}function sh(t,n){let e=db(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${mc})`)}return e===n}function db(t){return t instanceof Wc&&t.getTypeName()||null}var $2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fb(t){return t=String(t),t.match($2)?t:"unsafe:"+t}var fu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fu||{});function Ce(t){let n=gb();return n?n.sanitize(fu.URL,t)||"":sh(t,"URL")?Ko(t):fb(Vt(t))}function pb(t){let n=gb();if(n)return p1(n.sanitize(fu.RESOURCE_URL,t)||"");if(sh(t,"ResourceURL"))return p1(Ko(t));throw new N(904,!1)}function z2(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?pb:Ce}function ah(t,n,e){return z2(n,e)(t)}function gb(){let t=K();return t&&t[tr].sanitizer}var G2=/^>|^->|<!--|-->|--!>|<!-$/g,q2=/(<|>)/g,W2="\u200B$1\u200B";function Y2(t){return t.replace(G2,n=>n.replace(q2,W2))}function ya(t){return t.ownerDocument.defaultView}function hb(t){return t instanceof Function?t():t}function Q2(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var mb="ng-template";function Z2(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&Q2(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(lh(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function lh(t){return t.type===4&&t.value!==mb}function K2(t,n,e){let r=t.type===4&&!e?mb:t.value;return n===r}function J2(t,n,e){let r=4,i=t.attrs,o=i!==null?tM(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Vn(r)&&!Vn(l))return!1;if(s&&Vn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!K2(t,l,e)||l===""&&n.length===1){if(Vn(r))return!1;s=!0}}else if(r&8){if(i===null||!Z2(t,i,l,e)){if(Vn(r))return!1;s=!0}}else{let p=n[++a],g=X2(l,i,lh(t),e);if(g===-1){if(Vn(r))return!1;s=!0;continue}if(p!==""){let h;if(g>o?h="":h=i[g+1].toLowerCase(),r&2&&p!==h){if(Vn(r))return!1;s=!0}}}}return Vn(r)||s}function Vn(t){return(t&1)===0}function X2(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nM(n,t)}function eM(t,n,e=!1){for(let r=0;r<n.length;r++)if(J2(t,n[r],e))return!0;return!1}function tM(t){for(let n=0;n<t.length;n++){let e=t[n];if($1(e))return n}return t.length}function nM(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function g1(t,n){return t?":not("+n.trim()+")":n}function rM(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vn(s)&&(n+=g1(o,i),i=""),r=s,o=o||!Vn(r);e++}return i!==""&&(n+=g1(o,i)),n}function iM(t){return t.map(rM).join(",")}function oM(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!Vn(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var ft={};function sM(t,n){return t.createText(n)}function aM(t,n,e){t.setValue(n,e)}function lM(t,n){return t.createComment(Y2(n))}function vb(t,n,e){return t.createElement(n,e)}function Yc(t,n,e,r,i){t.insertBefore(n,e,r,i)}function bb(t,n,e){t.appendChild(n,e)}function h1(t,n,e,r,i){r!==null?Yc(t,n,e,r,i):bb(t,n,e)}function yb(t,n,e){t.removeChild(null,n,e)}function cM(t,n,e){t.setAttribute(n,"style",e)}function uM(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Cb(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&y2(t,n,r),i!==null&&uM(t,n,i),o!==null&&cM(t,n,o)}function ch(t,n,e,r,i,o,s,a,l,p,g){let h=Le+r,x=h+i,b=dM(h,x),S=typeof p=="function"?p():p;return b[J]={type:t,blueprint:b,template:e,queries:null,viewQuery:a,declTNode:n,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1,ssrId:g}}function dM(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:ft);return e}function fM(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=ch(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function uh(t,n,e,r,i,o,s,a,l,p,g){let h=n.blueprint.slice();return h[Rn]=i,h[ne]=r|4|128|8|64|1024,(p!==null||t&&t[ne]&2048)&&(h[ne]|=2048),$p(h),h[ut]=h[Bi]=t,h[et]=e,h[tr]=s||t&&t[tr],h[Oe]=a||t&&t[Oe],h[Vi]=l||t&&t[Vi]||null,h[wn]=o,h[Js]=N2(),h[No]=g,h[Lp]=p,h[sn]=n.type==2?t[sn]:h,h}function pM(t,n,e){let r=Ln(n,t),i=fM(e),o=t[tr].rendererFactory,s=dh(t,uh(t,i,null,_b(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=s}function _b(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function xb(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function dh(t,n){return t[Fo]?t[Fp][xn]=n:t[Fo]=n,t[Fp]=n,n}function d(t=1){wb(je(),K(),jn()+t,!1)}function wb(t,n,e,r){if(!r)if((n[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fc(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Lc(n,o,0,e)}ci(e)}var pu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pu||{});function Sg(t,n,e,r){let i=te(null);try{let[o,s,a]=t.inputs[e],l=null;(s&pu.SignalBased)!==0&&(l=n[o][Dt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,o):L1(n,l,o,r)}finally{te(i)}}var Un=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Un||{}),gM;function fh(t,n){return gM(t,n)}function $o(t,n,e,r,i){if(r!=null){let o,s=!1;Fn(r)?o=r:rr(r)&&(s=!0,r=r[Rn]);let a=Mn(r);t===0&&e!==null?i==null?bb(n,e,a):Yc(n,e,a,i||null,!0):t===1&&e!==null?Yc(n,e,a,i||null,!0):t===2?yb(n,a,s):t===3&&n.destroyNode(a),o!=null&&IM(n,t,o,e,i)}}function hM(t,n){Mb(t,n),n[Rn]=null,n[wn]=null}function mM(t,n,e,r,i,o){r[Rn]=i,r[wn]=n,hu(t,r,e,1,i,o)}function Mb(t,n){n[tr].changeDetectionScheduler?.notify(9),hu(t,n,n[Oe],2,null,null)}function vM(t){let n=t[Fo];if(!n)return pg(t[J],t);for(;n;){let e=null;if(rr(n))e=n[Fo];else{let r=n[bt];r&&(e=r)}if(!e){for(;n&&!n[xn]&&n!==t;)rr(n)&&pg(n[J],n),n=n[ut];n===null&&(n=t),rr(n)&&pg(n[J],n),e=n&&n[xn]}n=e}}function ph(t,n){let e=t[$i],r=e.indexOf(n);e.splice(r,1)}function gu(t,n){if(zi(n))return;let e=n[Oe];e.destroyNode&&hu(t,n,e,3,null,null),vM(n)}function pg(t,n){if(zi(n))return;let e=te(null);try{n[ne]&=-129,n[ne]|=256,n[an]&&xo(n[an]),yM(t,n),bM(t,n),n[J].type===1&&n[Oe].destroy();let r=n[oi];if(r!==null&&Fn(n[ut])){r!==n[ut]&&ph(r,n);let i=n[nr];i!==null&&i.detachView(t)}Eg(n)}finally{te(e)}}function bM(t,n){let e=t.cleanup,r=n[Ro];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[Ro]=null);let i=n[Mr];if(i!==null){n[Mr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Or];if(o!==null){n[Or]=null;for(let s of o)s.destroy()}}function yM(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof Qi)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ee(4,a,l);try{l.call(a)}finally{Ee(5,a,l)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function CM(t,n,e){return _M(t,n.parent,e)}function _M(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Rn];if(ai(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Tr.None||i===Tr.Emulated)return null}return Ln(r,e)}function xM(t,n,e){return MM(t,n,e)}function wM(t,n,e){return t.type&40?Ln(t,e):null}var MM=wM,m1;function gh(t,n,e,r){let i=CM(t,r,n),o=n[Oe],s=r.parent||n[wn],a=xM(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)h1(o,i,e[l],a,!1);else h1(o,i,e,a,!1);m1!==void 0&&m1(o,r,n,e,i)}function ca(t,n){if(n!==null){let e=n.type;if(e&3)return Ln(n,t);if(e&4)return Pg(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return ca(t,r);{let i=t[n.index];return Fn(i)?Pg(-1,i):Mn(i)}}else{if(e&128)return ca(t,n.next);if(e&32)return fh(n,t)()||Mn(t[n.index]);{let r=Eb(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=ri(t[sn]);return ca(i,r)}else return ca(t,n.next)}}}return null}function Eb(t,n){if(n!==null){let r=t[sn][wn],i=n.projection;return r.projection[i]}return null}function Pg(t,n){let e=bt+t+1;if(e<n.length){let r=n[e],i=r[J].firstChild;if(i!==null)return ca(r,i)}return n[si]}function hh(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&qo(Mn(a),r),e.flags|=2),!ih(e))if(l&8)hh(t,n,e.child,r,i,o,!1),$o(n,t,i,a,o);else if(l&32){let p=fh(e,r),g;for(;g=p();)$o(n,t,i,g,o);$o(n,t,i,a,o)}else l&16?EM(t,n,r,e,i,o):$o(n,t,i,a,o);e=s?e.projectionNext:e.next}}function hu(t,n,e,r,i,o){hh(e,r,t.firstChild,n,i,o,!1)}function EM(t,n,e,r,i,o){let s=e[sn],l=s[wn].projection[r.projection];if(Array.isArray(l))for(let p=0;p<l.length;p++){let g=l[p];$o(n,t,i,g,o)}else{let p=l,g=s[ut];X1(r)&&(p.flags|=128),hh(t,n,p,g,i,o,!0)}}function IM(t,n,e,r,i){let o=e[si],s=Mn(e);o!==s&&$o(n,t,r,o,i);for(let a=bt;a<e.length;a++){let l=e[a];hu(l[J],l,t,n,r,o)}}function DM(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Un.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Un.Important),t.setStyle(e,r,i,o))}}function Ib(t,n,e,r,i){let o=jn(),s=r&2;try{ci(-1),s&&n.length>Le&&wb(t,n,Le,!1),Ee(s?2:0,i,e),e(r,i)}finally{ci(o),Ee(s?3:1,i,e)}}function mu(t,n,e){kM(t,n,e),(e.flags&64)===64&&NM(t,n,e)}function Ca(t,n,e=Ln){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function SM(t,n,e,r){let o=r.get(lb,ab)||e===Tr.ShadowDom,s=t.selectRootElement(n,o);return PM(s),s}function PM(t){OM(t)}var OM=()=>null;function AM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Db(t,n,e,r,i,o){let s=n[J];if(yh(t,s,n,e,r)){ai(t)&&TM(n,t.index);return}t.type&3&&(e=AM(e)),Sb(t,n,e,r,i,o)}function Sb(t,n,e,r,i,o){if(t.type&3){let s=Ln(t,n);r=o!=null?o(r,t.value||"",e):r,i.setProperty(s,e,r)}else t.type&12}function TM(t,n){let e=En(n,t);e[ne]&16||(e[ne]|=64)}function kM(t,n,e){let r=e.directiveStart,i=e.directiveEnd;ai(e)&&pM(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Gc(e,n);let o=e.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=da(n,t,s,e);if(qo(l,n),o!==null&&jM(n,s-r,l,a,e,o),ir(a)){let p=En(e.index,n);p[et]=da(n,t,s,e)}}}function NM(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=Jv();try{ci(o);for(let a=r;a<i;a++){let l=t.data[a],p=n[a];Sc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&RM(l,p)}}finally{ci(-1),Sc(s)}}function RM(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function mh(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];eM(n,o.selectors,!1)&&(r??=[],ir(o)?r.unshift(o):r.push(o))}return r}function FM(t,n,e,r,i,o){let s=Ln(t,n);LM(n[Oe],s,o,t.value,e,r,i)}function LM(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Vt(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function jM(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],p=s[a+1];Sg(r,e,l,p)}}function vh(t,n,e,r,i){let o=Le+e,s=n[J],a=i(s,n,t,r,e);n[o]=a,Vo(t,!0);let l=t.type===2;return l?(Cb(n[Oe],a,t),($v()===0||Lo(t))&&qo(a,n),zv()):qo(a,n),Tc()&&(!l||!ih(t))&&gh(s,n,a,t),t}function bh(t){let n=t;return Jp()?Wv():(n=n.parent,Vo(n,!1)),n}function VM(t,n){let e=t[Vi];if(!e)return;e.get(Pt,null)?.(n)}function yh(t,n,e,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let p=s[l],g=s[l+1],h=n.data[p];Sg(h,e[p],g,i),a=!0}if(o)for(let l of o){let p=e[l],g=n.data[l];Sg(g,p,r,i),a=!0}return a}function BM(t,n){let e=En(n,t),r=e[J];UM(r,e);let i=e[Rn];i!==null&&e[No]===null&&(e[No]=cb(i,e[Vi])),Ee(18),Ch(r,e,e[et]),Ee(19,e[et])}function UM(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Ch(t,n,e){Oc(n);try{let r=t.viewQuery;r!==null&&Dg(1,r,e);let i=t.template;i!==null&&Ib(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[nr]?.finishViewCreation(t),t.staticContentQueries&&ub(t,n),t.staticViewQueries&&Dg(2,t.viewQuery,e);let o=t.components;o!==null&&HM(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[ne]&=-5,Ac()}}function HM(t,n){for(let e=0;e<n.length;e++)BM(t,n[e])}function vu(t,n,e,r){let i=te(null);try{let o=n.tView,a=t[ne]&4096?4096:16,l=uh(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),p=t[n.index];l[oi]=p;let g=t[nr];return g!==null&&(l[nr]=g.createEmbeddedView(o)),Ch(o,l,e),l}finally{te(i)}}function fa(t,n){return!n||n.firstChild===null||X1(t)}var v1=!1,$M=new U("");function pa(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(Mn(o)),Fn(o)&&Pb(o,r);let s=e.type;if(s&8)pa(t,n,e.child,r);else if(s&32){let a=fh(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Eb(n,e);if(Array.isArray(a))r.push(...a);else{let l=ri(n[sn]);pa(l[J],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function Pb(t,n){for(let e=bt;e<t.length;e++){let r=t[e],i=r[J].firstChild;i!==null&&pa(r[J],r,i,n)}t[si]!==t[Rn]&&n.push(t[si])}function Ob(t){if(t[Hi]!==null){for(let n of t[Hi])n.impl.addSequence(n);t[Hi].length=0}}var Ab=[];function zM(t){return t[an]??GM(t)}function GM(t){let n=Ab.pop()??Object.create(WM);return n.lView=t,n}function qM(t){t.lView[an]!==t&&(t.lView=null,Ab.push(t))}var WM=ie(T({},Yr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{li(t.lView)},consumerOnSignalRead(){this.lView[an]=this}});function YM(t){let n=t[an]??Object.create(QM);return n.lView=t,n}var QM=ie(T({},Yr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=ri(t.lView);for(;n&&!Tb(n[J]);)n=ri(n);n&&zp(n)},consumerOnSignalRead(){this.lView[an]=this}});function Tb(t){return t.type!==2}function kb(t){if(t[Or]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Or])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[ne]&8192)}}var ZM=100;function _h(t,n=0){let r=t[tr].rendererFactory,i=!1;i||r.begin?.();try{KM(t,n)}finally{i||r.end?.()}}function KM(t,n){let e=eg();try{Bo(!0),Og(t,n);let r=0;for(;na(t);){if(r===ZM)throw new N(103,!1);r++,Og(t,1)}}finally{Bo(e)}}function Nb(t,n){Xp(n?ra.Exhaustive:ra.OnlyDirtyViews);try{_h(t)}finally{Xp(ra.Off)}}function JM(t,n,e,r){if(zi(n))return;let i=n[ne],o=!1,s=!1;Oc(n);let a=!0,l=null,p=null;o||(Tb(t)?(p=zM(n),l=Qr(p)):Ol()===null?(a=!1,p=YM(n),l=Qr(p)):n[an]&&(xo(n[an]),n[an]=null));try{$p(n),Qv(t.bindingStartIndex),e!==null&&Ib(t,n,e,2,r);let g=(i&3)===3;if(!o)if(g){let b=t.preOrderCheckHooks;b!==null&&Fc(n,b,null)}else{let b=t.preOrderHooks;b!==null&&Lc(n,b,0,null),dg(n,0)}if(s||XM(n),kb(n),Rb(n,0),t.contentQueries!==null&&ub(t,n),!o)if(g){let b=t.contentCheckHooks;b!==null&&Fc(n,b)}else{let b=t.contentHooks;b!==null&&Lc(n,b,1),dg(n,1)}tE(t,n);let h=t.components;h!==null&&Lb(n,h,0);let x=t.viewQuery;if(x!==null&&Dg(2,x,r),!o)if(g){let b=t.viewCheckHooks;b!==null&&Fc(n,b)}else{let b=t.viewHooks;b!==null&&Lc(n,b,2),dg(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[wc]){for(let b of n[wc])b();n[wc]=null}o||(Ob(n),n[ne]&=-73)}catch(g){throw o||li(n),g}finally{p!==null&&(Di(p,l),a&&qM(p)),Ac()}}function Rb(t,n){for(let e=tb(t);e!==null;e=nb(e))for(let r=bt;r<e.length;r++){let i=e[r];Fb(i,n)}}function XM(t){for(let n=tb(t);n!==null;n=nb(n)){if(!(n[ne]&2))continue;let e=n[$i];for(let r=0;r<e.length;r++){let i=e[r];zp(i)}}}function eE(t,n,e){Ee(18);let r=En(n,t);Fb(r,e),Ee(19,r[et])}function Fb(t,n){Mc(t)&&Og(t,n)}function Og(t,n){let r=t[J],i=t[ne],o=t[an],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&_o(o)),s||=!1,o&&(o.dirty=!1),t[ne]&=-9217,s)JM(r,t,r.template,t[et]);else if(i&8192){let a=te(null);try{kb(t),Rb(t,1);let l=r.components;l!==null&&Lb(t,l,1),Ob(t)}finally{te(a)}}}function Lb(t,n,e){for(let r=0;r<n.length;r++)eE(t,n[r],e)}function tE(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)ci(~i);else{let o=i,s=e[++r],a=e[++r];Kv(s,o);let l=n[o];Ee(24,l),a(2,l),Ee(25,l)}}}finally{ci(-1)}}function xh(t,n){let e=eg()?64:1088;for(t[tr].changeDetectionScheduler?.notify(n);t;){t[ne]|=e;let r=ri(t);if(jo(t)&&!r)return t;t=r}return null}function jb(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function Vb(t,n){let e=bt+n;if(e<t.length)return t[e]}function bu(t,n,e,r=!0){let i=n[J];if(nE(i,n,t,e),r){let s=Pg(e,t),a=n[Oe],l=a.parentNode(t[si]);l!==null&&mM(i,t[wn],a,n,l,s)}let o=n[No];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Bb(t,n){let e=ga(t,n);return e!==void 0&&gu(e[J],e),e}function ga(t,n){if(t.length<=bt)return;let e=bt+n,r=t[e];if(r){let i=r[oi];i!==null&&i!==t&&ph(i,r),n>0&&(t[e-1][xn]=r[xn]);let o=Qs(t,bt+n);hM(r[J],r);let s=o[nr];s!==null&&s.detachView(o[J]),r[ut]=null,r[xn]=null,r[ne]&=-129}return r}function nE(t,n,e,r){let i=bt+r,o=e.length;r>0&&(e[i-1][xn]=n),r<o-bt?(n[xn]=e[i],Sp(e,bt+r,n)):(e.push(n),n[xn]=null),n[ut]=e;let s=n[oi];s!==null&&e!==s&&Ub(s,n);let a=n[nr];a!==null&&a.insertView(t),Ec(n),n[ne]|=128}function Ub(t,n){let e=t[$i],r=n[ut];if(rr(r))t[ne]|=2;else{let i=r[ut][sn];n[sn]!==i&&(t[ne]|=2)}e===null?t[$i]=[n]:e.push(n)}var ui=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,e=n[J];return pa(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[et]}set context(n){this._lView[et]=n}get destroyed(){return zi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ut];if(Fn(n)){let e=n[Xs],r=e?e.indexOf(this):-1;r>-1&&(ga(n,r),Qs(e,r))}this._attachedToViewContainer=!1}gu(this._lView[J],this._lView)}onDestroy(n){Gp(this._lView,n)}markForCheck(){xh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Ec(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,_h(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Vi].get($M,v1)}catch{this.exhaustive=v1}}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=jo(this._lView),e=this._lView[oi];e!==null&&!n&&ph(e,this._lView),Mb(this._lView[J],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=n;let e=jo(this._lView),r=this._lView[oi];r!==null&&!e&&Ub(r,this._lView),Ec(this._lView)}};var ar=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rE;constructor(e,r,i){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,i){let o=vu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:i});return new ui(o)}}return t})();function rE(){return yu(it(),K())}function yu(t,n){return t.type&4?new ar(n,t,Qo(t,n)):null}function _a(t,n,e,r,i){let o=t.data[n];if(o===null)o=iE(t,n,e,r,i),Zv()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=qv();o.injectorIndex=s===null?-1:s.injectorIndex}return Vo(o,!0),o}function iE(t,n,e,r,i){let o=Kp(),s=Jp(),a=s?o:o&&o.parent,l=t.data[n]=sE(t,a,e,n,r,i);return oE(t,l,o,s),l}function oE(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function sE(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Gv()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var E7=new RegExp(`^(\\d+)*(${j2}|${L2})*(.*)`);function aE(t){let n=t[jp]??[],r=t[ut][Oe],i=[];for(let o of n)o.data[sb]!==void 0?i.push(o):lE(o,r);t[jp]=i}function lE(t,n){let e=0,r=t.firstChild;if(r){let i=t.data[ob];for(;e<i;){let o=r.nextSibling;yb(n,r,!1),r=o,e++}}}var cE=()=>null,uE=()=>null;function Ag(t,n){return cE(t,n)}function Hb(t,n,e){return uE(t,n,e)}var $b=class{},Cu=class{},Tg=class{resolveComponentFactory(n){throw new N(917,!1)}},xa=class{static NULL=new Tg},Zi=class{},Xt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>dE()}return t})();function dE(){let t=K(),n=it(),e=En(n.index,t);return(rr(e)?e:t)[Oe]}var zb=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>null})}return t})();var Vc={},kg=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){let i=this.injector.get(n,Vc,r);return i!==Vc||e===Vc?i:this.parentInjector.get(n,e,r)}};function Qc(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=vc(i,a);else if(o==2){let l=a,p=n[++s];r=vc(r,l+": "+p+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function C(t,n=0){let e=K();if(e===null)return F(t,n);let r=it();return Z1(r,e,_t(t),n)}function wh(){let t="invalid";throw new Error(t)}function Gb(t,n,e,r,i){let o=r===null?null:{"":-1},s=i(t,e);if(s!==null){let a=s,l=null,p=null;for(let g of s)if(g.resolveHostDirectives!==null){[a,l,p]=g.resolveHostDirectives(s);break}gE(t,n,e,a,o,l,p)}o!==null&&r!==null&&fE(e,r,o)}function fE(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new N(-301,!1);r.push(n[i],o)}}function pE(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function gE(t,n,e,r,i,o,s){let a=r.length,l=!1;for(let x=0;x<a;x++){let b=r[x];!l&&ir(b)&&(l=!0,pE(t,e,x)),wg(Gc(e,n),t,b.type)}CE(e,t.data.length,a);for(let x=0;x<a;x++){let b=r[x];b.providersResolver&&b.providersResolver(b)}let p=!1,g=!1,h=xb(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let x=0;x<a;x++){let b=r[x];if(e.mergedAttrs=Go(e.mergedAttrs,b.hostAttrs),mE(t,e,n,h,b),yE(h,b,i),s!==null&&s.has(b)){let[$,j]=s.get(b);e.directiveToIndex.set(b.type,[h,$+e.directiveStart,j+e.directiveStart])}else(o===null||!o.has(b))&&e.directiveToIndex.set(b.type,h);b.contentQueries!==null&&(e.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(e.flags|=64);let S=b.type.prototype;!p&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),p=!0),!g&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),g=!0),h++}hE(t,e,o)}function hE(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))b1(0,n,i,r),b1(1,n,i,r),C1(n,r,!1);else{let o=e.get(i);y1(0,n,o,r),y1(1,n,o,r),C1(n,r,!0)}}}function b1(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),qb(n,o)}}function y1(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qb(n,s)}}function qb(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function C1(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||lh(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let p=i[l];for(let g of p)if(g===n){s??=[],s.push(l,r[a+1]);break}}else if(e&&o.hasOwnProperty(l)){let p=o[l];for(let g=0;g<p.length;g+=2)if(p[g]===n){s??=[],s.push(p[g+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function mE(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=ni(i.type,!0)),s=new Qi(o,ir(i),C,null);t.blueprint[r]=s,e[r]=s,vE(t,n,r,xb(t,e,i.hostVars,ft),i)}function vE(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;bE(s)!=a&&s.push(a),s.push(e,r,o)}}function bE(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function yE(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;ir(n)&&(e[""]=t)}}function CE(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Mh(t,n,e,r,i,o,s,a){let l=n[J],p=l.consts,g=In(p,s),h=_a(l,t,e,r,g);return o&&Gb(l,n,h,In(p,a),i),h.mergedAttrs=Go(h.mergedAttrs,h.attrs),h.attrs!==null&&Qc(h,h.attrs,!1),h.mergedAttrs!==null&&Qc(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function Eh(t,n){U1(t,n),Vp(n)&&t.queries.elementEnd(n)}function _E(t,n,e,r,i,o){let s=n.consts,a=In(s,i),l=_a(n,t,e,r,a);if(l.mergedAttrs=Go(l.mergedAttrs,l.attrs),o!=null){let p=In(s,o);l.localNames=[];for(let g=0;g<p.length;g+=2)l.localNames.push(p[g],-1)}return l.attrs!==null&&Qc(l,l.attrs,!1),l.mergedAttrs!==null&&Qc(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function Ih(t){return _u(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Wb(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function _u(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function xu(t,n,e){return t[n]=e}function xE(t,n){return t[n]}function Jt(t,n,e){if(e===ft)return!1;let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function ha(t,n,e,r){let i=Jt(t,n,e);return Jt(t,n+1,r)||i}function Yb(t,n,e,r,i){let o=ha(t,n,e,r);return Jt(t,n+2,i)||o}function wE(t,n,e,r,i,o){let s=ha(t,n,e,r);return ha(t,n+2,i,o)||s}function Bc(t,n,e){return function r(i){let o=ai(t)?En(t.index,n):n;xh(o,5);let s=n[et],a=_1(n,s,e,i),l=r.__ngNextListenerFn__;for(;l;)a=_1(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function _1(t,n,e,r){let i=te(null);try{return Ee(6,n,e),e(r)!==!1}catch(o){return VM(t,o),!1}finally{Ee(7,n,e),te(i)}}function Qb(t,n,e,r,i,o,s,a){let l=Lo(t),p=!1,g=null;if(!r&&l&&(g=ME(n,e,o,t.index)),g!==null){let h=g.__ngLastListenerFn__||g;h.__ngNextListenerFn__=s,g.__ngLastListenerFn__=s,p=!0}else{let h=Ln(t,e),x=r?r(h):h;B2(e,x,o,a);let b=i.listen(x,o,a),S=r?$=>r(Mn($[t.index])):t.index;Zb(S,n,e,o,a,b,!1)}return p}function ME(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[Ro],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Zb(t,n,e,r,i,o,s){let a=n.firstCreatePass?Wp(n):null,l=qp(e),p=l.length;l.push(i,o),a&&a.push(r,t,p,(p+1)*(s?-1:1))}function x1(t,n,e,r,i,o){let s=n[e],a=n[J],p=a.data[e].outputs[r],h=s[p].subscribe(o);Zb(t.index,a,n,i,o,h,!0)}var Ng=Symbol("BINDING");var Zc=class extends xa{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Pr(n);return new Ki(e,this.ngModule)}};function EE(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&pu.SignalBased)!==0};return i&&(o.transform=i),o})}function IE(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function DE(t,n,e){let r=n instanceof Xe?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new kg(e,r):e}function SE(t){let n=t.get(Zi,null);if(n===null)throw new N(407,!1);let e=t.get(zb,null),r=t.get(Nn,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function PE(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return vb(n,e,e==="svg"?Bp:e==="math"?Lv:null)}var Ki=class extends Cu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=EE(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=IE(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=iM(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i,o,s){Ee(22);let a=te(null);try{let l=this.componentDef,p=OE(r,l,s,o),g=DE(l,i||this.ngModule,n),h=SE(g),x=h.rendererFactory.createRenderer(null,l),b=r?SM(x,r,l.encapsulation,g):PE(l,x),S=s?.some(w1)||o?.some(V=>typeof V!="function"&&V.bindings.some(w1)),$=uh(null,p,null,512|_b(l),null,null,h,x,g,null,cb(b,g,!0));$[Le]=b,Oc($);let j=null;try{let V=Mh(Le,$,2,"#host",()=>p.directiveRegistry,!0,0);b&&(Cb(x,b,V),qo(b,$)),mu(p,$,V),oh(p,V,$),Eh(p,V),e!==void 0&&TE(V,this.ngContentSelectors,e),j=En(V.index,$),$[et]=j[et],Ch(p,$,null)}catch(V){throw j!==null&&Eg(j),Eg($),V}finally{Ee(23),Ac()}return new Kc(this.componentType,$,!!S)}finally{te(a)}}};function OE(t,n,e,r){let i=t?["ng-version","20.1.3"]:oM(n.selectors[0]),o=null,s=null,a=0;if(e)for(let g of e)a+=g[Ng].requiredVars,g.create&&(g.targetIdx=0,(o??=[]).push(g)),g.update&&(g.targetIdx=0,(s??=[]).push(g));if(r)for(let g=0;g<r.length;g++){let h=r[g];if(typeof h!="function")for(let x of h.bindings){a+=x[Ng].requiredVars;let b=g+1;x.create&&(x.targetIdx=b,(o??=[]).push(x)),x.update&&(x.targetIdx=b,(s??=[]).push(x))}}let l=[n];if(r)for(let g of r){let h=typeof g=="function"?g:g.type,x=Tp(h);l.push(x)}return ch(0,null,AE(o,s),1,a,l,null,null,null,[i],null)}function AE(t,n){return!t&&!n?null:e=>{if(e&1&&t)for(let r of t)r.create();if(e&2&&n)for(let r of n)r.update()}}function w1(t){let n=t[Ng].kind;return n==="input"||n==="twoWay"}var Kc=class extends $b{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=ea(e[J],Le),this.location=Qo(this._tNode,e),this.instance=En(this._tNode.index,e)[et],this.hostView=this.changeDetectorRef=new ui(e,void 0),this.componentType=n}setInput(n,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=yh(r,i[J],i,n,e);this.previousInputValues.set(n,e);let s=En(r.index,i);xh(s,1)}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function TE(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Hn=(()=>{class t{static __NG_ELEMENT_ID__=kE}return t})();function kE(){let t=it();return Jb(t,K())}var NE=Hn,Kb=class extends NE{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){let n=th(this._hostTNode,this._hostLView);if(z1(n)){let e=$c(n,this._hostLView),r=Hc(n),i=e[J].data[r+8];return new Yi(i,e)}else return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=M1(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ag(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,fa(this._hostTNode,s)),a}createComponent(n,e,r,i,o,s,a){let l=n&&!d2(n),p;if(l)p=e;else{let j=e||{};p=j.index,r=j.injector,i=j.projectableNodes,o=j.environmentInjector||j.ngModuleRef,s=j.directives,a=j.bindings}let g=l?n:new Ki(Pr(n)),h=r||this.parentInjector;if(!o&&g.ngModule==null){let V=(l?h:this.parentInjector).get(Xe,null);V&&(o=V)}let x=Pr(g.componentType??{}),b=Ag(this._lContainer,x?.id??null),S=b?.firstChild??null,$=g.create(h,i,S,o,s,a);return this.insertImpl($.hostView,p,fa(this._hostTNode,b)),$}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(Vv(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[ut],p=new Kb(l,l[wn],l[ut]);p.detach(p.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return bu(s,i,o,r),n.attachToViewContainerRef(),Sp(gg(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=M1(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=ga(this._lContainer,e);r&&(Qs(gg(this._lContainer),e),gu(r[J],r))}detach(n){let e=this._adjustIndex(n,-1),r=ga(this._lContainer,e);return r&&Qs(gg(this._lContainer),e)!=null?new ui(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function M1(t){return t[Xs]}function gg(t){return t[Xs]||(t[Xs]=[])}function Jb(t,n){let e,r=n[t.index];return Fn(r)?e=r:(e=jb(r,n,null,t),n[t.index]=e,dh(n,e)),FE(e,n,t,r),new Kb(e,t,n)}function RE(t,n){let e=t[Oe],r=e.createComment(""),i=Ln(n,t),o=e.parentNode(i);return Yc(e,o,r,e.nextSibling(i),!1),r}var FE=VE,LE=()=>!1;function jE(t,n,e){return LE(t,n,e)}function VE(t,n,e,r){if(t[si])return;let i;e.type&8?i=Mn(r):i=RE(n,e),t[si]=i}var Rg=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Fg=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let r=n.contentQueries!==null?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)Dh(n,e).matches!==null&&this.queries[e].setDirty()}},Jc=class{flags;read;predicate;constructor(n,e,r=null){this.flags=e,this.read=r,typeof n=="string"?this.predicate=WE(n):this.predicate=n}},Lg=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},jg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,e,BE(e,o)),this.matchTNodeWithReadOption(n,e,jc(e,n,o,!1,!1))}else r===ar?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,jc(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===dt||i===Hn||i===ar&&e.type&4)this.addMatch(e.index,-2);else{let o=jc(e,n,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function BE(t,n){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1]}return null}function UE(t,n){return t.type&11?Qo(t,n):t.type&4?yu(t,n):null}function HE(t,n,e,r){return e===-1?UE(n,t):e===-2?$E(t,n,r):da(t,t[J],e,n)}function $E(t,n,e){if(e===dt)return Qo(n,t);if(e===ar)return yu(n,t);if(e===Hn)return Jb(n,t)}function Xb(t,n,e,r){let i=n[nr].queries[r];if(i.matches===null){let o=t.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let p=s[l];if(p<0)a.push(null);else{let g=o[p];a.push(HE(n,g,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function Vg(t,n,e,r){let i=t.queries.getByIndex(e),o=i.matches;if(o!==null){let s=Xb(t,n,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let p=o[a+1],g=n[-l];for(let h=bt;h<g.length;h++){let x=g[h];x[oi]===x[ut]&&Vg(x[J],x,p,r)}if(g[$i]!==null){let h=g[$i];for(let x=0;x<h.length;x++){let b=h[x];Vg(b[J],b,p,r)}}}}}return r}function zE(t,n){return t[nr].queries[n].queryList}function ey(t,n,e){let r=new qc((e&4)===4);return Hv(t,n,r,r.destroy),(n[nr]??=new Fg).queries.push(new Rg(r))-1}function GE(t,n,e){let r=je();return r.firstCreatePass&&(ty(r,new Jc(t,n,e),-1),(n&2)===2&&(r.staticViewQueries=!0)),ey(r,K(),n)}function qE(t,n,e,r){let i=je();if(i.firstCreatePass){let o=it();ty(i,new Jc(n,e,r),o.index),YE(i,t),(e&2)===2&&(i.staticContentQueries=!0)}return ey(i,K(),e)}function WE(t){return t.split(",").map(n=>n.trim())}function ty(t,n,e){t.queries===null&&(t.queries=new Lg),t.queries.track(new jg(n,e))}function YE(t,n){let e=t.contentQueries||(t.contentQueries=[]),r=e.length?e[e.length-1]:-1;n!==r&&e.push(t.queries.length-1,n)}function Dh(t,n){return t.queries.getByIndex(n)}function QE(t,n){let e=t[J],r=Dh(e,n);return r.crossesNgTemplate?Vg(e,t,n,[]):Xb(e,t,r,n)}var E1=new Set;function $n(t){E1.has(t)||(E1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Ji=class{},wu=class{};var Xc=class extends Ji{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zc(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Ap(n);this._bootstrapComponents=hb(o.bootstrap),this._r3Injector=ig(n,e,[{provide:Ji,useValue:this},{provide:xa,useValue:this.componentFactoryResolver},...r],Er(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},eu=class extends wu{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Xc(this.moduleType,n,[])}};var ma=class extends Ji{injector;componentFactoryResolver=new Zc(this);instance=null;constructor(n){super();let e=new Li([...n.providers,{provide:Ji,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],n.parent||Ks(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Jo(t,n,e=null){return new ma({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var ZE=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=kp(!1,e.type),i=r.length>0?Jo([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:t,providedIn:"environment",factory:()=>new t(F(Xe))})}return t})();function k(t){return Yo(()=>{let n=ny(t),e=ie(T({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(ZE).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tr.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&$n("NgStandalone"),ry(e);let r=t.dependencies;return e.directiveDefs=I1(r,KE),e.pipeDefs=I1(r,Pv),e.id=eI(e),e})}function KE(t){return Pr(t)||Tp(t)}function en(t){return Yo(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function JE(t,n){if(t==null)return ii;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=pu.None,l=null),e[o]=[r,a,l],n[o]=s}return e}function XE(t){if(t==null)return ii;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function ye(t){return Yo(()=>{let n=ny(t);return ry(n),n})}function dn(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ny(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||ii,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:JE(t.inputs,n),outputs:XE(t.outputs),debugInfo:null}}function ry(t){t.features?.forEach(n=>n(t))}function I1(t,n){return t?()=>{let e=typeof t=="function"?t():t,r=[];for(let i of e){let o=n(i);o!==null&&r.push(o)}return r}:null}function eI(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function tI(t){return Object.getPrototypeOf(t.prototype).constructor}function Ut(t){let n=tI(t.type),e=!0,r=[t];for(;n;){let i;if(ir(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new N(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=hg(t.inputs),s.declaredInputs=hg(t.declaredInputs),s.outputs=hg(t.outputs);let a=i.hostBindings;a&&sI(t,a);let l=i.viewQuery,p=i.contentQueries;if(l&&iI(t,l),p&&oI(t,p),nI(t,i),_v(t.outputs,i.outputs),ir(i)&&i.data.animation){let g=t.data;g.animation=(g.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ut&&(e=!1)}}n=Object.getPrototypeOf(n)}rI(r)}function nI(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function rI(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Go(i.hostAttrs,e=Go(e,i.hostAttrs))}}function hg(t){return t===ii?{}:t===Lt?[]:t}function iI(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function oI(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function sI(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function iy(t,n,e,r,i,o,s,a){if(e.firstCreatePass){t.mergedAttrs=Go(t.mergedAttrs,t.attrs);let g=t.tView=ch(2,t,i,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,t),g.queries=e.queries.embeddedTView(t))}a&&(t.flags|=a),Vo(t,!1);let l=lI(e,n,t,r);Tc()&&gh(e,n,l,t),qo(l,n);let p=jb(l,n,l,t);n[r+Le]=p,dh(n,p),jE(p,t,n)}function aI(t,n,e,r,i,o,s,a,l,p,g){let h=e+Le,x;return n.firstCreatePass?(x=_a(n,h,4,s||null,a||null),Ic()&&Gb(n,t,x,In(n.consts,p),mh),U1(n,x)):x=n.data[h],iy(x,t,n,e,r,i,o,l),Lo(x)&&mu(n,t,x),p!=null&&Ca(t,x,g),x}function tu(t,n,e,r,i,o,s,a,l,p,g){let h=e+Le,x;if(n.firstCreatePass){if(x=_a(n,h,4,s||null,a||null),p!=null){let b=In(n.consts,p);x.localNames=[];for(let S=0;S<b.length;S+=2)x.localNames.push(b[S],-1)}}else x=n.data[h];return iy(x,t,n,e,r,i,o,l),p!=null&&Ca(t,x,g),x}function Z(t,n,e,r,i,o,s,a){let l=K(),p=je(),g=In(p.consts,o);return aI(l,p,t,n,e,r,i,g,void 0,s,a),Z}var lI=cI;function cI(t,n,e,r){return oa(!0),n[Oe].createComment("")}var Mu=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Mu||{}),eo=new U(""),oy=!1,Bg=class extends ge{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Rv()&&(this.destroyRef=M(Bt,{optional:!0})??void 0,this.pendingTasks=M(or,{optional:!0})??void 0)}emit(n){let e=te(null);try{super.next(n)}finally{te(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ye&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},be=Bg;function sy(t){let n,e;function r(){t=qi;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function D1(t){return queueMicrotask(()=>t()),()=>{t=qi}}var Sh="isAngularZone",nu=Sh+"_ID",uI=0,ze=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=oy}=n;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,pI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,dI,qi,qi);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},dI={};function Ph(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fI(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){sy(()=>{t.callbackScheduled=!1,Ug(t),t.isCheckStableRunning=!0,Ph(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Ug(t)}function pI(t){let n=()=>{fI(t)},e=uI++;t._inner=t._inner.fork({name:"angular",properties:{[Sh]:!0,[nu]:e,[nu+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(gI(l))return r.invokeTask(o,s,a,l);try{return S1(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),P1(t)}},onInvoke:(r,i,o,s,a,l,p)=>{try{return S1(t),r.invoke(o,s,a,l,p)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!hI(l)&&n(),P1(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ug(t),Ph(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ug(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function S1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P1(t){t._nesting--,Ph(t)}var ru=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function gI(t){return ay(t,"__ignore_ng_zone__")}function hI(t){return ay(t,"__scheduler_tick__")}function ay(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Oh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})(),ly=[0,1,2,3],cy=(()=>{class t{ngZone=M(ze);scheduler=M(Nn);errorHandler=M(_n,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(eo,{optional:!0})}execute(){let e=this.sequences.size>0;e&&Ee(16),this.executing=!0;for(let r of ly)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&Ee(17)}register(e){let{view:r}=e;r!==void 0?((r[Hi]??=[]).push(e),li(r),r[ne]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Mu.AFTER_NEXT_RENDER,e):e()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})(),iu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Hi];n&&(this.view[Hi]=n.filter(e=>e!==this))}};function wa(t,n){let e=n?.injector??M(xt);return $n("NgAfterNextRender"),vI(t,e,n,!0)}function mI(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function vI(t,n,e,r){let i=n.get(Oh);i.impl??=n.get(cy);let o=n.get(eo,null,{optional:!0}),s=e?.manualCleanup!==!0?n.get(Bt):null,a=n.get(Ho,null,{optional:!0}),l=new iu(i.impl,mI(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var Ah=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Th=new U("");function kr(t){return!!t&&typeof t.then=="function"}function Eu(t){return!!t&&typeof t.subscribe=="function"}var kh=new U("");function Iu(t){return er([{provide:kh,multi:!0,useValue:t}])}var Nh=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=M(kh,{optional:!0})??[];injector=M(xt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=vt(this.injector,i);if(kr(o))e.push(o);else if(Eu(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ma=new U("");function uy(){Uf(()=>{let t="";throw new N(600,t)})}function dy(t){return t.isBoundToModule}var bI=10;var Nr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(Pt);afterRenderManager=M(Oh);zonelessEnabled=M(sa);rootEffectScheduler=M(la);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ge;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(or);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(B(e=>!e))}constructor(){M(eo,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=M(Xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=xt.NULL){return this._injector.get(ze).run(()=>{Ee(10);let s=e instanceof Cu;if(!this._injector.get(Nh).done){let S="";throw new N(405,S)}let l;s?l=e:l=this._injector.get(xa).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let p=dy(l)?void 0:this._injector.get(Ji),g=r||l.selector,h=l.create(i,[],g,p),x=h.location.nativeElement,b=h.injector.get(Th,null);return b?.registerApplication(x),h.onDestroy(()=>{this.detachView(h.hostView),ua(this.components,h),b?.unregisterApplication(x)}),this._loadComponent(h),Ee(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Mu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new N(101,!1);let e=te(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,te(e),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<bI;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!na(i))continue;let o=r&&!this.zonelessEnabled?0:1;_h(i,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>na(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;ua(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(e),this._injector.get(Ma,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ua(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new N(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ua(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function fn(t,n,e,r){let i=K(),o=Ar();if(Jt(i,o,n)){let s=je(),a=ia();FM(a,i,t,n,e,r)}return fn}var Hg=class{destroy(n){}updateValue(n,e){}swap(n,e){let r=Math.min(n,e),i=Math.max(n,e),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,e){this.attach(e,this.detach(n))}};function mg(t,n,e,r,i){return t===e&&Object.is(n,r)?1:Object.is(i(t,n),i(e,r))?-1:0}function yI(t,n,e){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let p=t.at(o),g=n[o],h=mg(o,p,o,g,e);if(h!==0){h<0&&t.updateValue(o,g),o++;continue}let x=t.at(s),b=n[l],S=mg(s,x,l,b,e);if(S!==0){S<0&&t.updateValue(s,b),s--,l--;continue}let $=e(o,p),j=e(s,x),V=e(o,g);if(Object.is(V,j)){let ve=e(l,b);Object.is(ve,$)?(t.swap(o,s),t.updateValue(s,b),l--,s--):t.move(s,o),t.updateValue(o,g),o++;continue}if(r??=new ou,i??=A1(t,o,s,e),$g(t,r,o,V))t.updateValue(o,g),o++,s++;else if(i.has(V))r.set($,t.detach(o)),s--;else{let ve=t.create(o,n[o]);t.attach(o,ve),o++,s++}}for(;o<=l;)O1(t,r,e,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),p=l.next();for(;!p.done&&o<=s;){let g=t.at(o),h=p.value,x=mg(o,g,o,h,e);if(x!==0)x<0&&t.updateValue(o,h),o++,p=l.next();else{r??=new ou,i??=A1(t,o,s,e);let b=e(o,h);if($g(t,r,o,b))t.updateValue(o,h),o++,s++,p=l.next();else if(!i.has(b))t.attach(o,t.create(o,h)),o++,s++,p=l.next();else{let S=e(o,g);r.set(S,t.detach(o)),s--}}}for(;!p.done;)O1(t,r,e,t.length,p.value),p=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function $g(t,n,e,r){return n!==void 0&&n.has(r)?(t.attach(e,n.get(r)),n.delete(r),!0):!1}function O1(t,n,e,r,i){if($g(t,n,r,e(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function A1(t,n,e,r){let i=new Set;for(let o=n;o<=e;o++)i.add(r(o,t.at(o)));return i}var ou=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,r]of this.kvMap)if(n(r,e),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,e)}}};function z(t,n,e,r,i,o,s,a){$n("NgControlFlow");let l=K(),p=je(),g=In(p.consts,o);return tu(l,p,t,n,e,r,i,g,256,s,a),Rh}function Rh(t,n,e,r,i,o,s,a){$n("NgControlFlow");let l=K(),p=je(),g=In(p.consts,o);return tu(l,p,t,n,e,r,i,g,512,s,a),Rh}function G(t,n){$n("NgControlFlow");let e=K(),r=Ar(),i=e[r]!==ft?e[r]:-1,o=i!==-1?su(e,Le+i):void 0,s=0;if(Jt(e,r,t)){let a=te(null);try{if(o!==void 0&&Bb(o,s),t!==-1){let l=Le+t,p=su(e,l),g=Wg(e[J],l),h=Hb(p,g,e),x=vu(e,g,n,{dehydratedView:h});bu(p,x,s,fa(g,h))}}finally{te(a)}}else if(o!==void 0){let a=Vb(o,s);a!==void 0&&(a[et]=n)}}var zg=class{lContainer;$implicit;$index;constructor(n,e,r){this.lContainer=n,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-bt}};function to(t){return t}function Qe(t,n){return n}var Gg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,r){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=r}};function X(t,n,e,r,i,o,s,a,l,p,g,h,x){$n("NgControlFlow");let b=K(),S=je(),$=l!==void 0,j=K(),V=a?s.bind(j[sn][et]):s,ve=new Gg($,V);j[Le+t]=ve,tu(b,S,t+1,n,e,r,i,In(S.consts,o),256),$&&tu(b,S,t+2,l,p,g,h,In(S.consts,x),512)}var qg=class extends Hg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,r){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-bt}at(n){return this.getLView(n)[et].$implicit}attach(n,e){let r=e[No];this.needsIndexUpdate||=n!==this.length,bu(this.lContainer,e,n,fa(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,CI(this.lContainer,n)}create(n,e){let r=Ag(this.lContainer,this.templateTNode.tView.ssrId),i=vu(this.hostLView,this.templateTNode,new zg(this.lContainer,e,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(n){gu(n[J],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[et].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[et].$index=n}getLView(n){return _I(this.lContainer,n)}};function ee(t){let n=te(null),e=jn();try{let r=K(),i=r[J],o=r[e],s=e+1,a=su(r,s);if(o.liveCollection===void 0){let p=Wg(i,s);o.liveCollection=new qg(a,r,p)}else o.liveCollection.reset();let l=o.liveCollection;if(yI(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let p=Ar(),g=l.length===0;if(Jt(r,p,g)){let h=e+2,x=su(r,h);if(g){let b=Wg(i,h),S=Hb(x,b,r),$=vu(r,b,void 0,{dehydratedView:S});bu(x,$,0,fa(b,S))}else i.firstUpdatePass&&aE(x),Bb(x,0)}}}finally{te(n)}}function su(t,n){return t[n]}function CI(t,n){return ga(t,n)}function _I(t,n){return Vb(t,n)}function Wg(t,n){return ea(t,n)}function m(t,n,e){let r=K(),i=Ar();if(Jt(r,i,n)){let o=je(),s=ia();Db(s,r,t,n,r[Oe],e)}return m}function Yg(t,n,e,r,i){yh(n,t,e,i?"class":"style",r)}function c(t,n,e,r){let i=K(),o=i[J],s=t+Le,a=o.firstCreatePass?Mh(s,i,2,n,mh,Ic(),e,r):o.data[s];if(vh(a,i,t,n,fy),Lo(a)){let l=i[J];mu(l,i,a),oh(l,a,i)}return r!=null&&Ca(i,a),c}function u(){let t=je(),n=it(),e=bh(n);return t.firstCreatePass&&Eh(t,e),Qp(e)&&Zp(),Yp(),e.classesWithoutHost!=null&&v2(e)&&Yg(t,e,K(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&b2(e)&&Yg(t,e,K(),e.stylesWithoutHost,!1),u}function v(t,n,e,r){return c(t,n,e,r),u(),v}function R(t,n,e,r){let i=K(),o=i[J],s=t+Le,a=o.firstCreatePass?_E(s,o,2,n,e,r):o.data[s];return vh(a,i,t,n,fy),r!=null&&Ca(i,a),R}function L(){let t=it(),n=bh(t);return Qp(n)&&Zp(),Yp(),L}function re(t,n,e,r){return R(t,n,e,r),L(),re}var fy=(t,n,e,r,i)=>(oa(!0),vb(n[Oe],r,i1()));function Xo(t,n,e){let r=K(),i=r[J],o=t+Le,s=i.firstCreatePass?Mh(o,r,8,"ng-container",mh,Ic(),n,e):i.data[o];if(vh(s,r,t,"ng-container",xI),Lo(s)){let a=r[J];mu(a,r,s),oh(a,s,r)}return e!=null&&Ca(r,s),Xo}function es(){let t=je(),n=it(),e=bh(n);return t.firstCreatePass&&Eh(t,e),es}var xI=(t,n,e,r,i)=>(oa(!0),lM(n[Oe],""));function Q(){return K()}function lr(t,n,e){let r=K(),i=Ar();if(Jt(r,i,n)){let o=je(),s=ia();Sb(s,r,t,n,r[Oe],e)}return lr}var Wi=void 0;function wI(t){let n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&e===0?1:5}var MI=["en",[["a","p"],["AM","PM"],Wi],[["AM","PM"],Wi,Wi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wi,"{1} 'at' {0}",Wi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",wI],vg={};function Ht(t){let n=EI(t),e=T1(n);if(e)return e;let r=n.split("-")[0];if(e=T1(r),e)return e;if(r==="en")return MI;throw new N(701,!1)}function T1(t){return t in vg||(vg[t]=Dr.ng&&Dr.ng.common&&Dr.ng.common.locales&&Dr.ng.common.locales[t]),vg[t]}var Ge=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ge||{});function EI(t){return t.toLowerCase().replace(/_/g,"-")}var Ea="en-US",II="USD";var DI=Ea;function py(t){typeof t=="string"&&(DI=t.toLowerCase().replace(/_/g,"-"))}function E(t,n,e){let r=K(),i=je(),o=it();return gy(i,r,r[Oe],o,t,n,e),E}function tt(t,n,e){let r=K(),i=je(),o=it();return(o.type&3||e)&&Qb(o,i,r,e,r[Oe],t,n,Bc(o,r,n)),tt}function gy(t,n,e,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Bc(r,n,o),Qb(r,t,n,s,e,i,o,l)&&(a=!1)),a){let p=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let h=0;h<g.length;h+=2){let x=g[h],b=g[h+1];l??=Bc(r,n,o),x1(r,n,x,b,i,l)}if(p&&p.length)for(let h of p)l??=Bc(r,n,o),x1(r,n,h,i,i,l)}}function w(t=1){return r1(t)}function Fh(t,n,e,r){qE(t,n,e,r)}function no(t,n,e){GE(t,n,e)}function Rr(t){let n=K(),e=je(),r=tg();Pc(r+1);let i=Dh(e,r);if(t.dirty&&jv(n)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=QE(n,r);t.reset(o,A2),t.notifyOnChanges()}return!0}return!1}function Fr(){return zE(K(),tg())}function Ia(t){let n=Yv();return ta(n,Le+t)}function Rc(t,n){return t<<17|n<<2}function Xi(t){return t>>17&32767}function SI(t){return(t&2)==2}function PI(t,n){return t&131071|n<<17}function Qg(t){return t|2}function Wo(t){return(t&131068)>>2}function bg(t,n){return t&-131069|n<<2}function OI(t){return(t&1)===1}function Zg(t){return t|1}function AI(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Xi(s),l=Wo(s);t[r]=e;let p=!1,g;if(Array.isArray(e)){let h=e;g=h[1],(g===null||ko(h,g)>0)&&(p=!0)}else g=e;if(i)if(l!==0){let x=Xi(t[a+1]);t[r+1]=Rc(x,a),x!==0&&(t[x+1]=bg(t[x+1],r)),t[a+1]=PI(t[a+1],r)}else t[r+1]=Rc(a,0),a!==0&&(t[a+1]=bg(t[a+1],r)),a=r;else t[r+1]=Rc(l,0),a===0?a=r:t[l+1]=bg(t[l+1],r),l=r;p&&(t[r+1]=Qg(t[r+1])),k1(t,g,r,!0),k1(t,g,r,!1),TI(n,g,t,r,o),s=Rc(a,l),o?n.classBindings=s:n.styleBindings=s}function TI(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&ko(o,n)>=0&&(e[r+1]=Zg(e[r+1]))}function k1(t,n,e,r){let i=t[e+1],o=n===null,s=r?Xi(i):Wo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],p=t[s+1];kI(l,n)&&(a=!0,t[s+1]=r?Zg(p):Qg(p)),s=r?Xi(p):Wo(p)}a&&(t[e+1]=r?Qg(i):Zg(i))}function kI(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?ko(t,n)>=0:!1}var Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function NI(t){return t.substring(Bn.key,Bn.keyEnd)}function RI(t){return FI(t),hy(t,my(t,0,Bn.textEnd))}function hy(t,n){let e=Bn.textEnd;return e===n?-1:(n=Bn.keyEnd=LI(t,Bn.key=n,e),my(t,n,e))}function FI(t){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=t.length}function my(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function LI(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function Du(t,n,e){return vy(t,n,e,!1),Du}function W(t,n){return vy(t,n,null,!0),W}function ro(t){VI(GI,jI,t,!0)}function jI(t,n){for(let e=RI(n);e>=0;e=hy(n,e))_c(t,NI(n),!0)}function vy(t,n,e,r){let i=K(),o=je(),s=Uo(2);if(o.firstUpdatePass&&yy(o,t,s,r),n!==ft&&Jt(i,s,n)){let a=o.data[jn()];Cy(o,a,i,i[Oe],t,i[s+1]=WI(n,e),r,s)}}function VI(t,n,e,r){let i=je(),o=Uo(2);i.firstUpdatePass&&yy(i,null,o,r);let s=K();if(e!==ft&&Jt(s,o,e)){let a=i.data[jn()];if(_y(a,r)&&!by(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=vc(l,e||"")),Yg(i,a,s,e,r)}else qI(i,a,s,s[Oe],s[o+1],s[o+1]=zI(t,n,e),r,o)}}function by(t,n){return n>=t.expandoStartIndex}function yy(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[jn()],s=by(t,e);_y(o,r)&&n===null&&!s&&(n=!1),n=BI(i,o,n,r),AI(i,o,n,e,s,r)}}function BI(t,n,e,r){let i=Xv(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=yg(null,t,n,e,r),e=va(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=yg(i,t,n,e,r),o===null){let l=UI(t,n,r);l!==void 0&&Array.isArray(l)&&(l=yg(null,t,n,l[1],r),l=va(l,n.attrs,r),HI(t,n,r,l))}else o=$I(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function UI(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Wo(r)!==0)return t[Xi(r)]}function HI(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Xi(i)]=r}function $I(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=va(r,s,e)}return va(r,n.attrs,e)}function yg(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=va(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function va(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_c(t,s,e?!0:n[++o]))}return t===void 0?null:t}function zI(t,n,e){if(e==null||e==="")return Lt;let r=[],i=Ko(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function GI(t,n,e){let r=String(n);r!==""&&!r.includes(" ")&&_c(t,r,e)}function qI(t,n,e,r,i,o,s,a){i===ft&&(i=Lt);let l=0,p=0,g=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;g!==null||h!==null;){let x=l<i.length?i[l+1]:void 0,b=p<o.length?o[p+1]:void 0,S=null,$;g===h?(l+=2,p+=2,x!==b&&(S=h,$=b)):h===null||g!==null&&g<h?(l+=2,S=g):(p+=2,S=h,$=b),S!==null&&Cy(t,n,e,r,S,$,s,a),g=l<i.length?i[l]:null,h=p<o.length?o[p]:null}}function Cy(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,p=l[a+1],g=OI(p)?N1(l,n,e,i,Wo(p),s):void 0;if(!au(g)){au(o)||SI(p)&&(o=N1(l,null,e,i,a,s));let h=Up(jn(),e);DM(r,s,h,i,o)}}function N1(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],p=Array.isArray(l),g=p?l[1]:l,h=g===null,x=e[i+1];x===ft&&(x=h?Lt:void 0);let b=h?xc(x,r):g===r?x:void 0;if(p&&!au(b)&&(b=xc(l,r)),au(b)&&(a=b,s))return a;let S=t[i+1];i=s?Xi(S):Wo(S)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=xc(l,r))}return a}function au(t){return t!==void 0}function WI(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Er(Ko(t)))),t}function _y(t,n){return(t.flags&(n?8:16))!==0}function f(t,n=""){let e=K(),r=je(),i=t+Le,o=r.firstCreatePass?_a(r,i,1,n,null):r.data[i],s=YI(r,e,o,n,t);e[i]=s,Tc()&&gh(r,e,s,o),Vo(o,!1)}var YI=(t,n,e,r,i)=>(oa(!0),sM(n[Oe],r));function xy(t,n,e,r=""){return Jt(t,Ar(),e)?n+Vt(e)+r:ft}function QI(t,n,e,r,i,o=""){let s=Dc(),a=ha(t,s,e,i);return Uo(2),a?n+Vt(e)+r+Vt(i)+o:ft}function ZI(t,n,e,r,i,o,s,a=""){let l=Dc(),p=Yb(t,l,e,i,s);return Uo(3),p?n+Vt(e)+r+Vt(i)+o+Vt(s)+a:ft}function KI(t,n,e,r,i,o,s,a,l,p=""){let g=Dc(),h=wE(t,g,e,i,s,l);return Uo(4),h?n+Vt(e)+r+Vt(i)+o+Vt(s)+a+Vt(l)+p:ft}function y(t){return D("",t),y}function D(t,n,e){let r=K(),i=xy(r,t,n,e);return i!==ft&&Lh(r,jn(),i),D}function Ot(t,n,e,r,i){let o=K(),s=QI(o,t,n,e,r,i);return s!==ft&&Lh(o,jn(),s),Ot}function Su(t,n,e,r,i,o,s,a,l){let p=K(),g=KI(p,t,n,e,r,i,o,s,a,l);return g!==ft&&Lh(p,jn(),g),Su}function Lh(t,n,e){let r=Up(n,t);aM(t[Oe],r,e)}function pt(t,n,e){lg(n)&&(n=n());let r=K(),i=Ar();if(Jt(r,i,n)){let o=je(),s=ia();Db(s,r,t,n,r[Oe],e)}return pt}function yt(t,n){let e=lg(t);return e&&t.set(n),e}function gt(t,n){let e=K(),r=je(),i=it();return gy(r,e,e[Oe],i,t,n),gt}function qe(t){return Jt(K(),Ar(),t)?Vt(t):ft}function $t(t,n,e=""){return xy(K(),t,n,e)}function Pu(t,n,e,r,i,o,s=""){return ZI(K(),t,n,e,r,i,o,s)}function JI(t,n,e){let r=je();if(r.firstCreatePass){let i=ir(t);Kg(e,r.data,r.blueprint,i,!0),Kg(n,r.data,r.blueprint,i,!1)}}function Kg(t,n,e,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)Kg(t[o],n,e,r,i);else{let o=je(),s=K(),a=it(),l=Fi(t)?t:_t(t.provide),p=Rp(t),g=a.providerIndexes&1048575,h=a.directiveStart,x=a.providerIndexes>>20;if(Fi(t)||!t.multi){let b=new Qi(p,i,C,null),S=_g(l,n,i?g:g+x,h);S===-1?(wg(Gc(a,s),o,l),Cg(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(b),s.push(b)):(e[S]=b,s[S]=b)}else{let b=_g(l,n,g+x,h),S=_g(l,n,g,g+x),$=b>=0&&e[b],j=S>=0&&e[S];if(i&&!j||!i&&!$){wg(Gc(a,s),o,l);let V=tD(i?eD:XI,e.length,i,r,p,t);!i&&j&&(e[S].providerFactory=V),Cg(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(V),s.push(V)}else{let V=wy(e[i?S:b],p,!i&&r);Cg(o,t,b>-1?b:S,V)}!i&&r&&j&&e[S].componentProviders++}}}function Cg(t,n,e,r){let i=Fi(n),o=Nv(n);if(i||o){let l=(o?_t(n.useClass):n).prototype.ngOnDestroy;if(l){let p=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let g=p.indexOf(e);g===-1?p.push(e,[r,l]):p[g+1].push(r,l)}else p.push(e,l)}}}function wy(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function _g(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function XI(t,n,e,r,i){return Jg(this.multi,[])}function eD(t,n,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=da(r,r[J],this.providerFactory.index,i);s=l.slice(0,a),Jg(o,s);for(let p=a;p<l.length;p++)s.push(l[p])}else s=[],Jg(o,s);return s}function Jg(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function tD(t,n,e,r,i,o){let s=new Qi(t,e,C,null);return s.multi=[],s.index=n,s.componentProviders=0,wy(s,i,r&&!e),s}function pn(t,n=[]){return e=>{e.providersResolver=(r,i)=>JI(r,i?i(t):t,n)}}function cr(t,n,e){let r=Gi()+t,i=K();return i[r]===ft?xu(i,r,e?n.call(e):n()):xE(i,r)}function _e(t,n,e,r){return My(K(),Gi(),t,n,e,r)}function Dn(t,n,e,r,i){return Ey(K(),Gi(),t,n,e,r,i)}function jh(t,n){let e=t[n];return e===ft?void 0:e}function My(t,n,e,r,i,o){let s=n+e;return Jt(t,s,i)?xu(t,s+1,o?r.call(o,i):r(i)):jh(t,s+1)}function Ey(t,n,e,r,i,o,s){let a=n+e;return ha(t,a,i,o)?xu(t,a+2,s?r.call(s,i,o):r(i,o)):jh(t,a+2)}function nD(t,n,e,r,i,o,s,a){let l=n+e;return Yb(t,l,i,o,s)?xu(t,l+3,a?r.call(a,i,o,s):r(i,o,s)):jh(t,l+3)}function _(t,n){let e=je(),r,i=t+Le;e.firstCreatePass?(r=rD(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=ni(r.type,!0)),s,a=Ft(C);try{let l=zc(!1),p=o();return zc(l),Hp(e,K(),i,p),p}finally{Ft(a)}}function rD(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function I(t,n,e){let r=t+Le,i=K(),o=ta(i,r);return Bh(i,r)?My(i,Gi(),n,o.transform,e,o):o.transform(e)}function We(t,n,e,r){let i=t+Le,o=K(),s=ta(o,i);return Bh(o,i)?Ey(o,Gi(),n,s.transform,e,r,s):s.transform(e,r)}function Vh(t,n,e,r,i){let o=t+Le,s=K(),a=ta(s,o);return Bh(s,o)?nD(s,Gi(),n,a.transform,e,r,i,a):a.transform(e,r,i)}function Bh(t,n){return t[J].data[n].pure}function Uh(t,n){return yu(t,n)}var lu=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Hh=(()=>{class t{compileModuleSync(e){return new eu(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Ap(e),o=hb(i.declarations).reduce((s,a)=>{let l=Pr(a);return l&&s.push(new Ki(l)),s},[]);return new lu(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var iD=(()=>{class t{zone=M(ze);changeDetectionScheduler=M(Nn);applicationRef=M(Nr);applicationErrorHandler=M(Pt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Iy=new U("",{factory:()=>!1});function $h({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new ze(ie(T({},Gh()),{scheduleInRootZone:e})),[{provide:ze,useFactory:t},{provide:Sr,multi:!0,useFactory:()=>{let r=M(iD,{optional:!0});return()=>r.initialize()}},{provide:Sr,multi:!0,useFactory:()=>{let r=M(oD);return()=>{r.initialize()}}},n===!0?{provide:cg,useValue:!0}:[],{provide:ug,useValue:e??oy},{provide:Pt,useFactory:()=>{let r=M(ze),i=M(Xe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(_n),o.handleError(s))})}}}]}function zh(t){let n=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,r=$h({ngZoneFactory:()=>{let i=Gh(t);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&$n("NgZone_CoalesceEvent"),new ze(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:e});return er([{provide:Iy,useValue:!0},{provide:sa,useValue:!1},r])}function Gh(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var oD=(()=>{class t{subscription=new Ye;initialized=!1;zone=M(ze);pendingTasks=M(or);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ze.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dy=(()=>{class t{applicationErrorHandler=M(Pt);appRef=M(Nr);taskService=M(or);ngZone=M(ze);zonelessEnabled=M(sa);tracing=M(eo,{optional:!0});disableScheduling=M(cg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(nu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(ug,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ru||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?D1:sy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,D1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sD(){return typeof $localize<"u"&&$localize.locale||Ea}var io=new U("",{providedIn:"root",factory:()=>M(io,{optional:!0,skipSelf:!0})||sD()}),qh=new U("",{providedIn:"root",factory:()=>II});function zt(t){return bv(t)}function Me(t,n){return Rl(t,n?.equal)}var Wh=class{[Dt];constructor(n){this[Dt]=n}destroy(){this[Dt].destroy()}};function Da(t,n){let e=n?.injector??M(xt),r=n?.manualCleanup!==!0?e.get(Bt):null,i,o=e.get(Ho,null,{optional:!0}),s=e.get(Nn);return o!==null?(i=cD(o.view,s,t),r instanceof Ws&&r._lView===o.view&&(r=null)):i=uD(t,e.get(la),s),i.injector=e,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Wh(i)}var Sy=ie(T({},Yr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:qi,run(){if(this.dirty=!1,this.hasRun&&!_o(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),n=Qr(this),e=Bo(!1);try{this.maybeCleanup(),this.fn(t)}finally{Bo(e),Di(this,n)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=te(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],te(t)}}}),aD=ie(T({},Sy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){xo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),lD=ie(T({},Sy),{consumerMarkedDirty(){this.view[ne]|=8192,li(this.view),this.notifier.notify(13)},destroy(){xo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Or]?.delete(this)}});function cD(t,n,e){let r=Object.create(lD);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=e,t[Or]??=new Set,t[Or].add(r),r.consumerMarkedDirty(r),r}function uD(t,n,e){let r=Object.create(aD);return r.fn=t,r.scheduler=n,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var Ny=Symbol("InputSignalNode#UNSET"),_D=ie(T({},Fl),{transformFn:void 0,applyValueToInputSignal(t,n){wo(t,n)}});function Ry(t,n){let e=Object.create(_D);e.value=t,e.transformFn=n?.transform;function r(){if(Co(e),e.value===Ny){let i=null;throw new N(-950,i)}return e.value}return r[Dt]=e,r}var Au=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>ba(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},xD=new U("");xD.__NG_ELEMENT_ID__=t=>{let n=it();if(n===null)throw new N(204,!1);if(n.type&2)return n.value;if(t&8)return null;throw new N(204,!1)};function Py(t,n){return Ry(t,n)}function wD(t){return Ry(Ny,t)}var Fy=(Py.required=wD,Py);var Yh=new U(""),MD=new U("");function Sa(t){return!t.moduleRef}function ED(t){let n=Sa(t)?t.r3Injector:t.moduleRef.injector,e=n.get(ze);return e.run(()=>{Sa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Pt),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:r})}),Sa(t)){let o=()=>n.destroy(),s=t.platformInjector.get(Yh);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Yh);s.add(o),t.moduleRef.onDestroy(()=>{ua(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return DD(r,e,()=>{let o=n.get(or),s=o.add(),a=n.get(Nh);return a.runInitializers(),a.donePromise.then(()=>{let l=n.get(io,Ea);if(py(l||Ea),!n.get(MD,!0))return Sa(t)?n.get(Nr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Sa(t)){let g=n.get(Nr);return t.rootComponent!==void 0&&g.bootstrap(t.rootComponent),g}else return ID?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var ID;function DD(t,n,e){try{let r=e();return kr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t(r)),r}}var Ou=null;function SD(t=[],n){return xt.create({name:n,providers:[{provide:Zs,useValue:"platform"},{provide:Yh,useValue:new Set([()=>Ou=null])},...t]})}function PD(t=[]){if(Ou)return Ou;let n=SD(t);return Ou=n,uy(),OD(n),n}function OD(t){let n=t.get(uu,null);vt(t,()=>{n?.forEach(e=>e())})}var Sn=(()=>{class t{static __NG_ELEMENT_ID__=AD}return t})();function AD(t){return TD(it(),K(),(t&16)===16)}function TD(t,n,e){if(ai(t)&&!e){let r=En(t.index,n);return new ui(r,r)}else if(t.type&175){let r=n[sn];return new ui(r,n)}return null}var Qh=class{constructor(){}supports(n){return Ih(n)}create(n){return new Zh(n)}},kD=(t,n)=>n,Zh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||kD}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Oy(r,i,o)?e:r,a=Oy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let p=a-i,g=l-i;if(p!=g){for(let x=0;x<p;x++){let b=x<o.length?o[x]:o[x]=0,S=b+x;g<=S&&S<p&&(o[x]=b+1)}let h=s.previousIndex;o[h]=g-p}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!Ih(n))throw new N(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,Wb(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Kh(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Tu),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tu),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Kh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Jh=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Tu=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Jh,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Oy(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}var Xh=class{constructor(){}supports(n){return n instanceof Map||_u(n)}create(){return new em}},em=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||_u(n)))throw new N(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new tm(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}},tm=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function Ay(){return new nm([new Qh])}var nm=(()=>{class t{factories;static \u0275prov=P({token:t,providedIn:"root",factory:Ay});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Ay()),deps:[[t,new eh,new Xg]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new N(901,!1)}}return t})();function Ty(){return new rm([new Xh])}var rm=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:Ty});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Ty()),deps:[[t,new eh,new Xg]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new N(901,!1)}}return t})();function Ly(t){Ee(8);try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=PD(r),o=[$h({}),{provide:Nn,useExisting:Dy},s1,...e||[]],s=new ma({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ED({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}finally{Ee(9)}}function oo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function jy(t){let n=Pr(t);if(!n)return null;let e=new Ki(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Uy=null;function Pn(){return Uy}function im(t){Uy??=t}var Pa=class{},Oa=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>M(Hy),providedIn:"platform"})}return t})(),om=new U(""),Hy=(()=>{class t extends Oa{_location;_history;_doc=M(ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(e){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ku(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function Vy(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function zn(t){return t&&t[0]!=="?"?`?${t}`:t}var Gn=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>M(Ru),providedIn:"root"})}return t})(),Nu=new U(""),Ru=(()=>{class t extends Gn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ku(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+zn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+zn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+zn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(F(Oa),F(Nu,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ur=(()=>{class t{_subject=new ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=FD(Vy(By(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+zn(r))}normalize(e){return t.stripTrailingSlash(RD(this._basePath,By(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=zn;static joinWithSlash=ku;static stripTrailingSlash=Vy;static \u0275fac=function(r){return new(r||t)(F(Gn))};static \u0275prov=P({token:t,factory:()=>ND(),providedIn:"root"})}return t})();function ND(){return new ur(F(Gn))}function RD(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function By(t){return t.replace(/\/index.html$/,"")}function FD(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var gm=(()=>{class t extends Gn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=ku(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+zn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+zn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(F(Oa),F(Nu,8))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Qy={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},qu=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(qu||{});var At=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(At||{}),De=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(De||{}),tn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(tn||{}),Mt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Zy(t){return Ht(t)[Ge.LocaleId]}function Ky(t,n,e){let r=Ht(t),i=[r[Ge.DayPeriodsFormat],r[Ge.DayPeriodsStandalone]],o=On(i,n);return On(o,e)}function Jy(t,n,e){let r=Ht(t),i=[r[Ge.DaysFormat],r[Ge.DaysStandalone]],o=On(i,n);return On(o,e)}function Xy(t,n,e){let r=Ht(t),i=[r[Ge.MonthsFormat],r[Ge.MonthsStandalone]],o=On(i,n);return On(o,e)}function eC(t,n){let r=Ht(t)[Ge.Eras];return On(r,n)}function Aa(t,n){let e=Ht(t);return On(e[Ge.DateFormat],n)}function Ta(t,n){let e=Ht(t);return On(e[Ge.TimeFormat],n)}function ka(t,n){let r=Ht(t)[Ge.DateTimeFormat];return On(r,n)}function Wn(t,n){let e=Ht(t),r=e[Ge.NumberSymbols][n];if(typeof r>"u"){if(n===Mt.CurrencyDecimal)return e[Ge.NumberSymbols][Mt.Decimal];if(n===Mt.CurrencyGroup)return e[Ge.NumberSymbols][Mt.Group]}return r}function hm(t,n){return Ht(t)[Ge.NumberFormats][n]}function LD(t){return Ht(t)[Ge.Currencies]}function tC(t){if(!t[Ge.ExtraData])throw new N(2303,!1)}function nC(t){let n=Ht(t);return tC(n),(n[Ge.ExtraData][2]||[]).map(r=>typeof r=="string"?sm(r):[sm(r[0]),sm(r[1])])}function rC(t,n,e){let r=Ht(t);tC(r);let i=[r[Ge.ExtraData][0],r[Ge.ExtraData][1]],o=On(i,n)||[];return On(o,e)||[]}function On(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new N(2304,!1)}function sm(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}function iC(t,n,e="en"){let r=LD(e)[t]||Qy[t]||[],i=r[1];return n==="narrow"&&typeof i=="string"?i:r[0]||t}var jD=2;function oC(t){let n,e=Qy[t];return e&&(n=e[2]),typeof n=="number"?n:jD}var VD=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fu={},BD=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function sC(t,n,e,r){let i=QD(t);n=Lr(e,n)||n;let s=[],a;for(;n;)if(a=BD.exec(n),a){s=s.concat(a.slice(1));let g=s.pop();if(!g)break;n=g}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=lC(r,l),i=YD(i,r));let p="";return s.forEach(g=>{let h=qD(g);p+=h?h(i,e,l):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function Uu(t,n,e){let r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function Lr(t,n){let e=Zy(t);if(Fu[e]??={},Fu[e][n])return Fu[e][n];let r="";switch(n){case"shortDate":r=Aa(t,tn.Short);break;case"mediumDate":r=Aa(t,tn.Medium);break;case"longDate":r=Aa(t,tn.Long);break;case"fullDate":r=Aa(t,tn.Full);break;case"shortTime":r=Ta(t,tn.Short);break;case"mediumTime":r=Ta(t,tn.Medium);break;case"longTime":r=Ta(t,tn.Long);break;case"fullTime":r=Ta(t,tn.Full);break;case"short":let i=Lr(t,"shortTime"),o=Lr(t,"shortDate");r=Lu(ka(t,tn.Short),[i,o]);break;case"medium":let s=Lr(t,"mediumTime"),a=Lr(t,"mediumDate");r=Lu(ka(t,tn.Medium),[s,a]);break;case"long":let l=Lr(t,"longTime"),p=Lr(t,"longDate");r=Lu(ka(t,tn.Long),[l,p]);break;case"full":let g=Lr(t,"fullTime"),h=Lr(t,"fullDate");r=Lu(ka(t,tn.Full),[g,h]);break}return r&&(Fu[e][n]=r),r}function Lu(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return n!=null&&r in n?n[r]:e})),t}function qn(t,n,e="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function UD(t,n){return qn(t,3).substring(0,n)}function ot(t,n,e=0,r=!1,i=!1){return function(o,s){let a=HD(t,o);if((e>0||a>-e)&&(a+=e),t===3)a===0&&e===-12&&(a=12);else if(t===6)return UD(a,n);let l=Wn(s,Mt.MinusSign);return qn(a,n,l,r,i)}}function HD(t,n){switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new N(2301,!1)}}function Ae(t,n,e=At.Format,r=!1){return function(i,o){return $D(i,o,t,n,e,r)}}function $D(t,n,e,r,i,o){switch(e){case 2:return Xy(n,i,r)[t.getMonth()];case 1:return Jy(n,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let p=nC(n),g=rC(n,i,r),h=p.findIndex(x=>{if(Array.isArray(x)){let[b,S]=x,$=s>=b.hours&&a>=b.minutes,j=s<S.hours||s===S.hours&&a<S.minutes;if(b.hours<S.hours){if($&&j)return!0}else if($||j)return!0}else if(x.hours===s&&x.minutes===a)return!0;return!1});if(h!==-1)return g[h]}return Ky(n,i,r)[s<12?0:1];case 3:return eC(n,r)[t.getFullYear()<=0?0:1];default:let l=e;throw new N(2302,!1)}}function ju(t){return function(n,e,r){let i=-1*r,o=Wn(e,Mt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+qn(s,2,o)+qn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+qn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);default:throw new N(2302,!1)}}}var zD=0,Bu=4;function GD(t){let n=Uu(t,zD,1).getDay();return Uu(t,0,1+(n<=Bu?Bu:Bu+7)-n)}function aC(t){let n=t.getDay(),e=n===0?-3:Bu-n;return Uu(t.getFullYear(),t.getMonth(),t.getDate()+e)}function am(t,n=!1){return function(e,r){let i;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=aC(e),s=GD(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return qn(i,t,Wn(r,Mt.MinusSign))}}function Vu(t,n=!1){return function(e,r){let o=aC(e).getFullYear();return qn(o,t,Wn(r,Mt.MinusSign),n)}}var lm={};function qD(t){if(lm[t])return lm[t];let n;switch(t){case"G":case"GG":case"GGG":n=Ae(3,De.Abbreviated);break;case"GGGG":n=Ae(3,De.Wide);break;case"GGGGG":n=Ae(3,De.Narrow);break;case"y":n=ot(0,1,0,!1,!0);break;case"yy":n=ot(0,2,0,!0,!0);break;case"yyy":n=ot(0,3,0,!1,!0);break;case"yyyy":n=ot(0,4,0,!1,!0);break;case"Y":n=Vu(1);break;case"YY":n=Vu(2,!0);break;case"YYY":n=Vu(3);break;case"YYYY":n=Vu(4);break;case"M":case"L":n=ot(1,1,1);break;case"MM":case"LL":n=ot(1,2,1);break;case"MMM":n=Ae(2,De.Abbreviated);break;case"MMMM":n=Ae(2,De.Wide);break;case"MMMMM":n=Ae(2,De.Narrow);break;case"LLL":n=Ae(2,De.Abbreviated,At.Standalone);break;case"LLLL":n=Ae(2,De.Wide,At.Standalone);break;case"LLLLL":n=Ae(2,De.Narrow,At.Standalone);break;case"w":n=am(1);break;case"ww":n=am(2);break;case"W":n=am(1,!0);break;case"d":n=ot(2,1);break;case"dd":n=ot(2,2);break;case"c":case"cc":n=ot(7,1);break;case"ccc":n=Ae(1,De.Abbreviated,At.Standalone);break;case"cccc":n=Ae(1,De.Wide,At.Standalone);break;case"ccccc":n=Ae(1,De.Narrow,At.Standalone);break;case"cccccc":n=Ae(1,De.Short,At.Standalone);break;case"E":case"EE":case"EEE":n=Ae(1,De.Abbreviated);break;case"EEEE":n=Ae(1,De.Wide);break;case"EEEEE":n=Ae(1,De.Narrow);break;case"EEEEEE":n=Ae(1,De.Short);break;case"a":case"aa":case"aaa":n=Ae(0,De.Abbreviated);break;case"aaaa":n=Ae(0,De.Wide);break;case"aaaaa":n=Ae(0,De.Narrow);break;case"b":case"bb":case"bbb":n=Ae(0,De.Abbreviated,At.Standalone,!0);break;case"bbbb":n=Ae(0,De.Wide,At.Standalone,!0);break;case"bbbbb":n=Ae(0,De.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ae(0,De.Abbreviated,At.Format,!0);break;case"BBBB":n=Ae(0,De.Wide,At.Format,!0);break;case"BBBBB":n=Ae(0,De.Narrow,At.Format,!0);break;case"h":n=ot(3,1,-12);break;case"hh":n=ot(3,2,-12);break;case"H":n=ot(3,1);break;case"HH":n=ot(3,2);break;case"m":n=ot(4,1);break;case"mm":n=ot(4,2);break;case"s":n=ot(5,1);break;case"ss":n=ot(5,2);break;case"S":n=ot(6,1);break;case"SS":n=ot(6,2);break;case"SSS":n=ot(6,3);break;case"Z":case"ZZ":case"ZZZ":n=ju(0);break;case"ZZZZZ":n=ju(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=ju(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=ju(2);break;default:return null}return lm[t]=n,n}function lC(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function WD(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function YD(t,n,e){let i=t.getTimezoneOffset(),o=lC(n,i);return WD(t,-1*(o-i))}function QD(t){if($y(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Uu(i,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(VD))return ZD(r)}let n=new Date(t);if(!$y(n))throw new N(2302,!1);return n}function ZD(t){let n=new Date(0),e=0,r=0,i=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-r,l=Number(t[6]||0),p=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,l,p),n}function $y(t){return t instanceof Date&&!isNaN(t.valueOf())}var KD=/^(\d+)?\.((\d+)(-(\d+))?)?$/,zy=22,Hu=".",Na="0",JD=";",XD=",",cm="#",Gy="\xA4";function cC(t,n,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(t))a=Wn(e,Mt.Infinity);else{let p=t6(t);s&&(p=e6(p));let g=n.minInt,h=n.minFrac,x=n.maxFrac;if(o){let ve=o.match(KD);if(ve===null)throw new N(2306,!1);let Ct=ve[1],Pe=ve[3],Wr=ve[5];Ct!=null&&(g=um(Ct)),Pe!=null&&(h=um(Pe)),Wr!=null?x=um(Wr):Pe!=null&&h>x&&(x=h)}n6(p,h,x);let b=p.digits,S=p.integerLen,$=p.exponent,j=[];for(l=b.every(ve=>!ve);S<g;S++)b.unshift(0);for(;S<0;S++)b.unshift(0);S>0?j=b.splice(S,b.length):(j=b,b=[0]);let V=[];for(b.length>=n.lgSize&&V.unshift(b.splice(-n.lgSize,b.length).join(""));b.length>n.gSize;)V.unshift(b.splice(-n.gSize,b.length).join(""));b.length&&V.unshift(b.join("")),a=V.join(Wn(e,r)),j.length&&(a+=Wn(e,i)+j.join("")),$&&(a+=Wn(e,Mt.Exponential)+"+"+$)}return t<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function uC(t,n,e,r,i){let o=hm(n,qu.Currency),s=fC(o,Wn(n,Mt.MinusSign));return s.minFrac=oC(r),s.maxFrac=s.minFrac,cC(t,s,n,Mt.CurrencyGroup,Mt.CurrencyDecimal,i).replace(Gy,e).replace(Gy,"").trim()}function dC(t,n,e){let r=hm(n,qu.Decimal),i=fC(r,Wn(n,Mt.MinusSign));return cC(t,i,n,Mt.Group,Mt.Decimal,e)}function fC(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(JD),i=r[0],o=r[1],s=i.indexOf(Hu)!==-1?i.split(Hu):[i.substring(0,i.lastIndexOf(Na)+1),i.substring(i.lastIndexOf(Na)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(cm));for(let g=0;g<l.length;g++){let h=l.charAt(g);h===Na?e.minFrac=e.maxFrac=g+1:h===cm?e.maxFrac=g+1:e.posSuf+=h}let p=a.split(XD);if(e.gSize=p[1]?p[1].length:0,e.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,o){let g=i.length-e.posPre.length-e.posSuf.length,h=o.indexOf(cm);e.negPre=o.substring(0,h).replace(/'/g,""),e.negSuf=o.slice(h+g).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function e6(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function t6(t){let n=Math.abs(t)+"",e=0,r,i,o,s,a;for((i=n.indexOf(Hu))>-1&&(n=n.replace(Hu,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===Na;o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;n.charAt(a)===Na;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>zy&&(r=r.splice(0,zy-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function n6(t,n,e){if(n>e)throw new N(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(n,i),e),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,p=n+t.integerLen,g=r.reduceRight(function(h,x,b,S){return x=x+h,S[b]=x<10?x:x-10,l&&(S[b]===0&&b>=p?S.pop():l=!1),x>=10?1:0},0);g&&(r.unshift(g),t.integerLen++)}function um(t){let n=parseInt(t);if(isNaN(n))throw new N(2305,!1);return n}var dm=/\s+/,qy=[],Gt=(()=>{class t{_ngEl;_renderer;initialClasses=qy;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(dm):qy}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(dm):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(dm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(C(dt),C(Xt))};static \u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var $u=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Tt=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $u(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Wy(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Wy(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(C(Hn),C(ar),C(nm))};static \u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Wy(t,n){t.context.$implicit=n.item}var Ne=(()=>{class t{_viewContainer;_context=new zu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Yy(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Yy(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(C(Hn),C(ar))};static \u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),zu=class{$implicit=null;ngIf=null};function Yy(t,n){if(t&&!t.createEmbeddedView)throw new N(2020,!1)}var Gu=class{_viewContainerRef;_templateRef;_created=!1;constructor(n,e){this._viewContainerRef=n,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}},Ra=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ye({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),mm=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Gu(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||t)(C(Hn),C(ar),C(Ra,9))};static \u0275dir=ye({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})(),vm=(()=>{class t{constructor(e,r,i){i._addDefault(new Gu(e,r))}static \u0275fac=function(r){return new(r||t)(C(Hn),C(ar),C(Ra,9))};static \u0275dir=ye({type:t,selectors:[["","ngSwitchDefault",""]]})}return t})();var Fa=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:Un.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(C(dt),C(rm),C(Xt))};static \u0275dir=ye({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();function La(t,n){return new N(2100,!1)}var fm=class{createSubscription(n,e,r){return zt(()=>n.subscribe({next:e,error:r}))}dispose(n){zt(()=>n.unsubscribe())}},pm=class{createSubscription(n,e,r){return n.then(i=>e?.(i),i=>r?.(i)),{unsubscribe:()=>{e=null,r=null}}}dispose(n){n.unsubscribe()}},r6=new pm,i6=new fm,ja=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=M(Pt);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r),r=>this.applicationErrorHandler(r))}_selectStrategy(e){if(kr(e))return r6;if(Eu(e))return i6;throw La(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(C(Sn,16))};static \u0275pipe=dn({name:"async",type:t,pure:!1})}return t})();var o6="mediumDate",pC=new U(""),gC=new U(""),jr=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??o6,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return sC(e,s,o||this.locale,a)}catch(s){throw La(t,s.message)}}static \u0275fac=function(r){return new(r||t)(C(io,16),C(pC,24),C(gC,24))};static \u0275pipe=dn({name:"date",type:t,pure:!0})}return t})();var Vr=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!hC(e))return null;i||=this._locale;try{let o=mC(e);return dC(o,i,r)}catch(o){throw La(t,o.message)}}static \u0275fac=function(r){return new(r||t)(C(io,16))};static \u0275pipe=dn({name:"number",type:t,pure:!0})}return t})();var so=(()=>{class t{_locale;_defaultCurrencyCode;constructor(e,r="USD"){this._locale=e,this._defaultCurrencyCode=r}transform(e,r=this._defaultCurrencyCode,i="symbol",o,s){if(!hC(e))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=iC(a,i==="symbol"?"wide":"narrow",s):a=i);try{let l=mC(e);return uC(l,s,a,r,o)}catch(l){throw La(t,l.message)}}static \u0275fac=function(r){return new(r||t)(C(io,16),C(qh,16))};static \u0275pipe=dn({name:"currency",type:t,pure:!0})}return t})();function hC(t){return!(t==null||t===""||t!==t)}function mC(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new N(2309,!1);return t}var bm=(()=>{class t{transform(e,r,i){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw La(t,e);return e.slice(r,i)}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=dn({name:"slice",type:t,pure:!1})}return t})();var Y=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({})}return t})();function Va(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ao=class{};var vC="browser";var bC=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>new ym(M(ke),window)})}return t})(),ym=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,e){this.window.scrollTo(ie(T({},e),{left:n[0],top:n[1]}))}scrollToAnchor(n,e){let r=a6(this.document,n);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(Ir(2400,!1))}}scrollToElement(n,e){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ie(T({},e),{left:i-s[0],top:o-s[1]}))}};function a6(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Yu=new U(""),Mm=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(F(Yu),F(ze))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Ba=class{_doc;constructor(n){this._doc=n}manager},Cm="ng-app-id";function yC(t){for(let n of t)n.remove()}function CC(t,n){let e=n.createElement("style");return e.textContent=t,e}function l6(t,n,e,r){let i=t.head?.querySelectorAll(`style[${Cm}="${n}"],link[${Cm}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Cm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function xm(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Em=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,l6(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,CC);r?.forEach(i=>this.addUsage(i,this.external,xm))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(yC(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])yC(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,CC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,xm(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(F(ke),F(cu),F(du,8),F(Zo))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),_m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Im=/%COMP%/g;var xC="%COMP%",c6=`_nghost-${xC}`,u6=`_ngcontent-${xC}`,d6=!0,f6=new U("",{providedIn:"root",factory:()=>d6});function p6(t){return u6.replace(Im,t)}function g6(t){return c6.replace(Im,t)}function wC(t,n){return n.map(e=>e.replace(Im,t))}var Dm=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,p=null,g=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=p,this.tracingService=g,this.platformIsServer=!1,this.defaultRenderer=new Ua(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof Wu?i.applyToHost(e):i instanceof Ha&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,h=this.platformIsServer,x=this.tracingService;switch(r.encapsulation){case Tr.Emulated:o=new Wu(l,p,r,this.appId,g,s,a,h,x);break;case Tr.ShadowDom:return new wm(l,p,e,r,s,a,this.nonce,h,x);default:o=new Ha(l,p,r,g,s,a,h,x);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(F(Mm),F(Em),F(cu),F(f6),F(ke),F(Zo),F(ze),F(du),F(eo,8))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Ua=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(_m[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(_C(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(_C(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new N(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=_m[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=_m[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Un.DashCase|Un.Important)?n.style.setProperty(e,r,i&Un.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Un.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=Pn().getGlobalEventTarget(this.doc,n),!n))throw new N(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;n(e)===!1&&e.preventDefault()}}};function _C(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wm=class extends Ua{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l,p){super(n,o,s,l,p),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=wC(i.id,g);for(let x of g){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=x,this.shadowRoot.appendChild(b)}let h=i.getExternalStyles?.();if(h)for(let x of h){let b=xm(x,o);a&&b.setAttribute("nonce",a),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ha=class extends Ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l,p){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let g=r.styles;this.styles=p?wC(p,g):g,this.styleUrls=r.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wu=class extends Ha{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l,p){let g=i+"-"+r.id;super(n,e,r,o,s,a,l,p,g),this.contentAttr=p6(g),this.hostAttr=g6(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var Qu=class t extends Pa{supportsDOMEvents=!0;static makeCurrent(){im(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=h6();return e==null?null:m6(e)}resetBaseElement(){$a=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Va(document.cookie,n)}},$a=null;function h6(){return $a=$a||document.head.querySelector("base"),$a?$a.getAttribute("href"):null}function m6(t){return new URL(t,document.baseURI).pathname}var v6=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),EC=(()=>{class t extends Ba{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(F(ke))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),MC=["alt","control","meta","shift"],b6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IC=(()=>{class t extends Ba{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),MC.forEach(p=>{let g=r.indexOf(p);g>-1&&(r.splice(g,1),s+=p+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=b6[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),MC.forEach(s=>{if(s!==i){let a=y6[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(F(ke))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function Sm(t,n){let e=T({rootComponent:t},C6(n));return Ly(e)}function C6(t){return{appProviders:[...E6,...t?.providers??[]],platformProviders:M6}}function _6(){Qu.makeCurrent()}function x6(){return new _n}function w6(){return rh(document),document}var M6=[{provide:Zo,useValue:vC},{provide:uu,useValue:_6,multi:!0},{provide:ke,useFactory:w6}];var E6=[{provide:Zs,useValue:"root"},{provide:_n,useFactory:x6},{provide:Yu,useClass:EC,multi:!0,deps:[ke]},{provide:Yu,useClass:IC,multi:!0,deps:[ke]},Dm,Em,Mm,{provide:Zi,useExisting:Dm},{provide:ao,useClass:v6},[]];var ns=class{},Ur=class{},gn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,e);let i=(n.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(n,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Ju=class{encodeKey(n){return DC(n)}encodeValue(n){return DC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function I6(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var D6=/%(\d[a-f0-9])/gi,S6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DC(t){return encodeURIComponent(t).replace(D6,(n,e)=>S6[e]??n)}function Zu(t){return`${t}`}var me=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Ju,n.fromString){if(n.fromObject)throw new N(2805,!1);this.map=I6(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let r=n.fromObject[e],i=Array.isArray(r)?r.map(Zu):[Zu(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Zu(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Zu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Xu=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function P6(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function SC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function PC(t){return typeof Blob<"u"&&t instanceof Blob}function OC(t){return typeof FormData<"u"&&t instanceof FormData}function O6(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var za="Content-Type",ed="Accept",km="X-Request-URL",TC="text/plain",kC="application/json",NC=`${kC}, ${TC}, */*`,ts=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,r,i){this.url=e,this.method=n.toUpperCase();let o;if(P6(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new gn,this.context??=new Xu,!this.params)this.params=new me,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||SC(this.body)||PC(this.body)||OC(this.body)||O6(this.body)?this.body:this.body instanceof me?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OC(this.body)?null:PC(this.body)?this.body.type||null:SC(this.body)?null:typeof this.body=="string"?TC:this.body instanceof me?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?kC:null}clone(n={}){let e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,l=n.mode||this.mode,p=n.redirect||this.redirect,g=n.credentials||this.credentials,h=n.transferCache??this.transferCache,x=n.timeout??this.timeout,b=n.body!==void 0?n.body:this.body,S=n.withCredentials??this.withCredentials,$=n.reportProgress??this.reportProgress,j=n.headers||this.headers,V=n.params||this.params,ve=n.context??this.context;return n.setHeaders!==void 0&&(j=Object.keys(n.setHeaders).reduce((Ct,Pe)=>Ct.set(Pe,n.setHeaders[Pe]),j)),n.setParams&&(V=Object.keys(n.setParams).reduce((Ct,Pe)=>Ct.set(Pe,n.setParams[Pe]),V)),new t(e,r,b,{params:V,headers:j,context:ve,reportProgress:$,responseType:i,withCredentials:S,transferCache:h,keepalive:o,cache:a,priority:s,timeout:x,mode:l,redirect:p,credentials:g})}},Br=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Br||{}),rs=class{headers;status;statusText;url;ok;type;constructor(n,e=200,r="OK"){this.headers=n.headers||new gn,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Ga=class t extends rs{constructor(n={}){super(n)}type=Br.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},is=class t extends rs{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Br.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},dr=class extends rs{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},RC=200,A6=204;function Pm(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect}}var Se=(()=>{class t{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof ts)o=e;else{let l;i.headers instanceof gn?l=i.headers:l=new gn(i.headers);let p;i.params&&(i.params instanceof me?p=i.params:p=new me({fromObject:i.params})),o=new ts(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:p,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=q(o).pipe(Cn(l=>this.handler.handle(l)));if(e instanceof ts||i.observe==="events")return s;let a=s.pipe(St(l=>l instanceof is));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new N(2806,!1);return l.body}));case"blob":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new N(2807,!1);return l.body}));case"text":return a.pipe(B(l=>{if(l.body!==null&&typeof l.body!="string")throw new N(2808,!1);return l.body}));case"json":default:return a.pipe(B(l=>l.body))}case"response":return a;default:throw new N(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new me().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Pm(i,r))}post(e,r,i={}){return this.request("POST",e,Pm(i,r))}put(e,r,i={}){return this.request("PUT",e,Pm(i,r))}static \u0275fac=function(r){return new(r||t)(F(ns))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),T6=/^\)\]\}',?\n/;function AC(t){if(t.url)return t.url;let n=km.toLocaleLowerCase();return t.headers.get(n)}var FC=new U(""),Ku=(()=>{class t{fetchImpl=M(Om,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=M(ze);destroyRef=M(Bt);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(e){return new oe(r=>{let i=new AbortController;this.doRequest(e,i.signal,r).then(Am,s=>r.error(new dr({error:s})));let o;return e.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},e.timeout))),()=>{o!==void 0&&clearTimeout(o),i.abort()}})}doRequest(e,r,i){return An(this,null,function*(){let o=this.createRequestInit(e),s;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,T({signal:r},o)));k6(b),i.next({type:Br.Sent}),s=yield b}catch(b){i.error(new dr({error:b,status:b.status??0,statusText:b.statusText,url:e.urlWithParams,headers:b.headers}));return}let a=new gn(s.headers),l=s.statusText,p=AC(s)??e.urlWithParams,g=s.status,h=null;if(e.reportProgress&&i.next(new Ga({headers:a,status:g,statusText:l,url:p})),s.body){let b=s.headers.get("content-length"),S=[],$=s.body.getReader(),j=0,V,ve,Ct=typeof Zone<"u"&&Zone.current,Pe=!1;if(yield this.ngZone.runOutsideAngular(()=>An(this,null,function*(){for(;;){if(this.destroyed){yield $.cancel(),Pe=!0;break}let{done:Ii,value:Fs}=yield $.read();if(Ii)break;if(S.push(Fs),j+=Fs.length,e.reportProgress){ve=e.responseType==="text"?(ve??"")+(V??=new TextDecoder).decode(Fs,{stream:!0}):void 0;let R0=()=>i.next({type:Br.DownloadProgress,total:b?+b:void 0,loaded:j,partialText:ve});Ct?Ct.run(R0):R0()}}})),Pe){i.complete();return}let Wr=this.concatChunks(S,j);try{let Ii=s.headers.get(za)??"";h=this.parseBody(e,Wr,Ii)}catch(Ii){i.error(new dr({error:Ii,headers:new gn(s.headers),status:s.status,statusText:s.statusText,url:AC(s)??e.urlWithParams}));return}}g===0&&(g=h?RC:0),g>=200&&g<300?(i.next(new is({body:h,headers:a,status:g,statusText:l,url:p})),i.complete()):i.error(new dr({error:h,headers:a,status:g,statusText:l,url:p}))})}parseBody(e,r,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(T6,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i;if(i=e.credentials,e.withCredentials&&(i="include"),e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has(ed)||(r[ed]=NC),!e.headers.has(za)){let o=e.detectContentTypeHeader();o!==null&&(r[za]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i,keepalive:e.keepalive,cache:e.cache,priority:e.priority,mode:e.mode,redirect:e.redirect}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Om=class{};function Am(){}function k6(t){t.then(Am,Am)}function N6(t,n){return n(t)}function R6(t,n,e){return(r,i)=>vt(e,()=>n(r,o=>t(o,i)))}var Nm=new U(""),LC=new U(""),jC=new U("",{providedIn:"root",factory:()=>!0});var td=(()=>{class t extends ns{backend;injector;chain=null;pendingTasks=M(aa);contributeToStability=M(jC);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Nm),...this.injector.get(LC,[])]));this.chain=r.reduceRight((i,o)=>R6(i,o,this.injector),N6)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(on(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(F(Ur),F(Xe))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var F6=/^\)\]\}',?\n/,L6=RegExp(`^${km}:`,"m");function j6(t){return"responseURL"in t&&t.responseURL?t.responseURL:L6.test(t.getAllResponseHeaders())?t.getResponseHeader(km):null}var Tm=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new N(-2800,!1);let r=this.xhrFactory;return q(null).pipe($e(()=>new oe(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((j,V)=>s.setRequestHeader(j,V.join(","))),e.headers.has(ed)||s.setRequestHeader(ed,NC),!e.headers.has(za)){let j=e.detectContentTypeHeader();j!==null&&s.setRequestHeader(za,j)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let j=e.responseType.toLowerCase();s.responseType=j!=="json"?j:"text"}let a=e.serializeBody(),l=null,p=()=>{if(l!==null)return l;let j=s.statusText||"OK",V=new gn(s.getAllResponseHeaders()),ve=j6(s)||e.url;return l=new Ga({headers:V,status:s.status,statusText:j,url:ve}),l},g=()=>{let{headers:j,status:V,statusText:ve,url:Ct}=p(),Pe=null;V!==A6&&(Pe=typeof s.response>"u"?s.responseText:s.response),V===0&&(V=Pe?RC:0);let Wr=V>=200&&V<300;if(e.responseType==="json"&&typeof Pe=="string"){let Ii=Pe;Pe=Pe.replace(F6,"");try{Pe=Pe!==""?JSON.parse(Pe):null}catch(Fs){Pe=Ii,Wr&&(Wr=!1,Pe={error:Fs,text:Pe})}}Wr?(o.next(new is({body:Pe,headers:j,status:V,statusText:ve,url:Ct||void 0})),o.complete()):o.error(new dr({error:Pe,headers:j,status:V,statusText:ve,url:Ct||void 0}))},h=j=>{let{url:V}=p(),ve=new dr({error:j,status:s.status||0,statusText:s.statusText||"Unknown Error",url:V||void 0});o.error(ve)},x=h;e.timeout&&(x=j=>{let{url:V}=p(),ve=new dr({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:V||void 0});o.error(ve)});let b=!1,S=j=>{b||(o.next(p()),b=!0);let V={type:Br.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(V.total=j.total),e.responseType==="text"&&s.responseText&&(V.partialText=s.responseText),o.next(V)},$=j=>{let V={type:Br.UploadProgress,loaded:j.loaded};j.lengthComputable&&(V.total=j.total),o.next(V)};return s.addEventListener("load",g),s.addEventListener("error",h),s.addEventListener("timeout",x),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",S),a!==null&&s.upload&&s.upload.addEventListener("progress",$)),s.send(a),o.next({type:Br.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",g),s.removeEventListener("timeout",x),e.reportProgress&&(s.removeEventListener("progress",S),a!==null&&s.upload&&s.upload.removeEventListener("progress",$)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(F(ao))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),VC=new U(""),V6="XSRF-TOKEN",B6=new U("",{providedIn:"root",factory:()=>V6}),U6="X-XSRF-TOKEN",H6=new U("",{providedIn:"root",factory:()=>U6}),qa=class{},$6=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Va(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||t)(F(ke),F(B6))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function z6(t,n){let e=t.url.toLowerCase();if(!M(VC)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let r=M(qa).getToken(),i=M(H6);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var nd=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(nd||{});function BC(t,n){return{\u0275kind:t,\u0275providers:n}}function Rm(...t){let n=[Se,Tm,td,{provide:ns,useExisting:td},{provide:Ur,useFactory:()=>M(FC,{optional:!0})??M(Tm)},{provide:Nm,useValue:z6,multi:!0},{provide:VC,useValue:!0},{provide:qa,useClass:$6}];for(let e of t)n.push(...e.\u0275providers);return er(n)}function Fm(t){return BC(nd.Interceptors,t.map(n=>({provide:Nm,useValue:n,multi:!0})))}function Lm(){return BC(nd.Fetch,[Ku,{provide:FC,useExisting:Ku},{provide:Ur,useExisting:Ku}])}var UC=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(F(ke))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ue="primary",ol=Symbol("RouteTitle"),Hm=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function uo(t){return new Hm(t)}function QC(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function q6(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!fr(t[e],n[e]))return!1;return!0}function fr(t,n){let e=t?$m(t):void 0,r=n?$m(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!ZC(t[i],n[i]))return!1;return!0}function $m(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZC(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function KC(t){return t.length>0?t[t.length-1]:null}function Hr(t){return Xn(t)?t:kr(t)?Te(Promise.resolve(t)):q(t)}var W6={exact:XC,subset:e_},JC={exact:Y6,subset:Q6,ignored:()=>!0};function HC(t,n,e){return W6[e.paths](t.root,n.root,e.matrixParams)&&JC[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function Y6(t,n){return fr(t,n)}function XC(t,n,e){if(!lo(t.segments,n.segments)||!od(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!XC(t.children[r],n.children[r],e))return!1;return!0}function Q6(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>ZC(t[e],n[e]))}function e_(t,n,e){return t_(t,n,n.segments,e)}function t_(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!lo(i,e)||n.hasChildren()||!od(i,e,r))}else if(t.segments.length===e.length){if(!lo(t.segments,e)||!od(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!e_(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!lo(t.segments,i)||!od(t.segments,i,r)||!t.children[ue]?!1:t_(t.children[ue],n,o,r)}}function od(t,n,e){return n.every((r,i)=>JC[e](t[i].parameters,r.parameters))}var gr=class{root;queryParams;fragment;_queryParamMap;constructor(n=new xe([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){return J6.serialize(this)}},xe=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}},di=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=uo(this.parameters),this._parameterMap}toString(){return r_(this)}};function Z6(t,n){return lo(t,n)&&t.every((e,r)=>fr(e.parameters,n[r].parameters))}function lo(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function K6(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(e=e.concat(n(i,r)))}),e}var fo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>new fi,providedIn:"root"})}return t})(),fi=class{parse(n){let e=new Gm(n);return new gr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Wa(n.root,!0)}`,r=tS(n.queryParams),i=typeof n.fragment=="string"?`#${X6(n.fragment)}`:"";return`${e}${r}${i}`}},J6=new fi;function sd(t){return t.segments.map(n=>r_(n)).join("/")}function Wa(t,n){if(!t.hasChildren())return sd(t);if(n){let e=t.children[ue]?Wa(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${Wa(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=K6(t,(r,i)=>i===ue?[Wa(t.children[ue],!1)]:[`${i}:${Wa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${sd(t)}/${e[0]}`:`${sd(t)}/(${e.join("//")})`}}function n_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(t){return n_(t).replace(/%3B/gi,";")}function X6(t){return encodeURI(t)}function zm(t){return n_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(t){return decodeURIComponent(t)}function $C(t){return ad(t.replace(/\+/g,"%20"))}function r_(t){return`${zm(t.path)}${eS(t.parameters)}`}function eS(t){return Object.entries(t).map(([n,e])=>`;${zm(n)}=${zm(e)}`).join("")}function tS(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${rd(e)}=${rd(i)}`).join("&"):`${rd(e)}=${rd(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var nS=/^[^\/()?;#]+/;function jm(t){let n=t.match(nS);return n?n[0]:""}var rS=/^[^\/()?;=#]+/;function iS(t){let n=t.match(rS);return n?n[0]:""}var oS=/^[^=?&#]+/;function sS(t){let n=t.match(oS);return n?n[0]:""}var aS=/^[^&#]+/;function lS(t){let n=t.match(aS);return n?n[0]:""}var Gm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[ue]=new xe(n,e)),r}parseSegment(){let n=jm(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(n),new di(ad(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=iS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=jm(this.remaining);i&&(r=i,this.capture(r))}n[ad(e)]=ad(r)}parseQueryParam(n){let e=sS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=lS(this.remaining);s&&(r=s,this.capture(r))}let i=$C(e),o=$C(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ue);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[ue]:new xe([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new N(4011,!1)}};function i_(t){return t.segments.length>0?new xe([],{[ue]:t}):t}function o_(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=o_(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new xe(t.segments,n);return cS(e)}function cS(t){if(t.numberOfChildren===1&&t.children[ue]){let n=t.children[ue];return new xe(t.segments.concat(n.segments),n.children)}return t}function pi(t){return t instanceof gr}function s_(t,n,e=null,r=null){let i=a_(t);return l_(i,n,e,r)}function a_(t){let n;function e(o){let s={};for(let l of o.children){let p=e(l);s[l.outlet]=p}let a=new xe(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=i_(r);return n??i}function l_(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Vm(i,i,i,e,r);let o=uS(n);if(o.toRoot())return Vm(i,i,new xe([],{}),e,r);let s=dS(o,i,t),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):u_(s.segmentGroup,s.index,o.commands);return Vm(i,s.segmentGroup,a,e,r)}function ld(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ka(t){return typeof t=="object"&&t!=null&&t.outlets}function Vm(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,p])=>{o[l]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`});let s;t===n?s=e:s=c_(t,n,e);let a=i_(o_(s));return new gr(a,o,i)}function c_(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=c_(o,n,e)}),new xe(t.segments,r)}var cd=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&ld(r[0]))throw new N(4003,!1);let i=r.find(Ka);if(i&&i!==KC(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uS(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new cd(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,p])=>{a[l]=typeof p=="string"?p.split("/"):p}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cd(e,n,r)}var as=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function dS(t,n,e){if(t.isAbsolute)return new as(n,!0,0);if(!e)return new as(n,!1,NaN);if(e.parent===null)return new as(e,!0,0);let r=ld(t.commands[0])?0:1,i=e.segments.length-1+r;return fS(e,i,t.numberOfDoubleDots)}function fS(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new as(r,!1,i-o)}function pS(t){return Ka(t[0])?t[0].outlets:{[ue]:t}}function u_(t,n,e){if(t??=new xe([],{}),t.segments.length===0&&t.hasChildren())return Qa(t,n,e);let r=gS(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[ue]=new xe(t.segments.slice(r.pathIndex),t.children),Qa(o,0,i)}else return r.match&&i.length===0?new xe(t.segments,{}):r.match&&!t.hasChildren()?qm(t,n,e):r.match?Qa(t,0,i):qm(t,n,e)}function Qa(t,n,e){if(e.length===0)return new xe(t.segments,{});{let r=pS(e),i={};if(Object.keys(r).some(o=>o!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let o=Qa(t.children[ue],n,e);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=u_(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(t.segments,i)}}function gS(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(Ka(a))break;let l=`${a}`,p=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&p&&typeof p=="object"&&p.outlets===void 0){if(!GC(l,p,s))return o;r+=2}else{if(!GC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qm(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(Ka(o)){let l=hS(o.outlets);return new xe(r,l)}if(i===0&&ld(e[0])){let l=t.segments[n];r.push(new di(l.path,zC(e[0]))),i++;continue}let s=Ka(o)?o.outlets[ue]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&ld(a)?(r.push(new di(s,zC(a))),i+=2):(r.push(new di(s,{})),i++)}return new xe(r,{})}function hS(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=qm(new xe([],{}),0,r))}),n}function zC(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function GC(t,n,e){return t==e.path&&fr(n,e.parameters)}var ls="imperative",mt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(mt||{}),mn=class{id;url;constructor(n,e){this.id=n,this.url=e}},gi=class extends mn{type=mt.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends mn{urlAfterRedirects;type=mt.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(qt||{}),us=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(us||{}),pr=class extends mn{reason;code;type=mt.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hr=class extends mn{reason;code;type=mt.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},ds=class extends mn{error;target;type=mt.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ja=class extends mn{urlAfterRedirects;state;type=mt.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ud=class extends mn{urlAfterRedirects;state;type=mt.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dd=class extends mn{urlAfterRedirects;state;shouldActivate;type=mt.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fd=class extends mn{urlAfterRedirects;state;type=mt.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pd=class extends mn{urlAfterRedirects;state;type=mt.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gd=class{route;type=mt.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hd=class{route;type=mt.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},md=class{snapshot;type=mt.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vd=class{snapshot;type=mt.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bd=class{snapshot;type=mt.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yd=class{snapshot;type=mt.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fs=class{routerEvent;position;anchor;type=mt.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Xa=class{},ps=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function mS(t){return!(t instanceof Xa)&&!(t instanceof ps)}function vS(t,n){return t.providers&&!t._injector&&(t._injector=Jo(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Qn(t){return t.outlet||ue}function bS(t,n){let e=t.filter(r=>Qn(r)===n);return e.push(...t.filter(r=>Qn(r)!==n)),e}function ms(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Cd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ms(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new po(this.rootInjector)}},po=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Cd(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(F(Xe))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_d=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Wm(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=Wm(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Ym(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Ym(n,this._root).map(e=>e.value)}};function Wm(t,n){if(t===n.value)return n;for(let e of n.children){let r=Wm(t,e);if(r)return r}return null}function Ym(t,n){if(t===n.value)return[n];for(let e of n.children){let r=Ym(t,e);if(r.length)return r.unshift(n),r}return[]}var hn=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function ss(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var el=class extends _d{snapshot;constructor(n,e){super(n),this.snapshot=e,n0(this,n)}toString(){return this.snapshot.toString()}};function d_(t){let n=yS(t),e=new Ue([new di("",{})]),r=new Ue({}),i=new Ue({}),o=new Ue({}),s=new Ue(""),a=new Ve(e,r,o,s,i,ue,t,n.root);return a.snapshot=n.root,new el(new hn(a,[]),n)}function yS(t){let n={},e={},r={},i="",o=new co([],n,r,i,e,ue,t,null,{});return new tl("",new hn(o,[]))}var Ve=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(p=>p[ol]))??q(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(n=>uo(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(n=>uo(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xd(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:T(T({},n.params),t.params),data:T(T({},n.data),t.data),resolve:T(T(T(T({},t.data),n.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&p_(i)&&(r.resolve[ol]=i.title),r}var co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ol]}constructor(n,e,r,i,o,s,a,l,p){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},tl=class extends _d{url;constructor(n,e){super(e),this.url=n,n0(this,e)}toString(){return f_(this._root)}};function n0(t,n){n.value._routerState=t,n.children.forEach(e=>n0(t,e))}function f_(t){let n=t.children.length>0?` { ${t.children.map(f_).join(", ")} } `:"";return`${t.value}${n}`}function Bm(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,fr(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),fr(n.params,e.params)||t.paramsSubject.next(e.params),q6(n.url,e.url)||t.urlSubject.next(e.url),fr(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qm(t,n){let e=fr(t.params,n.params)&&Z6(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Qm(t.parent,n.parent))}function p_(t){return typeof t.title=="string"||t.title===null}var g_=new U(""),sl=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=Fy(void 0);parentContexts=M(po);location=M(Hn);changeDetector=M(Sn);inputBinder=M(al,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Zm(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ye({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[wt]})}return t})(),Zm=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Ve?this.route:n===po?this.childContexts:n===g_?this.outletData:this.parent.get(n,e)}},al=new U(""),r0=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Hs([r.queryParams,r.params,r.data]).pipe($e(([o,s,a],l)=>(a=T(T(T({},o),s),a),l===0?q(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=jy(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),i0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=k({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&v(0,"router-outlet")},dependencies:[sl],encapsulation:2})}return t})();function o0(t){let n=t.children&&t.children.map(o0),e=n?ie(T({},t),{children:n}):T({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ue&&(e.component=i0),e}function CS(t,n,e){let r=nl(t,n._root,e?e._root:void 0);return new el(r,n)}function nl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=_S(t,n,e);return new hn(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>nl(t,a)),s}}let r=xS(n.value),i=n.children.map(o=>nl(t,o));return new hn(r,i)}}function _S(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nl(t,r,i);return nl(t,r)})}function xS(t){return new Ve(new Ue(t.url),new Ue(t.params),new Ue(t.queryParams),new Ue(t.fragment),new Ue(t.data),t.outlet,t.component,t)}var gs=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},h_="ngNavigationCancelingError";function wd(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=pi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=m_(!1,qt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function m_(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[h_]=!0,e.cancellationCode=n,e}function wS(t){return v_(t)&&pi(t.url)}function v_(t){return!!t&&t[h_]}var MS=(t,n,e,r)=>B(i=>(new Km(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),Km=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Bm(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=ss(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=ss(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=ss(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=ss(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yd(o.value.snapshot))}),n.children.length&&this.forwardEvent(new vd(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(Bm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bm(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Md=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},cs=class{component;route;constructor(n,e){this.component=n,this.route=e}};function ES(t,n,e){let r=t._root,i=n?n._root:null;return Ya(r,i,e,[r.value])}function IS(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function vs(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!bp(t)?t:n.get(t):r}function Ya(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ss(n);return t.children.forEach(s=>{DS(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Za(a,e.getContext(s),i)),i}function DS(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=SS(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Md(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ya(t,n,a?a.children:null,r,i):Ya(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cs(a.outlet.component,s))}else s&&Za(n,a,i),i.canActivateChecks.push(new Md(r)),o.component?Ya(t,null,a?a.children:null,r,i):Ya(t,null,e,r,i);return i}function SS(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!lo(t.url,n.url);case"pathParamsOrQueryParamsChange":return!lo(t.url,n.url)||!fr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qm(t,n)||!fr(t.queryParams,n.queryParams);case"paramsChange":default:return!Qm(t,n)}}function Za(t,n,e){let r=ss(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Za(s,n.children.getContext(o),e):Za(s,null,e):Za(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new cs(n.outlet.component,i)):e.canDeactivateChecks.push(new cs(null,i)):e.canDeactivateChecks.push(new cs(null,i))}function ll(t){return typeof t=="function"}function PS(t){return typeof t=="boolean"}function OS(t){return t&&ll(t.canLoad)}function AS(t){return t&&ll(t.canActivate)}function TS(t){return t&&ll(t.canActivateChild)}function kS(t){return t&&ll(t.canDeactivate)}function NS(t){return t&&ll(t.canMatch)}function b_(t){return t instanceof kn||t?.name==="EmptyError"}var id=Symbol("INITIAL_VALUE");function hs(){return $e(t=>Hs(t.map(n=>n.pipe(Zt(1),ip(id)))).pipe(B(n=>{for(let e of n)if(e!==!0){if(e===id)return id;if(e===!1||RS(e))return e}return!0}),St(n=>n!==id),Zt(1)))}function RS(t){return pi(t)||t instanceof gs}function FS(t,n){return Je(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?q(ie(T({},e),{guardsResult:!0})):LS(s,r,i,t).pipe(Je(a=>a&&PS(a)?jS(r,o,t,n):q(a)),B(a=>ie(T({},e),{guardsResult:a})))})}function LS(t,n,e,r){return Te(t).pipe(Je(i=>$S(i.component,i.route,e,n,r)),wr(i=>i!==!0,!0))}function jS(t,n,e,r){return Te(n).pipe(Cn(i=>xr(BS(i.route.parent,r),VS(i.route,r),HS(t,i.path,e),US(t,i.route,e))),wr(i=>i!==!0,!0))}function VS(t,n){return t!==null&&n&&n(new bd(t)),q(!0)}function BS(t,n){return t!==null&&n&&n(new md(t)),q(!0)}function US(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Jr(()=>{let s=ms(n)??e,a=vs(o,s),l=AS(a)?a.canActivate(n,t):vt(s,()=>a(n,t));return Hr(l).pipe(wr())}));return q(i).pipe(hs())}function HS(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>IS(s)).filter(s=>s!==null).map(s=>Jr(()=>{let a=s.guards.map(l=>{let p=ms(s.node)??e,g=vs(l,p),h=TS(g)?g.canActivateChild(r,t):vt(p,()=>g(r,t));return Hr(h).pipe(wr())});return q(a).pipe(hs())}));return q(o).pipe(hs())}function $S(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let l=ms(n)??i,p=vs(a,l),g=kS(p)?p.canDeactivate(t,n,e,r):vt(l,()=>p(t,n,e,r));return Hr(g).pipe(wr())});return q(s).pipe(hs())}function zS(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=vs(s,t),l=OS(a)?a.canLoad(n,e):vt(t,()=>a(n,e));return Hr(l)});return q(o).pipe(hs(),y_(r))}function y_(t){return Qf(Fe(n=>{if(typeof n!="boolean")throw wd(t,n)}),B(n=>n===!0))}function GS(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=vs(s,t),l=NS(a)?a.canMatch(n,e):vt(t,()=>a(n,e));return Hr(l)});return q(o).pipe(hs(),y_(r))}var rl=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},il=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function os(t){return Jn(new rl(t))}function qS(t){return Jn(new N(4e3,!1))}function WS(t){return Jn(m_(!1,qt.GuardRejected))}var Jm=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ue])return qS(`${n.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(n,e,r,i,o){return YS(e,i,o).pipe(B(s=>{if(s instanceof gr)throw new il(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new il(a);return a}))}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new gr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new xe(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}};function YS(t,n,e){if(typeof t=="string")return q(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:p,data:g,title:h}=n;return Hr(vt(e,()=>r({params:p,data:g,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:h})))}var Xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QS(t,n,e,r,i){let o=C_(t,n,e);return o.matched?(r=vS(n,r),GS(r,n,e,i).pipe(B(s=>s===!0?o:T({},Xm)))):q(o)}function C_(t,n,e){if(n.path==="**")return ZS(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?T({},Xm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||QC)(e,t,n);if(!i)return T({},Xm);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?T(T({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ZS(t){return{matched:!0,parameters:t.length>0?KC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qC(t,n,e,r){return e.length>0&&XS(t,e,r)?{segmentGroup:new xe(n,JS(r,new xe(e,t.children))),slicedSegments:[]}:e.length===0&&eP(t,e,r)?{segmentGroup:new xe(t.segments,KS(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:e}}function KS(t,n,e,r){let i={};for(let o of e)if(Id(t,n,o)&&!r[Qn(o)]){let s=new xe([],{});i[Qn(o)]=s}return T(T({},r),i)}function JS(t,n){let e={};e[ue]=n;for(let r of t)if(r.path===""&&Qn(r)!==ue){let i=new xe([],{});e[Qn(r)]=i}return e}function XS(t,n,e){return e.some(r=>Id(t,n,r)&&Qn(r)!==ue)}function eP(t,n,e){return e.some(r=>Id(t,n,r))}function Id(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function tP(t,n,e){return n.length===0&&!t.children[e]}var e0=class{};function nP(t,n,e,r,i,o,s="emptyOnly"){return new t0(t,n,e,r,i,s,o).recognize()}var rP=31,t0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jm(this.urlSerializer,this.urlTree)}noMatchError(n){return new N(4002,`'${n.segmentGroup}'`)}recognize(){let n=qC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(B(({children:e,rootSnapshot:r})=>{let i=new hn(r,e),o=new tl("",i),s=s_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new co([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,ue,e).pipe(B(r=>({children:r,rootSnapshot:e})),rt(r=>{if(r instanceof il)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rl?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(B(s=>s instanceof hn?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Te(o).pipe(Cn(s=>{let a=r.children[s],l=bS(e,s);return this.processSegmentGroup(n,l,a,s,i)}),np((s,a)=>(s.push(...a),s)),ei(null),tp(),Je(s=>{if(s===null)return os(r);let a=__(s);return iP(a),q(a)}))}processSegment(n,e,r,i,o,s,a){return Te(e).pipe(Cn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(rt(p=>{if(p instanceof rl)return q(null);throw p}))),wr(l=>!!l),rt(l=>{if(b_(l))return tP(r,i,o)?q(new e0):os(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return Qn(r)!==s&&(s===ue||!Id(i,o,r))?os(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):os(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:p,consumedSegments:g,positionalParamSegments:h,remainingSegments:x}=C_(e,i,o);if(!l)return os(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rP&&(this.allowRedirects=!1));let b=new co(o,p,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,WC(i),Qn(i),i.component??i._loadedComponent??null,i,YC(i)),S=xd(b,a,this.paramsInheritanceStrategy);return b.params=Object.freeze(S.params),b.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(g,i.redirectTo,h,b,n).pipe($e(j=>this.applyRedirects.lineralizeSegments(i,j)),Je(j=>this.processSegment(n,r,e,j.concat(x),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=QS(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe($e(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe($e(({routes:p})=>{let g=r._loadedInjector??n,{parameters:h,consumedSegments:x,remainingSegments:b}=l,S=new co(x,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,WC(r),Qn(r),r.component??r._loadedComponent??null,r,YC(r)),$=xd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze($.params),S.data=Object.freeze($.data);let{segmentGroup:j,slicedSegments:V}=qC(e,x,b,p);if(V.length===0&&j.hasChildren())return this.processChildren(g,p,j,S).pipe(B(Ct=>new hn(S,Ct)));if(p.length===0&&V.length===0)return q(new hn(S,[]));let ve=Qn(r)===o;return this.processSegment(g,p,j,V,ve?ue:o,!0,S).pipe(B(Ct=>new hn(S,Ct instanceof hn?[Ct]:[])))}))):os(e)))}getChildConfig(n,e,r){return e.children?q({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?q({routes:e._loadedRoutes,injector:e._loadedInjector}):zS(n,e,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(n,e).pipe(Fe(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):WS(e))):q({routes:[],injector:n})}};function iP(t){t.sort((n,e)=>n.value.outlet===ue?-1:e.value.outlet===ue?1:n.value.outlet.localeCompare(e.value.outlet))}function oP(t){let n=t.value.routeConfig;return n&&n.path===""}function __(t){let n=[],e=new Set;for(let r of t){if(!oP(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=__(r.children);n.push(new hn(r.value,i))}return n.filter(r=>!e.has(r))}function WC(t){return t.data||{}}function YC(t){return t.resolve||{}}function sP(t,n,e,r,i,o){return Je(s=>nP(t,n,e,r,s.extractedUrl,i,o).pipe(B(({state:a,tree:l})=>ie(T({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function aP(t,n){return Je(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return q(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let p of x_(l))s.add(p);let a=0;return Te(s).pipe(Cn(l=>o.has(l)?lP(l,r,t,n):(l.data=xd(l,l.parent,t).resolve,q(void 0))),Fe(()=>a++),Ao(1),Je(l=>a===s.size?q(e):Yt))})}function x_(t){let n=t.children.map(e=>x_(e)).flat();return[t,...n]}function lP(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!p_(i)&&(o[ol]=i.title),Jr(()=>(t.data=xd(t,t.parent,e).resolve,cP(o,t,n,r).pipe(B(s=>(t._resolvedData=s,t.data=T(T({},t.data),s),null)))))}function cP(t,n,e,r){let i=$m(t);if(i.length===0)return q({});let o={};return Te(i).pipe(Je(s=>uP(t[s],n,e,r).pipe(wr(),Fe(a=>{if(a instanceof gs)throw wd(new fi,a);o[s]=a}))),Ao(1),B(()=>o),rt(s=>b_(s)?Yt:Jn(s)))}function uP(t,n,e,r){let i=ms(n)??r,o=vs(t,i),s=o.resolve?o.resolve(n,e):vt(i,()=>o(n,e));return Hr(s)}function Um(t){return $e(n=>{let e=t(n);return e?Te(e).pipe(B(()=>n)):q(n)})}var s0=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(e){return e.data[ol]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>M(w_),providedIn:"root"})}return t})(),w_=(()=>{class t extends s0{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(F(UC))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hi=new U("",{providedIn:"root",factory:()=>({})}),go=new U(""),Dd=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Hh);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Hr(vt(e,()=>r.loadComponent())).pipe(B(E_),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),on(()=>{this.componentLoaders.delete(r)})),o=new Po(i,()=>new ge).pipe(So());return this.componentLoaders.set(r,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=M_(r,this.compiler,e,this.onLoadEndListener).pipe(on(()=>{this.childrenLoaders.delete(r)})),s=new Po(o,()=>new ge).pipe(So());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M_(t,n,e,r){return Hr(vt(e,()=>t.loadChildren())).pipe(B(E_),Je(i=>i instanceof wu||Array.isArray(i)?q(i):Te(n.compileModuleAsync(i))),B(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(go,[],{optional:!0,self:!0}).flat()),{routes:s.map(o0),injector:o}}))}function dP(t){return t&&typeof t=="object"&&"default"in t}function E_(t){return dP(t)?t.default:t}var Sd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>M(fP),providedIn:"root"})}return t})(),fP=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a0=new U(""),l0=new U("");function I_(t,n,e){let r=t.get(l0),i=t.get(ke);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(p=>setTimeout(p));let o,s=new Promise(p=>{o=p}),a=i.startViewTransition(()=>(o(),pP(t)));a.ready.catch(p=>{});let{onViewTransitionCreated:l}=r;return l&&vt(t,()=>l({transition:a,from:n,to:e})),s}function pP(t){return new Promise(n=>{wa({read:()=>setTimeout(n)},{injector:t})})}var c0=new U(""),Pd=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortWithErrorSubject=new ge;configLoader=M(Dd);environmentInjector=M(Xe);destroyRef=M(Bt);urlSerializer=M(fo);rootContexts=M(po);location=M(ur);inputBindingEnabled=M(al,{optional:!0})!==null;titleStrategy=M(s0);options=M(hi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Sd);createViewTransition=M(a0,{optional:!0});navigationErrorHandler=M(c0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new gd(i)),r=i=>this.events.next(new hd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ie(T({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(e){return this.transitions=new Ue(null),this.transitions.pipe(St(r=>r!==null),$e(r=>{let i=!1;return q(r).pipe($e(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qt.SupersededByNewNavigation),Yt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new hr(o.id,this.urlSerializer.serialize(o.rawUrl),l,us.IgnoredSameUrlNavigation)),o.resolve(!1),Yt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe($e(l=>(this.events.next(new gi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Yt:Promise.resolve(l))),sP(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ie(T({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let p=new Ja(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:p,source:g,restoredState:h,extras:x}=o,b=new gi(l,this.urlSerializer.serialize(p),g,h);this.events.next(b);let S=d_(this.rootComponentType).snapshot;return this.currentTransition=r=ie(T({},o),{targetSnapshot:S,urlAfterRedirects:p,extras:ie(T({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,q(r)}else{let l="";return this.events.next(new hr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,us.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Yt}}),Fe(o=>{let s=new ud(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),B(o=>(this.currentTransition=r=ie(T({},o),{guards:ES(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),FS(this.environmentInjector,o=>this.events.next(o)),Fe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw wd(this.urlSerializer,o.guardsResult);let s=new dd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),St(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",qt.GuardRejected),!1)),Um(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(Fe(s=>{let a=new fd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$e(s=>{let a=!1;return q(s).pipe(aP(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",qt.NoDataFromResolver)}}))}),Fe(s=>{let a=new pd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Um(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let p=ms(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(p,a.routeConfig).pipe(Fe(g=>{a.component=g}),B(()=>{})))}for(let p of a.children)l.push(...s(p));return l};return Hs(s(o.targetSnapshot.root)).pipe(ei(null),Zt(1))}),Um(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Te(a).pipe(B(()=>r)):q(r)}),B(o=>{let s=CS(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ie(T({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Fe(()=>{this.events.next(new Xa)}),MS(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Zt(1),ki(new oe(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(St(()=>!i&&!r.targetRouterState),Fe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",qt.Aborted)}))),Fe({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ki(this.transitionAbortWithErrorSubject.pipe(Fe(o=>{throw o}))),on(()=>{i||this.cancelNavigationTransition(r,"",qt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),rt(o=>{if(this.destroyed)return r.resolve(!1),Yt;if(i=!0,v_(o))this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),wS(o)?this.events.next(new ps(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ds(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=vt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof gs){let{message:l,cancellationCode:p}=wd(this.urlSerializer,a);this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,p)),this.events.next(new ps(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Yt}))}))}cancelNavigationTransition(e,r,i){let o=new pr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gP(t){return t!==ls}var D_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>M(hP),providedIn:"root"})}return t})(),Ed=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},hP=(()=>{class t extends Ed{static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),S_=(()=>{class t{urlSerializer=M(fo);options=M(hi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(ur);urlHandlingStrategy=M(Sd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof gr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=d_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>M(mP),providedIn:"root"})}return t})(),mP=(()=>{class t extends S_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof gi?this.updateStateMemento():e instanceof hr?this.commitTransition(r):e instanceof Ja?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Xa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof pr&&e.code!==qt.SupersededByNewNavigation&&e.code!==qt.Redirect?this.restoreHistory(r):e instanceof ds?this.restoreHistory(r,!0):e instanceof vn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=T(T({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=T(T({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Od(t,n){t.events.pipe(St(e=>e instanceof vn||e instanceof pr||e instanceof ds||e instanceof hr),B(e=>e instanceof vn||e instanceof hr?0:(e instanceof pr?e.code===qt.Redirect||e.code===qt.SupersededByNewNavigation:!1)?2:1),St(e=>e!==2),Zt(1)).subscribe(()=>{n()})}var vP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},se=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Ah);stateManager=M(S_);options=M(hi,{optional:!0})||{};pendingTasks=M(or);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(Pd);urlSerializer=M(fo);location=M(ur);urlHandlingStrategy=M(Sd);injector=M(Xe);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(D_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(go,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(al,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ye;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==qt.Redirect&&r.code!==qt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vn)this.navigated=!0;else if(r instanceof ps){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=T({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gP(i.source)},s);this.scheduleNavigation(a,ls,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=T({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Pt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(o0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,p=l?this.currentUrlTree.fragment:s,g=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":g=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let h;try{let x=i?i.snapshot:this.routerState.snapshot.root;h=a_(x)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return l_(h,e,g,p??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=pi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ls,null,r)}navigate(e,r={skipLocationChange:!1}){return yP(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=T({},vP):r===!1?i=T({},bP):i=r,pi(e))return HC(this.currentUrlTree,e,i);let o=this.parseUrl(e);return HC(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,p;s?(a=s.resolve,l=s.reject,p=s.promise):p=new Promise((h,x)=>{a=h,l=x});let g=this.pendingTasks.add();return Od(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yP(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new N(4008,!1)}var de=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=he(null);get href(){return zt(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ge;applicationErrorHandler=M(Pt);options=M(hi,{optional:!0});constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(M(new Au("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=i=>i==="merge"||i==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(i=>{i instanceof vn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(p=>{this.applicationErrorHandler(p)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(C(se),C(Ve),ba("tabindex"),C(Xt),C(dt),C(Gn))};static \u0275dir=ye({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&E("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&fn("href",i.reactiveHref(),ah)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oo],replaceUrl:[2,"replaceUrl","replaceUrl",oo],routerLink:"routerLink"},features:[wt]})}return t})(),Et=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new be;constructor(e,r,i,o,s){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof vn&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Kr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Te(e).pipe(Kr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=CP(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?e.isActive(o,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||t)(C(se),C(dt),C(Xt),C(Sn),C(de,8))};static \u0275dir=ye({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Fh(o,de,5),r&2){let s;Rr(s=Fr())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[wt]})}return t})();function CP(t){return!!t.paths}var cl=class{};var P_=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(St(e=>e instanceof vn),Cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Jo(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Te(i).pipe(Kr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=q(null);let o=i.pipe(Je(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(e,r);return Te([o,s]).pipe(Kr())}else return o})}static \u0275fac=function(r){return new(r||t)(F(se),F(Xe),F(cl),F(Dd))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),O_=new U(""),_P=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ls;restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof hr&&e.code===us.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fs&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>An(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new fs(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){wh()};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function d0(t,...n){return er([{provide:go,multi:!0,useValue:t},[],{provide:Ve,useFactory:A_,deps:[se]},{provide:Ma,multi:!0,useFactory:T_},n.map(e=>e.\u0275providers)])}function A_(t){return t.routerState.root}function ul(t,n){return{\u0275kind:t,\u0275providers:n}}function T_(){let t=M(xt);return n=>{let e=t.get(Nr);if(n!==e.components[0])return;let r=t.get(se),i=t.get(k_);t.get(f0)===1&&r.initialNavigation(),t.get(F_,null,{optional:!0})?.setUpPreloading(),t.get(O_,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var k_=new U("",{factory:()=>new ge}),f0=new U("",{providedIn:"root",factory:()=>1});function N_(){let t=[{provide:f0,useValue:0},Iu(()=>{let n=M(xt);return n.get(om,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(se),o=n.get(k_);Od(i,()=>{r(!0)}),n.get(Pd).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))})];return ul(2,t)}function R_(){let t=[Iu(()=>{M(se).setUpLocationChangeListener()}),{provide:f0,useValue:2}];return ul(3,t)}var F_=new U("");function L_(t){return ul(0,[{provide:F_,useExisting:P_},{provide:cl,useExisting:t}])}function j_(){return ul(8,[r0,{provide:al,useExisting:r0}])}function V_(t){$n("NgRouterViewTransitions");let n=[{provide:a0,useValue:I_},{provide:l0,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return ul(9,n)}var B_=[ur,{provide:fo,useClass:fi},se,po,{provide:Ve,useFactory:A_,deps:[se]},Dd,[]],Zn=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[B_,[],{provide:go,multi:!0,useValue:e},[],r?.errorHandler?{provide:c0,useValue:r.errorHandler}:[],{provide:hi,useValue:r||{}},r?.useHash?wP():MP(),xP(),r?.preloadingStrategy?L_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?EP(r):[],r?.bindToComponentInputs?j_().\u0275providers:[],r?.enableViewTransitions?V_().\u0275providers:[],IP()]}}static forChild(e){return{ngModule:t,providers:[{provide:go,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({})}return t})();function xP(){return{provide:O_,useFactory:()=>{let t=M(bC),n=M(ze),e=M(hi),r=M(Pd),i=M(fo);return e.scrollOffset&&t.setOffset(e.scrollOffset),new _P(i,r,t,n,e)}}}function wP(){return{provide:Gn,useClass:gm}}function MP(){return{provide:Gn,useClass:Ru}}function EP(t){return[t.initialNavigation==="disabled"?R_().\u0275providers:[],t.initialNavigation==="enabledBlocking"?N_().\u0275providers:[]]}var u0=new U("");function IP(){return[{provide:u0,useFactory:T_},{provide:Ma,multi:!0,useExisting:u0}]}var pl=class{},H_=(()=>{class t{handle(e){return e.key}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),bs=class{},$_=(()=>{class t extends bs{compile(e,r){return e}compileTranslations(e,r){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),vi=class{},z_=(()=>{class t extends vi{getTranslation(e){return q({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function Ad(t,n){if(t===n)return!0;if(t===null||n===null)return!1;if(t!==t&&n!==n)return!0;let e=typeof t,r=typeof n,i;if(e==r&&e=="object")if(Array.isArray(t)){if(!Array.isArray(n))return!1;if((i=t.length)==n.length){for(let o=0;o<i;o++)if(!Ad(t[o],n[o]))return!1;return!0}}else{if(Array.isArray(n))return!1;if($r(t)&&$r(n)){let o=Object.create(null);for(let s in t){if(!Ad(t[s],n[s]))return!1;o[s]=!0}for(let s in n)if(!(s in o)&&typeof n[s]<"u")return!1;return!0}}return!1}function mi(t){return typeof t<"u"&&t!==null}function U_(t){return t!==void 0}function $r(t){return fl(t)&&!ho(t)&&t!==null}function fl(t){return typeof t=="object"&&t!==null}function ho(t){return Array.isArray(t)}function Td(t){return typeof t=="string"}function DP(t){return typeof t=="function"}function kd(t){if(ho(t))return t.map(n=>kd(n));if($r(t)){let n={};return Object.keys(t).forEach(e=>{n[e]=kd(t[e])}),n}else return t}function m0(t,n){if(!fl(t))return kd(n);let e=kd(t);return fl(e)&&fl(n)&&Object.keys(n).forEach(r=>{$r(n[r])?r in t?e[r]=m0(t[r],n[r]):Object.assign(e,{[r]:n[r]}):Object.assign(e,{[r]:n[r]})}),e}function G_(t,n){let e=n.split(".");n="";do{n+=e.shift();let r=!e.length;if(mi(t)){if($r(t)&&U_(t[n])&&($r(t[n])||ho(t[n])||r)){t=t[n],n="";continue}if(ho(t)){let i=parseInt(n,10);if(U_(t[i])&&($r(t[i])||ho(t[i])||r)){t=t[i],n="";continue}}}if(r){t=void 0;continue}n+="."}while(e.length);return t}function SP(t,n,e){return m0(t,PP(n,e))}function PP(t,n){return t.split(".").reduceRight((e,r)=>({[r]:e}),n)}var ys=class{},q_=(()=>{class t extends ys{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,r){if(Td(e))return this.interpolateString(e,r);if(DP(e))return this.interpolateFunction(e,r)}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(i,o)=>{let s=this.getInterpolationReplacement(r,o);return s!==void 0?s:i}):e}getInterpolationReplacement(e,r){return this.formatValue(G_(e,r))}formatValue(e){if(Td(e))return e;if(typeof e=="number"||typeof e=="boolean")return e.toString();if(e===null)return"null";if(ho(e))return e.join(", ");if(fl(e))return typeof e.toString=="function"&&e.toString!==Object.prototype.toString?e.toString():JSON.stringify(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),p0=(()=>{class t{_onTranslationChange=new ge;_onLangChange=new ge;_onFallbackLangChange=new ge;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(e){return this.translations[e]}setTranslations(e,r,i){this.translations[e]=i&&this.hasTranslationFor(e)?m0(this.translations[e],r):r,this.addLanguages([e]),this._onTranslationChange.next({lang:e,translations:this.getTranslations(e)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(e,r=!0){this.fallbackLang=e,r&&this._onFallbackLangChange.next({lang:e,translations:this.translations[e]})}setCurrentLang(e,r=!0){this.currentLang=e,r&&this._onLangChange.next({lang:e,translations:this.translations[e]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(e){this.languages=Array.from(new Set([...this.languages,...e]))}hasTranslationFor(e){return typeof this.translations[e]<"u"}deleteTranslations(e){delete this.translations[e]}getTranslation(e){let r=this.getValue(this.currentLang,e);return r===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(r=this.getValue(this.fallbackLang,e)),r}getValue(e,r){return G_(this.getTranslations(e),r)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),g0=new U("TRANSLATE_CONFIG"),dl=t=>Xn(t)?t:q(t);var nt=(()=>{class t{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=M(vi);compiler=M(bs);parser=M(ys);missingTranslationHandler=M(pl);store=M(p0);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let e=T({extend:!1,fallbackLang:null},M(g0,{optional:!0}));e.lang&&this.use(e.lang),e.fallbackLang&&this.setFallbackLang(e.fallbackLang),e.extend&&(this.extend=!0)}setFallbackLang(e){this.getFallbackLang()||this.store.setFallbackLang(e,!1);let r=this.loadOrExtendLanguage(e);return Xn(r)?(r.pipe(Zt(1)).subscribe({next:()=>{this.store.setFallbackLang(e)},error:()=>{}}),r):(this.store.setFallbackLang(e),q(this.store.getTranslations(e)))}use(e){this.lastUseLanguage=e,this.getCurrentLang()||this.store.setCurrentLang(e,!1);let r=this.loadOrExtendLanguage(e);return Xn(r)?(r.pipe(Zt(1)).subscribe({next:()=>{this.changeLang(e)},error:()=>{}}),r):(this.changeLang(e),q(this.store.getTranslations(e)))}loadOrExtendLanguage(e){if(!this.store.hasTranslationFor(e)||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}changeLang(e){e===this.lastUseLanguage&&this.store.setCurrentLang(e)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(e){this.pending=!0;let r=this.currentLoader.getTranslation(e).pipe(dc(1),Zt(1));return this.loadingTranslations=r.pipe(B(i=>this.compiler.compileTranslations(i,e)),dc(1),Zt(1)),this.loadingTranslations.subscribe({next:i=>{this.store.setTranslations(e,i,this.extend),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(e,r,i=!1){let o=this.compiler.compileTranslations(r,e);this.store.setTranslations(e,o,i||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(e){this.store.addLanguages(e)}getParsedResultForKey(e,r){let i=this.getTextToInterpolate(e);if(mi(i))return this.runInterpolation(i,r);let o=this.missingTranslationHandler.handle(T({key:e,translateService:this},r!==void 0&&{interpolateParams:r}));return o!==void 0?o:e}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(e){return this.store.getTranslation(e)}runInterpolation(e,r){if(mi(e))return ho(e)?this.runInterpolationOnArray(e,r):$r(e)?this.runInterpolationOnDict(e,r):this.parser.interpolate(e,r)}runInterpolationOnArray(e,r){return e.map(i=>this.runInterpolation(i,r))}runInterpolationOnDict(e,r){let i={};for(let o in e){let s=this.runInterpolation(e[o],r);s!==void 0&&(i[o]=s)}return i}getParsedResult(e,r){return e instanceof Array?this.getParsedResultForArray(e,r):this.getParsedResultForKey(e,r)}getParsedResultForArray(e,r){let i={},o=!1;for(let a of e)i[a]=this.getParsedResultForKey(a,r),o=o||Xn(i[a]);if(!o)return i;let s=e.map(a=>dl(i[a]));return Ti(s).pipe(B(a=>{let l={};return a.forEach((p,g)=>{l[e[g]]=p}),l}))}get(e,r){if(!mi(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Cn(()=>dl(this.getParsedResult(e,r)))):dl(this.getParsedResult(e,r))}getStreamOnTranslationChange(e,r){if(!mi(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return xr(Jr(()=>this.get(e,r)),this.onTranslationChange.pipe($e(()=>{let i=this.getParsedResult(e,r);return dl(i)})))}stream(e,r){if(!mi(e)||!e.length)throw new Error('Parameter "key" required');return xr(Jr(()=>this.get(e,r)),this.onLangChange.pipe($e(()=>{let i=this.getParsedResult(e,r);return dl(i)})))}instant(e,r){if(!mi(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(e,r);return Xn(i)?Array.isArray(e)?e.reduce((o,s)=>(o[s]=s,o),{}):e:i}set(e,r,i=this.getCurrentLang()){this.store.setTranslations(i,SP(this.store.getTranslations(i),e,Td(r)?this.compiler.compile(r,i):this.compiler.compileTranslations(r,i)),!1)}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],this.store.deleteTranslations(e)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return t.getBrowserLang()}getBrowserCultureLang(){return t.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(e){return this.setFallbackLang(e)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var Ze=(()=>{class t{translate=M(nt);_ref=M(Sn);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(e,r,i){let o=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(e,r);Xn(s)?s.subscribe(o):o(s)}this.translate.get(e,r).subscribe(o)}transform(e,...r){if(!e||!e.length)return e;if(Ad(e,this.lastKey)&&Ad(r,this.lastParams))return this.value;let i;if(mi(r[0])&&r.length)if(Td(r[0])&&r[0].length){let o=r[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else $r(r[0])&&(i=r[0]);return this.lastKey=e,this.lastParams=r,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{(this.lastKey&&o.lang===this.translate.getCurrentLang()||o.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(e,i,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,o.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=dn({name:"translate",type:t,pure:!1});static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function W_(t){return{provide:vi,useClass:t}}function Y_(t){return{provide:bs,useClass:t}}function Q_(t){return{provide:ys,useClass:t}}function Z_(t){return{provide:pl,useClass:t}}function K_(t={}){return h0(T({compiler:Y_($_),parser:Q_(q_),loader:W_(z_),missingTranslationHandler:Z_(H_)},t),!0)}function h0(t={},n){let e=[];t.loader&&e.push(t.loader),t.compiler&&e.push(t.compiler),t.parser&&e.push(t.parser),t.missingTranslationHandler&&e.push(t.missingTranslationHandler),n&&e.push(p0),(t.useDefaultLang||t.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),t.useDefaultLang===!0&&t.defaultLanguage&&(t.fallbackLang=t.defaultLanguage));let r={fallbackLang:t.fallbackLang??null,lang:t.lang,extend:t.extend??!1};return e.push({provide:g0,useValue:r}),e.push({provide:nt,useClass:nt,deps:[p0,vi,bs,ys,pl,g0]}),e}var Be=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[...h0(T({compiler:Y_($_),parser:Q_(q_),loader:W_(z_),missingTranslationHandler:Z_(H_)},e),!0)]}}static forChild(e={}){return{ngModule:t,providers:[...h0(e,e.isolate??!1)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({})}return t})();var ax=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(C(Xt),C(dt))};static \u0275dir=ye({type:t})}return t})(),Cl=(()=>{class t extends ax{static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=ye({type:t,features:[Ut]})}return t})(),mo=new U(""),OP={provide:mo,useExisting:Kt(()=>C0),multi:!0},C0=(()=>{class t extends Cl{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[pn([OP]),Ut]})}return t})(),AP={provide:mo,useExisting:Kt(()=>Ke),multi:!0};function TP(){let t=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var kP=new U(""),Ke=(()=>{class t extends ax{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!TP())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(C(Xt),C(dt),C(kP,8))};static \u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&E("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[pn([AP]),Ut]})}return t})();function _0(t){return t==null||x0(t)===0}function x0(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var zd=new U(""),Gd=new U(""),NP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Re=class{static min(n){return RP(n)}static max(n){return FP(n)}static required(n){return LP(n)}static requiredTrue(n){return jP(n)}static email(n){return VP(n)}static minLength(n){return BP(n)}static maxLength(n){return UP(n)}static pattern(n){return HP(n)}static nullValidator(n){return lx()}static compose(n){return gx(n)}static composeAsync(n){return hx(n)}};function RP(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function FP(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function LP(t){return _0(t.value)?{required:!0}:null}function jP(t){return t.value===!0?null:{required:!0}}function VP(t){return _0(t.value)||NP.test(t.value)?null:{email:!0}}function BP(t){return n=>{let e=n.value?.length??x0(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function UP(t){return n=>{let e=n.value?.length??x0(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function HP(t){if(!t)return lx;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(_0(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function lx(t){return null}function cx(t){return t!=null}function ux(t){return kr(t)?Te(t):t}function dx(t){let n={};return t.forEach(e=>{n=e!=null?T(T({},n),e):n}),Object.keys(n).length===0?null:n}function fx(t,n){return n.map(e=>e(t))}function $P(t){return!t.validate}function px(t){return t.map(n=>$P(n)?n:e=>n.validate(e))}function gx(t){if(!t)return null;let n=t.filter(cx);return n.length==0?null:function(e){return dx(fx(e,n))}}function w0(t){return t!=null?gx(px(t)):null}function hx(t){if(!t)return null;let n=t.filter(cx);return n.length==0?null:function(e){let r=fx(e,n).map(ux);return Ti(r).pipe(B(dx))}}function M0(t){return t!=null?hx(px(t)):null}function J_(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function mx(t){return t._rawValidators}function vx(t){return t._rawAsyncValidators}function v0(t){return t?Array.isArray(t)?t:[t]:[]}function Rd(t,n){return Array.isArray(t)?t.includes(n):t===n}function X_(t,n){let e=v0(n);return v0(t).forEach(i=>{Rd(e,i)||e.push(i)}),e}function ex(t,n){return v0(n).filter(e=>!Rd(t,e))}var Fd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=w0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=M0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},zr=class extends Fd{name;get formDirective(){return null}get path(){return null}},bi=class extends Fd{_parent=null;name=null;valueAccessor=null},Ld=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},NG=ie(T({},zP),{"[class.ng-submitted]":"isSubmitted"}),st=(()=>{class t extends Ld{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(C(bi,2))};static \u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&W("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ut]})}return t})(),mr=(()=>{class t extends Ld{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(C(zr,10))};static \u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&W("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ut]})}return t})();var gl="VALID",Nd="INVALID",Cs="PENDING",hl="DISABLED",yi=class{},jd=class extends yi{value;source;constructor(n,e){super(),this.value=n,this.source=e}},vl=class extends yi{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},bl=class extends yi{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},_s=class extends yi{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Vd=class extends yi{source;constructor(n){super(),this.source=n}},Bd=class extends yi{source;constructor(n){super(),this.source=n}};function E0(t){return(qd(t)?t.validators:t)||null}function GP(t){return Array.isArray(t)?w0(t):t||null}function I0(t,n){return(qd(n)?n.asyncValidators:t)||null}function qP(t){return Array.isArray(t)?M0(t):t||null}function qd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function bx(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new N(1e3,"");if(!r[e])throw new N(1001,"")}function yx(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new N(1002,"")})}var xs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return zt(this.statusReactive)}set status(n){zt(()=>this.statusReactive.set(n))}_status=Me(()=>this.statusReactive());statusReactive=he(void 0);get valid(){return this.status===gl}get invalid(){return this.status===Nd}get pending(){return this.status==Cs}get disabled(){return this.status===hl}get enabled(){return this.status!==hl}errors;get pristine(){return zt(this.pristineReactive)}set pristine(n){zt(()=>this.pristineReactive.set(n))}_pristine=Me(()=>this.pristineReactive());pristineReactive=he(!0);get dirty(){return!this.pristine}get touched(){return zt(this.touchedReactive)}set touched(n){zt(()=>this.touchedReactive.set(n))}_touched=Me(()=>this.touchedReactive());touchedReactive=he(!1);get untouched(){return!this.touched}_events=new ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(X_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(X_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ex(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ex(n,this._rawAsyncValidators))}hasValidator(n){return Rd(this._rawValidators,n)}hasAsyncValidator(n){return Rd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(ie(T({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new bl(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new bl(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(ie(T({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new vl(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new vl(!0,r))}markAsPending(n={}){this.status=Cs;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new _s(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(ie(T({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=hl,this.errors=null,this._forEachChild(i=>{i.disable(ie(T({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jd(this.value,r)),this._events.next(new _s(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(T({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=gl,this._forEachChild(r=>{r.enable(ie(T({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ie(T({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gl||this.status===Cs)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new jd(this.value,e)),this._events.next(new _s(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(ie(T({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hl:gl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Cs,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let r=ux(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new _s(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?hl:this.errors?Nd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cs)?Cs:this._anyControlsHaveStatus(Nd)?Nd:gl}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new vl(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new bl(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){qd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=GP(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=qP(this._rawAsyncValidators)}},ws=class extends xs{constructor(n,e,r){super(E0(e),I0(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){yx(this,!0,n),Object.keys(n).forEach(r=>{bx(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var b0=class extends ws{};var Ms=new U("",{providedIn:"root",factory:()=>_l}),_l="always";function Cx(t,n){return[...n.path,t]}function Ud(t,n,e=_l){D0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),YP(t,n),ZP(t,n),QP(t,n),WP(t,n)}function tx(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),$d(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Hd(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function WP(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function D0(t,n){let e=mx(t);n.validator!==null?t.setValidators(J_(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=vx(t);n.asyncValidator!==null?t.setAsyncValidators(J_(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Hd(n._rawValidators,i),Hd(n._rawAsyncValidators,i)}function $d(t,n){let e=!1;if(t!==null){if(n.validator!==null){let i=mx(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let i=vx(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Hd(n._rawValidators,r),Hd(n._rawAsyncValidators,r),e}function YP(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&_x(t,n)})}function QP(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&_x(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function _x(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZP(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function xx(t,n){t==null,D0(t,n)}function KP(t,n){return $d(t,n)}function wx(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function JP(t){return Object.getPrototypeOf(t.constructor)===Cl}function Mx(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ex(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===Ke?e=o:JP(o)?r=o:i=o}),i||r||e||null}function XP(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var eO={provide:zr,useExisting:Kt(()=>S0)},ml=Promise.resolve(),S0=(()=>{class t extends zr{callSetDisabledState;get submitted(){return zt(this.submittedReactive)}_submitted=Me(()=>this.submittedReactive());submittedReactive=he(!1);_directives=new Set;form;ngSubmit=new be;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new ws({},w0(e),M0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ml.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Ud(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ml.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ml.then(()=>{let r=this._findContainer(e.path),i=new ws({});xx(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ml.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){ml.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Mx(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Vd(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Bd(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(C(zd,10),C(Gd,10),C(Ms,8))};static \u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&E("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[pn([eO]),Ut]})}return t})();function nx(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function rx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yl=class extends xs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(E0(e),I0(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(rx(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){nx(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){nx(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){rx(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var tO=t=>t instanceof yl;var nO={provide:bi,useExisting:Kt(()=>yn)},ix=Promise.resolve(),yn=(()=>{class t extends bi{_changeDetectorRef;callSetDisabledState;control=new yl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ex(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),wx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ud(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){ix.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&oo(r);ix.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Cx(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(C(zr,9),C(zd,10),C(Gd,10),C(mo,10),C(Sn,8),C(Ms,8))};static \u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[pn([nO]),Ut,wt]})}return t})();var vr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var rO={provide:mo,useExisting:Kt(()=>P0),multi:!0};var iO=(()=>{class t{_accessors=[];add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),P0=(()=>{class t extends Cl{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=M(Ms,{optional:!0})??_l;constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(bi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||t)(C(Xt),C(dt),C(iO),C(xt))};static \u0275dir=ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[pn([rO]),Ut]})}return t})();var Ix=new U("");var oO={provide:zr,useExisting:Kt(()=>Gr)},Gr=(()=>{class t extends zr{callSetDisabledState;get submitted(){return zt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Me(()=>this._submittedReactive());_submittedReactive=he(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new be;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($d(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Ud(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){tx(e.control||null,e,!1),XP(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),Mx(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Vd(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,r={}){this.form.reset(e,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Bd(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(tx(r||null,e),tO(i)&&(Ud(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);xx(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&KP(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){D0(this.form,this),this._oldForm&&$d(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(C(zd,10),C(Gd,10),C(Ms,8))};static \u0275dir=ye({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&E("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[pn([oO]),Ut,wt]})}return t})();var sO={provide:bi,useExisting:Kt(()=>qr)},qr=(()=>{class t extends bi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ex(this,o)}ngOnChanges(e){this._added||this._setUpControl(),wx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Cx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(C(zr,13),C(zd,10),C(Gd,10),C(mo,10),C(Ix,8))};static \u0275dir=ye({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[pn([sO]),Ut,wt]})}return t})();var aO={provide:mo,useExisting:Kt(()=>Es),multi:!0};function Dx(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function lO(t){return t.split(":")[0]}var Es=(()=>{class t extends Cl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=M(Nr).injector;appRefDestroyRef=this.appRefInjector.get(Bt);destroyRef=M(Bt);cdr=M(Sn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,wa({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),i=Dx(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=lO(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pn([aO]),Ut]})}return t})(),Wd=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Dx(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(C(dt),C(Xt),C(Es,9))};static \u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),cO={provide:mo,useExisting:Kt(()=>Sx),multi:!0};function ox(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function uO(t){return t.split(":")[0]}var Sx=(()=>{class t extends Cl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],p=this._getOptionValue(l.value);i.push(p)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let p=this._getOptionValue(l.value);i.push(p)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=uO(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=un(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&E("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pn([cO]),Ut]})}return t})(),Yd=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ox(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ox(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(C(dt),C(Xt),C(Sx,9))};static \u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var Px=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({})}return t})(),y0=class extends xs{constructor(n,e,r){super(E0(e),I0(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){yx(this,!1,n),n.forEach((r,i)=>{bx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function sx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Ci=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return sx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ws(i,o)}record(e,r=null){let i=this._reduceControls(e);return new b0(i,r)}control(e,r,i){let o={};return this.useNonNullable?(sx(r)?o=r:(o.validators=r,o.asyncValidators=i),new yl(e,ie(T({},o),{nonNullable:!0}))):new yl(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new y0(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof yl)return e;if(e instanceof xs)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ms,useValue:e.callSetDisabledState??_l}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({imports:[Px]})}return t})(),_i=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ix,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ms,useValue:e.callSetDisabledState??_l}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({imports:[Px]})}return t})();var Ie={apiBaseUrl:"https://localhost:7207/api"};var nn=class t{constructor(n){this.http=n}_apiBaseUrl=Ie.apiBaseUrl;getBooks(){return this.http.get(this._apiBaseUrl+"/books/GetAll").pipe(B(n=>n.data))}getBookById(n){return this.http.get(`${this._apiBaseUrl}/books/${n}`).pipe(B(e=>e.data))}getBooksByAuthorId(n){return this.http.get(`${this._apiBaseUrl}/books/filter/${n}`)}getBooksByPublisherId(n){return this.http.get(`${this._apiBaseUrl}/books/filter/${n}`)}getBooksByBookType(n){return this.http.get(`${this._apiBaseUrl}/books/filter/${n}`)}filterBooks(n){let e=new me().set("PageNumber",n.PageNumber.toString()).set("PageSize",n.PageSize.toString());return n.CategoryIds&&n.CategoryIds.length>0&&n.CategoryIds.forEach(r=>{e=e.append("CategoryIds",r.toString())}),n.PublisherIds&&n.PublisherIds.length>0&&n.PublisherIds.forEach(r=>{e=e.append("PublisherIds",r.toString())}),n.SearchTerm&&(e=e.set("SearchTerm",n.SearchTerm)),n.Language!==null&&n.Language!==void 0&&(e=e.set("Language",n.Language.toString())),n.SortBy!==null&&n.SortBy!==void 0&&(e=e.set("SortBy",n.SortBy.toString())),this.http.get(`${this._apiBaseUrl}/Books/Filter`,{params:e})}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var dO=(t,n)=>({"--placeholder-size":t,"--input-width":n}),fO=t=>["/book-details",t];function pO(t,n){if(t&1&&(c(0,"a",5)(1,"div",6),v(2,"img",7),c(3,"p",8),f(4),u()()()),t&2){let e=n.$implicit;m("routerLink",_e(3,fO,e.id)),d(2),m("src",e.cover,Ce),d(2),y(e.name)}}function gO(t,n){if(t&1&&(c(0,"div",3)(1,"div",4),X(2,pO,5,5,"a",5,to),u()()),t&2){let e=w();d(2),ee(e.books)}}var Ds=class t{constructor(n){this.bookService=n;this.searchSubject.pipe(Xr(400),ti()).subscribe(e=>{this.searchBooks(e)})}placeholderSize="0.8rem";inputWidth="400px";title="";baseUrl=Ie.apiBaseUrl.replace("/api","");searchQuery="";books=[];searchSubject=new ge;onSearchChange(){this.searchSubject.next(this.searchQuery)}searchBooks(n){if(!n.trim()){this.books=[];return}this.bookService.filterBooks({CategoryIds:[],PageNumber:1,PageSize:10,SearchTerm:n}).subscribe({next:e=>{this.books=e.data.map(r=>({name:r.title,cover:`${this.baseUrl}${r.coverImageUrl}`,id:r.id}))},error:e=>console.log(e)})}static \u0275fac=function(e){return new(e||t)(C(nn))};static \u0275cmp=k({type:t,selectors:[["app-search"]],inputs:{placeholderSize:"placeholderSize",inputWidth:"inputWidth",title:"title"},decls:4,vars:9,consts:[["role","search",1,"d-flex","me-3","gap-0","formSeearch",3,"submit"],["type","search","aria-label","Search","name","searchQuery",1,"form-control","search-input",3,"ngModelChange","input","placeholder","ngStyle","ngModel"],["class","dropsaerch",4,"ngIf"],[1,"dropsaerch"],[1,"fsw"],[1,"searchLink",3,"routerLink"],[1,"imageWithText"],["alt","",3,"src"],[1,"bookName"]],template:function(e,r){e&1&&(c(0,"form",0),E("submit",function(o){return o.preventDefault()}),c(1,"input",1),_(2,"translate"),gt("ngModelChange",function(o){return yt(r.searchQuery,o)||(r.searchQuery=o),o}),E("input",function(){return r.onSearchChange()}),u(),Z(3,gO,4,0,"div",2),u()),e&2&&(d(),m("placeholder",I(2,4,"search.placeholder"))("ngStyle",Dn(6,dO,r.placeholderSize,r.inputWidth)),pt("ngModel",r.searchQuery),d(2),m("ngIf",r.books.length>0))},dependencies:[Y,Ne,Fa,Be,kt,vr,Ke,st,mr,yn,S0,de,Ze],styles:[".formSeearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#e60000;box-shadow:0 0 0 .2rem #f76b1c40}.formSeearch[_ngcontent-%COMP%]{position:relative}.btn-search[_ngcontent-%COMP%]{background-color:red;color:#fff;border:none;cursor:pointer;border-top-left-radius:8px;border-bottom-left-radius:8px;padding:5px;position:relative;left:5px;width:50px;display:flex;justify-content:center;align-items:center}.btn-search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:21px}.search-input[_ngcontent-%COMP%]::placeholder{font-size:var(--placeholder-size, 1rem)}.search-input[_ngcontent-%COMP%]{width:var(--input-width, 1rem)}.dropsaerch[_ngcontent-%COMP%]{width:calc(100% - 55px);max-height:300px;background-color:#fff;position:absolute;top:100%;right:0;border-radius:5px;overflow-y:auto}.dropsaerch[_ngcontent-%COMP%]   .imageWithText[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;text-align:center;margin:7px}.dropsaerch[_ngcontent-%COMP%]   .imageWithText[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.dropsaerch[_ngcontent-%COMP%]   .imageWithText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.fsw[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bookName[_ngcontent-%COMP%]{color:#000}.searchLink[_ngcontent-%COMP%]{text-decoration:none}.searchLink[_ngcontent-%COMP%]:hover{background-color:#eee;color:#fff}"]})};var hO=t=>({"--bg":t}),Qd=class t{categoryName="";bg="#181427";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-category-card"]],inputs:{categoryName:"categoryName",bg:"bg"},decls:3,vars:4,consts:[[3,"ngStyle"]],template:function(e,r){e&1&&(c(0,"a",0)(1,"span"),f(2),u()()),e&2&&(m("ngStyle",_e(2,hO,r.bg)),d(2),y(r.categoryName))},dependencies:[Y,Fa],styles:["a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;width:150px;height:50px;background-color:var(--bg);color:#fac1ca;display:flex;justify-content:center;align-items:center;border-radius:10px;font-size:12px;font-weight:600}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#f9607b;background-color:#040307}a[_ngcontent-%COMP%]{text-decoration:none}"]})};var rn=class t{constructor(n){this.http=n}_apiBaseUrl=Ie.apiBaseUrl;getPaginatedCategories(n=1,e=20,r=""){let i=new me().set("PageNumber",n.toString()).set("PageSize",e.toString());return r&&(i=i.set("Search",r)),this.http.get(`${this._apiBaseUrl}/Categories/GetAll`,{params:i})}getCategoryById(n){return this.http.get(`${this._apiBaseUrl}/Categories/${n}`)}getAllSubCategories(n,e){let r=new me().set("ParentCategoryId",n.toString()).set("PageNumber","1").set("PageSize","100");return e&&(r=r.set("Search",e)),this.http.get(`${this._apiBaseUrl}/Categories/GetSubCategories`,{params:r})}getAllParentCategoriesWithSubCounts(){let n=new me().set("PageNumber","1").set("PageSize","100");return this.http.get(`${this._apiBaseUrl}/Categories/GetAll`,{params:n})}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var mO=t=>["/MainFilterContainer",t],vO=(t,n)=>n.id;function bO(t,n){if(t&1&&v(0,"app-category-card",1),t&2){let e=n.$implicit;m("categoryName",e.name)("routerLink",_e(2,mO,e.id))}}var Zd=class t{constructor(n){this.catService=n}categories=[];ngOnInit(){this.catService.getPaginatedCategories().subscribe({next:n=>{console.log(n),this.categories=n.data},error:n=>{console.log(n)}})}static \u0275fac=function(e){return new(e||t)(C(rn))};static \u0275cmp=k({type:t,selectors:[["app-category"]],decls:5,vars:4,consts:[[1,"categories"],[3,"categoryName","routerLink"],["routerLink","/AllCategories",3,"categoryName","bg"]],template:function(e,r){e&1&&(c(0,"div",0),X(1,bO,1,4,"app-category-card",1,vO),v(3,"app-category-card",2),_(4,"translate"),u()),e&2&&(d(),ee(r.categories),d(2),m("categoryName",I(4,2,"categories.more"))("bg","#330d16"))},dependencies:[Qd,Be,de,Y,Ze],styles:[".categories[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1rem;padding:2rem 1rem}"]})};var Nt=class t{constructor(n){this.http=n}apiUrl=Ie.apiBaseUrl+"/Cart";cartChanged$=new ge;cartUpdated$=this.cartChanged$.asObservable();getUserCart(){return console.log("CartService: Making request to get user cart"),console.log("CartService: API URL:",this.apiUrl),this.http.get(this.apiUrl).pipe(B(n=>(console.log("CartService: Raw API response:",n),console.log("CartService: Extracted data:",n.data),n.data)))}deleteItem(n){return this.http.delete(this.apiUrl,{body:{bookId:n}}).pipe(B(e=>e.data),Fe(()=>{this.cartChanged$.next()}))}updateItemQuantity(n,e){return this.http.put(this.apiUrl,{bookId:n,newQuantity:e}).pipe(B(r=>r.data),Fe(()=>{this.cartChanged$.next()}))}clearCart(){return this.http.delete(`${this.apiUrl}/ClearCart`).pipe(B(n=>n.data),Fe(()=>{this.cartChanged$.next()}))}addItemToCart(n){return this.http.post(`${this.apiUrl}/Add`,n).pipe(Fe(()=>{this.cartChanged$.next()}))}notifyCartChanged(){this.cartChanged$.next()}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var at=class t{constructor(n){this.http=n;this.initializeUserFromStorage()}currentUser=he(null);isLoading=he(!1);error=he("");user=this.currentUser.asReadonly();loading=this.isLoading.asReadonly();loginError=this.error.asReadonly();apiUrl=Ie.apiBaseUrl;login(n){return this.isLoading.set(!0),this.error.set(""),this.http.post(`${this.apiUrl}/Account/Login`,n).pipe(B(e=>{if(!e.data)throw new Error(e.message||"Login failed");let r={id:e.data.id,email:n.email,token:e.data.token};return this.currentUser.set(r),localStorage.setItem("auth_token",e.data.token),r}),rt(e=>{let r=this.getErrorMessage(e);throw this.error.set(r),e}),on(()=>this.isLoading.set(!1)))}register(n){return this.isLoading.set(!0),this.error.set(""),this.http.post(`${this.apiUrl}/Account/Register`,n).pipe(B(e=>{if(!e.succeeded){let i=e.errors?.join(", ")||e.message||"Registration failed";throw new Error(i)}let r={id:e.data?.userId,firstName:n.firstName,lastName:n.lastName,userName:n.userName,email:n.email,name:`${n.firstName} ${n.lastName}`,isEmailVerified:!1};return this.currentUser.set(r),r}),rt(e=>{let r=this.getErrorMessage(e);throw this.error.set(r),e}),on(()=>this.isLoading.set(!1)))}getErrorMessage(n){if(n.error?.message)return n.error.message;if(n.error?.errors&&Array.isArray(n.error.errors))return n.error.errors.join(", ");if(n.message)return n.message;switch(n.status){case 400:return"\u0628\u064A\u0627\u0646\u0627\u062A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649";case 401:return"\u0628\u064A\u0627\u0646\u0627\u062A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629";case 409:return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u064F\u0633\u062A\u062E\u062F\u0645 \u0628\u0627\u0644\u0641\u0639\u0644";case 403:return"\u064A\u062C\u0628 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0642\u0628\u0644 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644";case 422:return"\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062F\u062E\u0644\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629";case 429:return"\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631";case 500:return"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0644\u0627\u062D\u0642\u0627\u064B";default:return"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649"}}sendEmailVerification(n){return this.http.post(`${this.apiUrl}/Account/ResendConfirmationEmail`,n,{headers:{"Content-Type":"application/json"}}).pipe(B(e=>({message:e.succeeded?e.message:e.errors?.join(", ")||"Failed to send verification email"})),rt(e=>{throw console.error("Email verification error:",e),e}))}checkEmailAvailability(n){return new oe(e=>{setTimeout(()=>{e.next({available:!0}),e.complete()},500)})}logout(){this.currentUser.set(null),localStorage.removeItem("auth_token")}initializeUserFromStorage(){let n=localStorage.getItem("auth_token");if(n){let e={id:0,email:"",token:n};this.currentUser.set(e)}}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function yO(t,n){if(t&1){let e=Q();c(0,"button",13),E("click",function(){O(e);let i=w().$implicit,o=w();return A(o.closeNotification(i.id))}),f(1," \u062D\u0633\u0646\u0627\u064B "),u()}if(t&2){let e=w().$implicit;m("ngClass","toast-btn-"+e.type)}}function CO(t,n){if(t&1){let e=Q();c(0,"div",14)(1,"button",15),E("click",function(){O(e);let i=w().$implicit,o=w();return A(o.onCancel(i))}),f(2),u(),c(3,"button",16),E("click",function(){O(e);let i=w().$implicit,o=w();return A(o.onConfirm(i))}),f(4),u()()}if(t&2){let e=w().$implicit;d(2),D(" ",e.cancelText||"\u0625\u0644\u063A\u0627\u0621"," "),d(2),D(" ",e.confirmText||"\u062A\u0623\u0643\u064A\u062F"," ")}}function _O(t,n){if(t&1){let e=Q();c(0,"div",2)(1,"div",3),v(2,"i",4),u(),c(3,"div",5)(4,"h4",6),f(5),u(),c(6,"p",7),f(7),u()(),c(8,"div",8),Z(9,yO,2,1,"button",9)(10,CO,5,2,"div",10),u(),c(11,"button",11),E("click",function(){let i=O(e).$implicit,o=w();return A(o.closeNotification(i.id))}),v(12,"i",12),u()()}if(t&2){let e=n.$implicit,r=w();m("ngClass","toast-"+e.type),d(2),m("ngClass",r.getIconClass(e.type)),d(3),y(e.title),d(2),y(e.message),d(2),m("ngIf",!e.showCancel),d(),m("ngIf",e.showCancel)}}var Wt=class t{notifications=new Ue([]);notifications$=this.notifications.asObservable();generateId(){return Math.random().toString(36).substr(2,9)}showSuccess(n,e,r=!0){this.addNotification({id:this.generateId(),type:"success",title:n,message:e,autoClose:r,duration:3e3})}showError(n,e,r=!1){this.addNotification({id:this.generateId(),type:"error",title:n,message:e,autoClose:r,duration:5e3})}showWarning(n,e,r=!1){this.addNotification({id:this.generateId(),type:"warning",title:n,message:e,autoClose:r,duration:4e3})}showInfo(n,e,r=!0){this.addNotification({id:this.generateId(),type:"info",title:n,message:e,autoClose:r,duration:4e3})}showConfirm(n,e,r,i){this.addNotification({id:this.generateId(),type:"confirm",title:n,message:e,autoClose:!1,showCancel:!0,confirmText:"\u062A\u0623\u0643\u064A\u062F",cancelText:"\u0625\u0644\u063A\u0627\u0621",onConfirm:r,onCancel:i})}showConfirmDelete(n="\u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631",e){this.showConfirm("\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641",`\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 ${n}\u061F \u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647.`,e)}showConfirmClearCart(n){this.showConfirm("\u062A\u0641\u0631\u064A\u063A \u0633\u0644\u0629 \u0627\u0644\u062A\u0633\u0648\u0642","\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0641\u0631\u064A\u063A \u0633\u0644\u0629 \u0627\u0644\u062A\u0633\u0648\u0642\u061F \u0633\u064A\u062A\u0645 \u062D\u0630\u0641 \u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0645\u0646 \u0627\u0644\u0633\u0644\u0629.",n)}addNotification(n){let e=this.notifications.value;this.notifications.next([...e,n]),n.autoClose&&n.duration&&ep(n.duration).subscribe(()=>{this.removeNotification(n.id)})}removeNotification(n){let r=this.notifications.value.filter(i=>i.id!==n);this.notifications.next(r)}clearAll(){this.notifications.next([])}static \u0275fac=function(e){return new(e||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})},Kd=class t{constructor(n){this.toastService=n;this.notifications$=this.toastService.notifications$}notifications$;ngOnDestroy(){this.toastService.clearAll()}onConfirm(n){n.onConfirm&&n.onConfirm(),this.toastService.removeNotification(n.id)}onCancel(n){n.onCancel&&n.onCancel(),this.toastService.removeNotification(n.id)}closeNotification(n){this.toastService.removeNotification(n)}trackByFn(n,e){return e.id}getIconClass(n){switch(n){case"success":return"fa-check-circle";case"error":return"fa-times-circle";case"warning":return"fa-exclamation-triangle";case"info":return"fa-info-circle";case"confirm":return"fa-question-circle";default:return"fa-info-circle"}}static \u0275fac=function(e){return new(e||t)(C(Wt))};static \u0275cmp=k({type:t,selectors:[["app-toast-notification"]],decls:3,vars:4,consts:[[1,"toast-container"],["class","toast-notification",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"toast-notification",3,"ngClass"],[1,"toast-icon"],[1,"fas",3,"ngClass"],[1,"toast-content"],[1,"toast-title"],[1,"toast-message"],[1,"toast-actions"],["class","toast-btn toast-btn-primary",3,"ngClass","click",4,"ngIf"],["class","toast-confirm-actions",4,"ngIf"],["aria-label","\u0625\u063A\u0644\u0627\u0642",1,"toast-close",3,"click"],[1,"fas","fa-times"],[1,"toast-btn","toast-btn-primary",3,"click","ngClass"],[1,"toast-confirm-actions"],[1,"toast-btn","toast-btn-cancel",3,"click"],[1,"toast-btn","toast-btn-confirm",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0),Z(1,_O,13,6,"div",1),_(2,"async"),u()),e&2&&(d(),m("ngForOf",I(2,2,r.notifications$))("ngForTrackBy",r.trackByFn))},dependencies:[Y,Gt,Tt,Ne,ja],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999;pointer-events:none;display:flex;flex-direction:column;gap:1rem;max-width:90vw;width:400px}.toast-notification[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 40px #0000001a;padding:24px;pointer-events:auto;position:relative;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);animation:_ngcontent-%COMP%_slideInFromTop .4s cubic-bezier(.175,.885,.32,1.275)}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{opacity:0;transform:translateY(-30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.toast-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:50%;margin:0 auto 16px;font-size:24px;color:#fff}.toast-content[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.toast-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 8px;color:#2d3748}.toast-message[_ngcontent-%COMP%]{font-size:14px;color:#718096;margin:0;line-height:1.5}.toast-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px}.toast-confirm-actions[_ngcontent-%COMP%]{display:flex;gap:12px;width:100%}.toast-btn[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:8px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s ease;min-width:80px}.toast-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.toast-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.toast-success[_ngcontent-%COMP%]{border-left:4px solid #38a169}.toast-success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#38a169,#48bb78);animation:_ngcontent-%COMP%_bounceIn .6s ease}.toast-btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#38a169,#48bb78);color:#fff}.toast-btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2f855a,#38a169)}.toast-error[_ngcontent-%COMP%]{border-left:4px solid #e53e3e}.toast-error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e53e3e,#fc8181);animation:_ngcontent-%COMP%_shakeIn .6s ease}.toast-btn-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e53e3e,#fc8181);color:#fff}.toast-btn-error[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c53030,#e53e3e)}.toast-warning[_ngcontent-%COMP%]{border-left:4px solid #d69e2e}.toast-warning[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d69e2e,#f6e05e);color:#744210;animation:_ngcontent-%COMP%_pulseIn .6s ease}.toast-btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d69e2e,#f6e05e);color:#744210}.toast-btn-warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#b7791f,#d69e2e)}.toast-info[_ngcontent-%COMP%]{border-left:4px solid #3182ce}.toast-info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3182ce,#63b3ed);animation:_ngcontent-%COMP%_fadeInScale .6s ease}.toast-btn-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3182ce,#63b3ed);color:#fff}.toast-btn-info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2c5282,#3182ce)}.toast-confirm[_ngcontent-%COMP%]{border-left:4px solid #805ad5}.toast-confirm[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#805ad5,#b794f6)}.toast-btn-confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e53e3e,#fc8181);color:#fff;flex:1}.toast-btn-confirm[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c53030,#e53e3e)}.toast-btn-cancel[_ngcontent-%COMP%]{background:#f7fafc;color:#718096;border:1px solid #e2e8f0;flex:1}.toast-btn-cancel[_ngcontent-%COMP%]:hover{background:#edf2f7;border-color:#cbd5e0}.toast-close[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:none;border:none;color:#a0aec0;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.toast-close[_ngcontent-%COMP%]:hover{color:#718096;background:#f7fafc}@keyframes _ngcontent-%COMP%_bounceIn{0%{transform:scale(.3);opacity:0}50%{transform:scale(1.05)}70%{transform:scale(.9)}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_shakeIn{0%{transform:scale(0) rotate(-10deg);opacity:0}25%{transform:scale(.5) rotate(5deg)}50%{transform:scale(.8) rotate(-5deg)}75%{transform:scale(1.1) rotate(2deg)}to{transform:scale(1) rotate(0);opacity:1}}@keyframes _ngcontent-%COMP%_pulseIn{0%{transform:scale(.8);opacity:0}50%{transform:scale(1.1);opacity:.8}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}[dir=rtl][_ngcontent-%COMP%]   .toast-notification[_ngcontent-%COMP%]{border-left:none;border-right:4px solid}[dir=rtl][_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{right:auto;left:12px}@media (max-width: 576px){.toast-container[_ngcontent-%COMP%]{width:95vw;max-width:none}.toast-notification[_ngcontent-%COMP%]{padding:20px;margin:0 10px}.toast-confirm-actions[_ngcontent-%COMP%]{flex-direction:column}.toast-btn[_ngcontent-%COMP%]{padding:12px 20px}.toast-title[_ngcontent-%COMP%]{font-size:16px}.toast-message[_ngcontent-%COMP%]{font-size:13px}}"]})};var yr=class t{constructor(n,e,r,i){this.cartService=n;this.auth=e;this.router=r;this.toastService=i}book;stars=Array(5).fill(0);baseUrl=Ie.apiBaseUrl.replace("/api","");isAddingToCart=!1;getCoverImageUrl(){return this.book.coverImageUrl?this.book.coverImageUrl.startsWith("/uploads")?this.baseUrl+this.book.coverImageUrl:this.book.coverImageUrl:""}addToCart(n){if(n.preventDefault(),n.stopPropagation(),!this.auth.user()){this.router.navigate(["/login"]);return}if(this.isAddingToCart)return;this.isAddingToCart=!0;let e={bookId:this.book.id};this.cartService.addItemToCart(e).subscribe({next:r=>{r.succeeded?this.toastService.showSuccess("\u0645\u0628\u0631\u0648\u0643!","\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 \u0628\u0646\u062C\u0627\u062D!"):this.toastService.showError("\u062E\u0637\u0623","\u0641\u0634\u0644 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629: "+r.message),this.isAddingToCart=!1},error:r=>{console.error("\u062E\u0637\u0623 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629:",r),r.status===401?this.router.navigate(["/login"]):r.status===400&&r.error?.message?.includes("out of stock")?this.toastService.showWarning("\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631","\u0627\u0644\u0643\u062A\u0627\u0628 \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631 \u0641\u064A \u0627\u0644\u0645\u062E\u0632\u0646 \u062D\u0627\u0644\u064A\u0627\u064B"):this.toastService.showError("\u062E\u0637\u0623","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),this.isAddingToCart=!1}})}static \u0275fac=function(e){return new(e||t)(C(Nt),C(at),C(se),C(Wt))};static \u0275cmp=k({type:t,selectors:[["app-book-card"]],inputs:{book:"book"},decls:20,vars:17,consts:[[3,"routerLink"],[1,"card"],[1,"position-relative"],["alt","Book Cover",1,"card-img-top",3,"src"],[1,"badge","bg-danger","position-absolute","start-50","translate-middle-x",2,"bottom","-12px"],[1,"card-body","text-center","mt-2"],[1,"card-title","fw-bold"],[1,"card-text","text-muted","fs-5"],[1,"underBook"],[1,"told","text-danger","text-decoration-line-through"],[1,"tnew","text-dark"],["type","button",1,"cart-ribbon",3,"click","disabled"],[1,"fa-solid","fa-cart-shopping"]],template:function(e,r){e&1&&(c(0,"a",0)(1,"div",1)(2,"div",2),v(3,"img",3),c(4,"span",4),f(5),u()(),c(6,"div",5)(7,"h5",6),f(8),u(),c(9,"p",7),f(10),u(),c(11,"div",8)(12,"span",9),f(13),_(14,"number"),u(),c(15,"span",10),f(16),_(17,"number"),u(),c(18,"button",11),E("click",function(o){return r.addToCart(o)}),v(19,"i",12),u()()()()()),e&2&&(m("routerLink",$t("/book-details/",r.book.id)),d(3),m("src",r.getCoverImageUrl(),Ce),d(2),D(" \u062E\u0635\u0645 ",r.book.discountPercentage,"% "),d(3),y(r.book.title),d(2),y(r.book.authorName),d(3),D(" \u062C.\u0645 ",I(14,13,r.book.price)," "),d(3),D(" \u062C.\u0645 ",I(17,15,r.book.price-r.book.price*r.book.discountPercentage/100)," "),d(2),m("disabled",r.isAddingToCart),d(),W("fa-spinner",r.isAddingToCart)("fa-spin",r.isAddingToCart))},dependencies:[Y,de,Vr],styles:[".card[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;height:100%;display:flex;flex-direction:column;background-color:#fff;box-shadow:0 2px 6px #0000001a}a[_ngcontent-%COMP%]{text-decoration:none}.card-img-top[_ngcontent-%COMP%]{width:100%;object-fit:cover;border-radius:8px 8px 0 0;transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{transform:scale(1.03)}.card-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;flex-grow:1;padding-bottom:0}.card-text[_ngcontent-%COMP%]{margin-bottom:8px!important}.underBook[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f1f5f9;padding:0 15px;width:calc(100% + 35px);position:relative;left:16px;top:0}.price-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.told[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#d32f2f}.tnew[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1a1a1a}.cart-ribbon[_ngcontent-%COMP%]{position:relative;background:linear-gradient(90deg,#00b8a9,#00d9c0);color:#fff;border:none;padding:10px 18px;font-size:1.2rem;border-top-left-radius:.5rem;border-bottom-left-radius:.5rem;clip-path:polygon(0 0,100% 0,85% 100%,0% 100%);display:flex;align-items:center;justify-content:center;height:50px;transition:transform .3s ease;cursor:pointer;left:-15px}.cart-ribbon[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:linear-gradient(90deg,#00d1ba,#00e7cd)}.book-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.5rem;margin:0 3px;opacity:1}.books[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;padding:20px;background-color:#f8f9fa}app-book-card[_ngcontent-%COMP%]{display:block}.card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#505f75}"]})};var xO=t=>["/MainFilterContainer",t],wO=(t,n)=>({"fa-chevron-left":t,"fa-chevron-right":n}),MO=(t,n)=>n.category.id,EO=(t,n)=>n.id;function IO(t,n){if(t&1&&v(0,"app-book-card",5),t&2){let e=n.$implicit;m("book",e)}}function DO(t,n){if(t&1&&(c(0,"a",1)(1,"h4"),f(2),_(3,"translate"),v(4,"i",3),c(5,"div",4),X(6,IO,1,1,"app-book-card",5,EO),u()()()),t&2){let e=n.$implicit,r=w();m("routerLink",_e(5,xO,e.category.id)),d(2),D(" ",I(3,3,e.category.name)," "),d(2),m("ngClass",Dn(7,wO,r.isRTL,!r.isRTL)),d(2),ee(e.books)}}function SO(t,n){t&1&&(c(0,"div",6),f(1,"Loading more..."),u())}var Jd=class t{constructor(n,e,r){this.bookService=n;this.translate=e;this.catService=r}categoriesWithBooks=[];title="";isLoading=!0;isRTL=!1;currentPage=1;pageSize=2;allCategories=[];ngOnInit(){this.catService.getPaginatedCategories().subscribe({next:n=>{console.log("Categories response:",n),this.allCategories=n?.data||[],this.loadMoreCategories()},error:n=>{console.error("Error fetching categories:",n),this.isLoading=!1}})}loadMoreCategories(){let n=(this.currentPage-1)*this.pageSize,e=n+this.pageSize,r=this.allCategories.slice(n,e);if(r.length===0)return;let i=r.map(o=>this.bookService.filterBooks({CategoryIds:[o.id],PageNumber:1,PageSize:5}).pipe(B(s=>({category:o,books:s?.data||[]}))));Ti(i).subscribe({next:o=>{this.categoriesWithBooks.push(...o.filter(s=>s.books&&s.books.length>0)),this.currentPage++,this.isLoading=!1},error:o=>{console.error("Error fetching books for categories:",o),this.isLoading=!1}})}onScroll(){window.innerHeight+window.scrollY>=document.body.offsetHeight-50&&this.loadMoreCategories()}ngAfterViewInit(){this.isRTL=this.translate.currentLang==="ar",this.translate.onLangChange.subscribe(n=>{this.isRTL=n.lang==="ar"})}static \u0275fac=function(e){return new(e||t)(C(nn),C(nt),C(rn))};static \u0275cmp=k({type:t,selectors:[["app-book-page"]],inputs:{title:"title"},decls:4,vars:1,consts:[[1,"catBooks","container",3,"scroll"],[1,"text-decoration-none",3,"routerLink"],["class","loading",4,"ngIf"],[1,"fa-solid","fa-chevron-",3,"ngClass"],[1,"books","pt-4","pb-4"],[3,"book"],[1,"loading"]],template:function(e,r){e&1&&(c(0,"div",0),E("scroll",function(){return r.onScroll()},ya),X(1,DO,8,10,"a",1,MO),Z(3,SO,2,0,"div",2),u()),e&2&&(d(),ee(r.categoriesWithBooks),d(2),m("ngIf",r.isLoading))},dependencies:[yr,Y,Gt,Ne,kt,Be,Zn,de,Ze],styles:[".books[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;justify-content:center}app-book-card[_ngcontent-%COMP%]{display:block;background-color:#fff;box-shadow:0 2px 6px #0000001a;overflow:hidden;min-height:280px;transition:transform .3s ease;border-radius:20px}.catBooks[_ngcontent-%COMP%]{padding:15px}.catBooks[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#6a6f77;font-weight:600}.catBooks[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#169184;font-size:20px;font-weight:600}.catBooks[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;margin:100px;padding-inline:10px}.catBooks[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{color:#474444}"]})};var Xd=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-hero"]],decls:30,vars:23,consts:[[1,"heroWrapper","position-relative"],["src","/images/hero.png","alt","Hero",1,"heroImage","position-absolute","top-0","start-0","w-100","h-100"],[1,"heroContainer","container","text-center","text-white","py-5","position-relative"],[1,"heroText","display-4","fw-bold","mb-4"],[1,"heroSearch","mb-4","d-flex","justify-content-center"],[3,"placeholderSize"],[1,"typeOfBooks","d-flex","flex-wrap","justify-content-center","gap-3","mb-5"],[1,"bookType"],[1,"categories","d-flex","flex-wrap","justify-content-center","gap-3"],[1,"latestWithSafqa"],[1,"tagBtn"],[1,"books","pb-5"],[3,"title"]],template:function(e,r){e&1&&(c(0,"div",0),v(1,"img",1),c(2,"div",2)(3,"h1",3),f(4),_(5,"translate"),u(),c(6,"div",4),v(7,"app-search",5),u(),c(8,"div",6)(9,"span",7),f(10),_(11,"translate"),u(),c(12,"span",7),f(13),_(14,"translate"),u(),c(15,"span",7),f(16),_(17,"translate"),u()(),c(18,"div",8),v(19,"app-category"),u()()(),c(20,"div",9)(21,"button",10),f(22),_(23,"translate"),u(),c(24,"button",10),f(25),_(26,"translate"),u()(),c(27,"div",11),v(28,"app-book-page",12),_(29,"translate"),u()),e&2&&(d(4),y(I(5,9,"hero.title")),d(3),m("placeholderSize","0.6rem"),d(3),y(I(11,11,"hero.bookTypes.paperBooks")),d(3),y(I(14,13,"hero.bookTypes.freeBooks")),d(3),y(I(17,15,"hero.bookTypes.audioBooks")),d(6),y(I(23,17,"hero.tags.newlyAdded")),d(3),y(I(26,19,"hero.tags.todayDeal")),d(3),m("title",qe(I(29,21,"hero.bestSellers"))))},dependencies:[Ds,Zd,Jd,Be,Ze],styles:[".heroWrapper[_ngcontent-%COMP%]{position:relative;padding-top:150px;width:100%;background-color:#000;overflow:hidden}.heroImage[_ngcontent-%COMP%]{object-fit:cover;z-index:0;filter:brightness(.6)}.heroText[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,1)}.heroSearch[_ngcontent-%COMP%]{transform:scale(1.7);padding-top:30px;padding-bottom:30px}.bookType[_ngcontent-%COMP%]{cursor:pointer;min-width:180px;padding:10px 15px;background-color:#43111d;color:#fac1ca;border-radius:10px;font-size:13px;font-weight:600;text-align:center}.bookType[_ngcontent-%COMP%]:hover{background-color:#4d1421;color:#f9607b}.books[_ngcontent-%COMP%]{background-color:#f7fbffef}@media (max-width: 768px){.heroSearch[_ngcontent-%COMP%]{transform:scale(1)}.bookType[_ngcontent-%COMP%]{font-size:.9rem;min-width:220px}}@media (max-width: 480px){.bookType[_ngcontent-%COMP%]{font-size:.85rem;min-width:200px}}.latestWithSafqa[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3rem;margin-top:3rem;margin-bottom:5rem;padding-inline:10px}.tagBtn[_ngcontent-%COMP%]{flex:1;background:linear-gradient(145deg,#f3f3f3,#fff);border:none;color:#525252e7;font-size:1.3rem;font-weight:600;padding:1rem;border-radius:5px;box-shadow:0 2px 6px #00000014;transition:all .3s ease;cursor:pointer;text-align:center}.tagBtn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 12px #0003;background:linear-gradient(145deg,#fdf7f7ea,#fff);color:#111}"]})};var ef={production:!1,apiUrl:"http://localhost:5234",apiUrlHttps:"http://localhost:5234"};var xi=class t{constructor(n){this.http=n}baseUrl=Ie.apiBaseUrl;getAuthorById(n){return this.http.get(`${this.baseUrl}/Authors/${n}`).pipe(B(e=>e.data))}getAllAuthorsPaginated(n=1,e=28,r=""){let i=new me().set("PageNumber",n.toString()).set("PageSize",e.toString());return r&&(i=i.set("Search",r)),this.http.get(`${this.baseUrl}/Authors/GetAll`,{params:i})}getAuthorFollowerCount(n){let e=new me().set("AuthorId",n.toString());return this.http.get(`${this.baseUrl}/Authors/GetAutherFollowerCount`,{params:e}).pipe(B(r=>r.data))}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var PO=(t,n)=>({"fas text-warning":t,"far text-secondary":n});function OO(t,n){t&1&&(c(0,"div",3),v(1,"div",4),c(2,"p",5),f(3,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0643\u0627\u062A\u0628..."),u()())}function AO(t,n){if(t&1){let e=Q();c(0,"div",6)(1,"div",7)(2,"div",8),f(3,"\u26A0\uFE0F"),u(),c(4,"h3",9),f(5,"\u062D\u062F\u062B \u062E\u0637\u0623"),u(),c(6,"p",10),f(7),u(),c(8,"button",11),E("click",function(){O(e);let i=w();return A(i.retry())}),c(9,"span",12),f(10,"\u{1F504}"),u(),f(11," \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 "),u()()()}if(t&2){let e=w();d(7),y(e.error)}}function TO(t,n){if(t&1&&(c(0,"span",116),f(1,"\u2605"),u()),t&2){let e=n.$implicit,r=w(2);W("filled",e<=r.getAverageRating())}}function kO(t,n){if(t&1&&(c(0,"span",135),f(1),u()),t&2){let e=w().$implicit,r=w(3);d(),D(" \u062E\u0635\u0645 ",r.getDiscountPercentage(e.price,e.discountedPrice),"% ")}}function NO(t,n){if(t&1&&(Xo(0),v(1,"i",136),es()),t&2){let e=n.index,r=w().$implicit;d(),m("ngClass",Dn(1,PO,e<(r.rating||0),e>=(r.rating||0)))}}function RO(t,n){if(t&1&&(c(0,"span",137),f(1),_(2,"number"),u()),t&2){let e=w().$implicit;d(),D(" \u062C.\u0645 ",I(2,1,e.price)," ")}}function FO(t,n){if(t&1){let e=Q();c(0,"div",120)(1,"div",121),E("click",function(){let i=O(e).$implicit,o=w(3);return A(o.viewBookDetails(i.id))}),c(2,"div",122)(3,"img",123),E("error",function(i){O(e);let o=w(3);return A(o.onImageError(i,"assets/images/default-book.jpg"))}),u(),Z(4,kO,2,1,"span",124),c(5,"div",125)(6,"div",126),Z(7,NO,2,4,"ng-container",127),u(),c(8,"h5",128),f(9),u(),c(10,"p",129),f(11),u(),c(12,"div",130),Z(13,RO,3,3,"span",131),c(14,"span",132),f(15),_(16,"number"),u(),c(17,"button",133),E("click",function(i){let o=O(e).$implicit,s=w(3);return A(s.addToCart(o,i))}),v(18,"i",134),u()()()()()()}if(t&2){let e=n.$implicit,r=w(3);d(3),m("src",r.baseUrl+e.coverImageUrl,Ce)("alt",e.title),d(),m("ngIf",r.hasDiscount(e)),d(3),m("ngForOf",r.stars),d(2),y(e.title),d(2),D(" \u0628\u0648\u0627\u0633\u0637\u0629: ",r.author.name," "),d(2),m("ngIf",r.hasDiscount(e)),d(2),D(" \u062C.\u0645 ",I(16,15,e.discountedPrice||e.price)," "),d(2),m("disabled",r.isAddingToCart[e.id]),d(),W("fa-cart-shopping",!r.isAddingToCart[e.id])("fa-spinner",r.isAddingToCart[e.id])("fa-spin",r.isAddingToCart[e.id])}}function LO(t,n){if(t&1&&(c(0,"div",117)(1,"div",118),Z(2,FO,19,17,"div",119),u()()),t&2){let e=w(2);d(2),m("ngForOf",e.author.books)("ngForTrackBy",e.trackByBookId)}}function jO(t,n){t&1&&(c(0,"div",138)(1,"div",139),f(2,"\u{1F4DA}"),u(),c(3,"h3"),f(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0643\u062A\u0628 \u0645\u062A\u0627\u062D\u0629"),u(),c(5,"p"),f(6,"\u0644\u0645 \u064A\u062A\u0645 \u0646\u0634\u0631 \u0623\u064A \u0643\u062A\u0628 \u0644\u0647\u0630\u0627 \u0627\u0644\u0643\u0627\u062A\u0628 \u0628\u0639\u062F."),u()())}function VO(t,n){if(t&1){let e=Q();c(0,"div",140),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.goToFollowerProfile(i.profileUrl))}),c(1,"div",141)(2,"img",142),E("error",function(i){O(e);let o=w(2);return A(o.onImageError(i))}),u()(),c(3,"div",143)(4,"h4",144),f(5),u()()()}if(t&2){let e=n.$implicit;d(2),m("src",e.profileImage,Ce)("alt",e.name),d(3),y(e.name)}}function BO(t,n){if(t&1){let e=Q();c(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"img",17),E("error",function(i){O(e);let o=w();return A(o.onImageError(i))}),u()(),c(5,"div",18)(6,"h1"),f(7),c(8,"img",19),E("error",function(i){O(e);let o=w();return A(o.onImageError(i,"assets/images/default-flag.png"))}),u()(),c(9,"p",20),f(10),u(),c(11,"div",21)(12,"div",22)(13,"span",23),f(14),_(15,"number"),u(),c(16,"div",24),Z(17,TO,2,2,"span",25),u()(),c(18,"div",22)(19,"span",23),f(20),u(),c(21,"span",26),f(22,"\u0645\u0631\u0627\u062C\u0639\u0627\u062A"),u()(),c(23,"div",22)(24,"button",27),E("click",function(){O(e);let i=w();return A(i.toggleFollow())}),c(25,"span",28),f(26),u(),c(27,"span",29),f(28),u(),c(29,"span",30),v(30,"i"),u()(),c(31,"span",26)(32,"a",31),f(33,"\u0631\u0627\u0628\u0637 \u0645\u062E\u062A\u0635\u0631"),u()()()()()()(),c(34,"div",32)(35,"div",33)(36,"button",34),E("click",function(){O(e);let i=w();return A(i.setActiveTab("books"))}),c(37,"span",35),ln(),c(38,"svg",36),v(39,"path",37),u(),f(40," \u0627\u0644\u0643\u062A\u0628 "),u(),cn(),c(41,"span",38),f(42),u()(),c(43,"button",34),E("click",function(){O(e);let i=w();return A(i.setActiveTab("reviews"))}),c(44,"span",35),ln(),c(45,"svg",39)(46,"g"),v(47,"path",40)(48,"path",41),u(),v(49,"path",42)(50,"path",43)(51,"path",44)(52,"path",45),u(),f(53," \u0627\u0642\u062A\u0628\u0627\u0633\u0627\u062A "),u(),cn(),c(54,"span",38),f(55),u()(),c(56,"button",34),E("click",function(){O(e);let i=w();return A(i.setActiveTab("followers"))}),c(57,"span",35),ln(),c(58,"svg",46),v(59,"path",47)(60,"path",48)(61,"path",49)(62,"path",50)(63,"path",51)(64,"path",52)(65,"path",53)(66,"path",54)(67,"path",55)(68,"path",56)(69,"path",57),c(70,"g",58),v(71,"path",59)(72,"path",60)(73,"path",61)(74,"path",62)(75,"path",63)(76,"path",64)(77,"path",65)(78,"path",66),u()(),f(79," \u064A\u062A\u0627\u0628\u0639\u0648\u0646\u0646\u064A "),u(),cn(),c(80,"span",38),f(81),u()()(),c(82,"div",67)(83,"div",68),Z(84,LO,3,2,"div",69)(85,jO,7,0,"div",70),u(),c(86,"div",68)(87,"div",71)(88,"div",72)(89,"div",73)(90,"div",74)(91,"picture",75),v(92,"source",76)(93,"source",77)(94,"img",78),u()(),c(95,"div",79)(96,"h4",80)(97,"span",81),f(98),u()(),c(99,"p",82)(100,"time"),f(101),u()(),c(102,"div",83)(103,"figure",84)(104,"div",85)(105,"blockquote",86)(106,"p",87)(107,"span",88),f(108,'"'),u(),c(109,"span",89),f(110),u(),c(111,"span",88),f(112,'"'),u()()(),c(113,"footer",90)(114,"div",91)(115,"div",92)(116,"div",93)(117,"button",94),ln(),c(118,"svg",95),v(119,"path",96),u()(),cn(),c(120,"div",97)(121,"span",98),f(122),u()()(),c(123,"div",93)(124,"button",99),ln(),c(125,"svg",95),v(126,"path",100),u()(),cn(),c(127,"div",101)(128,"span",98),f(129),u()()()(),c(130,"nav",102)(131,"a",103)(132,"div",104),ln(),c(133,"svg",105),v(134,"path",106),u()()(),cn(),c(135,"a",107)(136,"div",108),ln(),c(137,"svg",105),v(138,"path",109),u()()(),cn(),c(139,"a",110)(140,"div",111),ln(),c(141,"svg",105),v(142,"path",112),u()()()()()()()()()()()()()(),cn(),c(143,"div",68)(144,"div",113)(145,"div",114),Z(146,VO,6,3,"div",115),u()()()()()()}if(t&2){let e=w();d(4),m("src",e.baseUrl+e.author.imageUrl,Ce)("alt",e.author.name),d(3),D(" ",e.author.name," "),d(),m("src","https://flagcdn.com/w80/"+e.author.countryCode.toLowerCase()+".png",Ce),d(2),y(e.author.bio),d(4),y(We(15,43,e.getAverageRating(),"1.1-1")),d(3),m("ngForOf",e.getStarsArray(e.getAverageRating())),d(3),y(e.reviewsCount),d(6),y(e.isFollowing?"\u0645\u062A\u0627\u0628\u0639":"\u0645\u062A\u0627\u0628\u0639\u0629"),d(2),D("(",e.followersCount,")"),d(2),ro(e.isFollowing?"fa-solid fa-check-circle":"fa-solid fa-circle-plus"),d(2),m("routerLink",$t("/authors/",e.author.id)),d(4),W("active",e.activeTab==="books"),d(6),y(e.booksCount),d(),W("active",e.activeTab==="reviews"),d(12),y(e.reviewsCount),d(),W("active",e.activeTab==="followers"),d(25),y(e.followersCount),d(2),W("active",e.activeTab==="books"),d(),m("ngIf",e.author.books&&e.author.books.length>0),d(),m("ngIf",!e.author.books||e.author.books.length===0),d(),W("active",e.activeTab==="reviews"),d(6),m("srcset",e.avatarUrl),d(),m("srcset",e.avatarUrl),d(),m("src",e.avatarUrl,Ce)("title",e.quote.author)("alt",e.quote.author),d(4),D(" ",e.quote.author," "),d(3),y(e.quote.date),d(9),y(e.quote.text),d(12),y(e.quote.upvotes),d(7),y(e.quote.downvotes),d(14),W("active",e.activeTab==="followers"),d(3),m("ngForOf",e.author.followers&&e.author.followers.length>0?e.author.followers:e.staticFollowers)("ngForTrackBy",e.trackByFollowerId)}}var tf=class t{constructor(n,e,r,i,o,s,a){this.route=n;this.authorService=e;this.router=r;this.location=i;this.cartService=o;this.auth=s;this.toastService=a}author=null;baseUrl=ef.apiUrl;stars=Array(5).fill(0);activeTab="books";loading=!0;error=null;isFollowing=!1;avatarUrl="https://cdn.aseeralkotb.com/images/default-avatar.jpg";isAddingToCart={};quote={id:19736,text:"\u0645\u0627 \u062F\u0645\u0646\u0627 \u0646\u0639\u0627\u0646\u064A \u0628\u0643\u0644 \u0627\u0644\u0623\u062D\u0648\u0627\u0644\u060C \u0641\u0644\u0646\u062C\u0639\u0644 \u0644\u0645\u0639\u0627\u0646\u0627\u062A\u0646\u0627 \u0645\u0639\u0646\u0649",author:"Mai Mostafa",date:"2025-08-08",upvotes:1,downvotes:0,shareUrl:"https://www.aseeralkotb.com/ar/books/%D8%B4%D9%8A%D9%81%D8%B1%D8%A9-%D8%A8%D9%84%D8%A7%D9%84/quotes/19736"};destroy$=new ge;staticReviews=[{id:1,reviewerName:"\u0623\u062D\u0645\u062F \u0645\u062D\u0645\u062F",reviewerImage:"https://randomuser.me/api/portraits/men/1.jpg",rating:5,comment:"\u0643\u0627\u062A\u0628 \u0631\u0627\u0626\u0639 \u0648\u0645\u0645\u064A\u0632\u060C \u0623\u0633\u0644\u0648\u0628\u0647 \u0641\u064A \u0627\u0644\u0643\u062A\u0627\u0628\u0629 \u062C\u0630\u0627\u0628 \u062C\u062F\u0627\u064B \u0648\u0642\u0627\u062F\u0631 \u0639\u0644\u0649 \u0625\u064A\u0635\u0627\u0644 \u0627\u0644\u0623\u0641\u0643\u0627\u0631 \u0628\u0648\u0636\u0648\u062D",date:"15/11/2024"},{id:2,reviewerName:"\u0641\u0627\u0637\u0645\u0629 \u0623\u062D\u0645\u062F",reviewerImage:"https://randomuser.me/api/portraits/women/2.jpg",rating:4,comment:"\u0623\u0639\u062C\u0628\u062A\u0646\u064A \u0643\u062A\u0627\u0628\u0627\u062A\u0647 \u0643\u062B\u064A\u0631\u0627\u064B\u060C \u0644\u062F\u064A\u0647 \u0642\u062F\u0631\u0629 \u0639\u0644\u0649 \u062A\u0628\u0633\u064A\u0637 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0639\u0642\u062F\u0629",date:"10/11/2024"},{id:3,reviewerName:"\u0645\u062D\u0645\u0648\u062F \u0639\u0644\u064A",reviewerImage:"https://randomuser.me/api/portraits/men/3.jpg",rating:5,comment:"\u0645\u0646 \u0623\u0641\u0636\u0644 \u0627\u0644\u0643\u062A\u0627\u0628 \u0627\u0644\u0639\u0631\u0628 \u0627\u0644\u0645\u0639\u0627\u0635\u0631\u064A\u0646\u060C \u0623\u0646\u0635\u062D \u0628\u0642\u0631\u0627\u0621\u0629 \u062C\u0645\u064A\u0639 \u0623\u0639\u0645\u0627\u0644\u0647",date:"05/11/2024"},{id:4,reviewerName:"\u0646\u0648\u0631\u0627 \u0633\u0627\u0645\u064A",reviewerImage:"https://randomuser.me/api/portraits/women/4.jpg",rating:4,comment:"\u0643\u062A\u0627\u0628\u0627\u062A\u0647 \u0645\u0644\u0647\u0645\u0629 \u0648\u0645\u0641\u064A\u062F\u0629\u060C \u062A\u0633\u0627\u0639\u062F \u0639\u0644\u0649 \u0641\u0647\u0645 \u0627\u0644\u0648\u0627\u0642\u0639 \u0628\u0634\u0643\u0644 \u0623\u0639\u0645\u0642",date:"28/10/2024"},{id:5,reviewerName:"\u0639\u0645\u0631 \u062D\u0633\u0646",reviewerImage:"https://randomuser.me/api/portraits/men/5.jpg",rating:5,comment:"\u0623\u0633\u0644\u0648\u0628 \u0643\u062A\u0627\u0628\u0629 \u0645\u062A\u0645\u064A\u0632 \u0648\u0623\u0641\u0643\u0627\u0631 \u0639\u0645\u064A\u0642\u0629\u060C \u0627\u0633\u062A\u0641\u062F\u062A \u0643\u062B\u064A\u0631\u0627\u064B \u0645\u0646 \u0643\u062A\u0628\u0647",date:"20/10/2024"}];staticFollowers=[{id:1,name:"\u0633\u0627\u0631\u0629 \u0623\u062D\u0645\u062F",profileImage:"https://randomuser.me/api/portraits/women/10.jpg",profileUrl:"/profile/sara-ahmed"},{id:2,name:"\u0645\u062D\u0645\u062F \u0639\u0644\u064A",profileImage:"https://randomuser.me/api/portraits/men/11.jpg",profileUrl:"/profile/mohamed-ali"},{id:3,name:"\u0644\u064A\u0646\u0627 \u0645\u062D\u0645\u0648\u062F",profileImage:"https://randomuser.me/api/portraits/women/12.jpg",profileUrl:"/profile/lina-mahmoud"},{id:4,name:"\u0623\u062D\u0645\u062F \u0633\u0639\u062F",profileImage:"https://randomuser.me/api/portraits/men/13.jpg",profileUrl:"/profile/ahmed-saad"},{id:5,name:"\u0645\u064A \u062D\u0633\u0627\u0645",profileImage:"https://randomuser.me/api/portraits/women/14.jpg",profileUrl:"/profile/mai-hesham"},{id:6,name:"\u064A\u0648\u0633\u0641 \u0643\u0631\u064A\u0645",profileImage:"https://randomuser.me/api/portraits/men/15.jpg",profileUrl:"/profile/youssef-karim"},{id:7,name:"\u0631\u0646\u0627 \u0641\u062A\u062D\u064A",profileImage:"https://randomuser.me/api/portraits/women/16.jpg",profileUrl:"/profile/rana-fathy"},{id:8,name:"\u0637\u0627\u0631\u0642 \u0646\u0628\u064A\u0644",profileImage:"https://randomuser.me/api/portraits/men/17.jpg",profileUrl:"/profile/tarek-nabil"},{id:9,name:"\u062F\u064A\u0646\u0627 \u0635\u0627\u0644\u062D",profileImage:"https://randomuser.me/api/portraits/women/18.jpg",profileUrl:"/profile/dina-saleh"},{id:10,name:"\u0643\u0631\u064A\u0645 \u0623\u0634\u0631\u0641",profileImage:"https://randomuser.me/api/portraits/men/19.jpg",profileUrl:"/profile/karim-ashraf"},{id:11,name:"\u0647\u0628\u0629 \u0648\u0627\u0626\u0644",profileImage:"https://randomuser.me/api/portraits/women/20.jpg",profileUrl:"/profile/heba-wael"},{id:12,name:"\u0639\u0628\u062F\u0627\u0644\u0644\u0647 \u0645\u0646\u064A\u0631",profileImage:"https://randomuser.me/api/portraits/men/21.jpg",profileUrl:"/profile/abdullah-moneer"}];ngOnInit(){this.loadAuthorData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAuthorData(){let n=Number(this.route.snapshot.paramMap.get("id"));if(!n||isNaN(n)){this.error="\u0645\u0639\u0631\u0641 \u0627\u0644\u0643\u0627\u062A\u0628 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D",this.loading=!1;return}this.loading=!0,this.error=null,this.authorService.getAuthorById(n).pipe(ki(this.destroy$),on(()=>this.loading=!1)).subscribe({next:e=>{this.author=e,typeof document<"u"&&(document.title=`${e.name} - \u0639\u0635\u064A\u0631 \u0627\u0644\u0643\u062A\u0628`)},error:e=>{console.error("Error loading author:",e),this.error="\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0643\u0627\u062A\u0628. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."}})}setActiveTab(n){this.activeTab=n}goToFollowerProfile(n){try{n.startsWith("http")?window.open(n,"_blank","noopener,noreferrer"):this.router.navigate([n])}catch(e){console.error("Error navigating to profile:",e)}}getMutualFollowers(){return this.author?.followers?.slice(0,10)||[]}goBack(){this.location.back()}getAverageRating(){if(!this.author?.books||this.author.books.length===0)return 0;let n=this.author.books.filter(r=>r.rating&&r.rating>0);if(n.length===0)return 0;let e=n.reduce((r,i)=>r+i.rating,0);return Number((e/n.length).toFixed(1))}getStarsArray(n){return Array.from({length:5},(e,r)=>r+1)}isStarFilled(n,e){return n<=Math.floor(e||0)}getDiscountPercentage(n,e){return!e||e>=n||n<=0?0:Math.round((n-e)/n*100)}viewBookDetails(n){n&&!isNaN(n)&&this.router.navigate(["/books",n])}addToCart(n,e){if(e&&(e.preventDefault(),e.stopPropagation()),!this.auth.user()){this.router.navigate(["/login"]);return}if(this.isAddingToCart[n.id])return;this.isAddingToCart[n.id]=!0;let r={bookId:n.id};this.cartService.addItemToCart(r).subscribe({next:i=>{i.succeeded?this.toastService.showSuccess("\u0645\u0628\u0631\u0648\u0643!","\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 \u0628\u0646\u062C\u0627\u062D!"):this.toastService.showError("\u062E\u0637\u0623","\u0641\u0634\u0644 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629: "+i.message),this.isAddingToCart[n.id]=!1},error:i=>{console.error("\u062E\u0637\u0623 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629:",i),i.status===401?this.router.navigate(["/login"]):i.status===400&&i.error?.message?.includes("out of stock")?this.toastService.showWarning("\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631","\u0627\u0644\u0643\u062A\u0627\u0628 \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631 \u0641\u064A \u0627\u0644\u0645\u062E\u0632\u0646 \u062D\u0627\u0644\u064A\u0627\u064B"):this.toastService.showError("\u062E\u0637\u0623","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),this.isAddingToCart[n.id]=!1}})}toggleFollow(){this.author&&(this.isFollowing=!this.isFollowing,console.log(`${this.isFollowing?"Following":"Unfollowing"} author:`,this.author.name))}get reviewsCount(){return this.author?.reviews?.length||this.staticReviews.length}get followersCount(){return this.author?.followers?.length||this.staticFollowers.length}get booksCount(){return this.author?.books?.length||0}hasDiscount(n){return n.discountedPrice&&n.discountedPrice<n.price&&this.getDiscountPercentage(n.price,n.discountedPrice)>0}onImageError(n,e="assets/images/default-avatar.jpg"){n.target.src!==e&&(n.target.src=e)}retry(){this.loadAuthorData()}shareAuthor(){this.author&&(navigator.share?navigator.share({title:this.author.name,text:`\u0627\u0643\u062A\u0634\u0641 \u0643\u062A\u0628 ${this.author.name}`,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>{console.log("Link copied to clipboard")}).catch(console.error))}trackByBookId(n,e){return e.id}trackByReviewId(n,e){return e.id}trackByFollowerId(n,e){return e.id}static \u0275fac=function(e){return new(e||t)(C(Ve),C(xi),C(se),C(ur),C(Nt),C(at),C(Wt))};static \u0275cmp=k({type:t,selectors:[["app-author-details"]],decls:3,vars:3,consts:[["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","author-page",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"loading-text"],[1,"error-container"],[1,"error-content"],[1,"error-icon"],[1,"error-title"],[1,"error-message"],[1,"btn-retry",3,"click"],[1,"retry-icon"],[1,"author-page"],[1,"author-content"],[1,"author-info"],[1,"author-image-container"],[1,"author-image",3,"error","src","alt"],[1,"author-text"],["width","17","height","12","alt","\u0639\u0644\u0645 \u0627\u0644\u062F\u0648\u0644\u0629",1,"flag","rounded",3,"error","src"],[1,"bio"],[1,"author-stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label","rating-stars"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"stat-label"],[1,"custom-button",3,"click"],[1,"text"],[1,"count"],[1,"icon"],[1,"follow-link","link-offset-2","link-offset-3-hover","link-underline","link-underline-opacity-0",3,"routerLink"],[1,"tabs-section"],[1,"tab-navigation"],[1,"tab-btn",3,"click"],[1,"tab-text"],["width","23","height","23","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24"],["d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],[1,"tab-count"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","x","0px","y","0px","viewBox","0 0 512 512",0,"xml","space","preserve"],["d",`M303.139,475v-99.43c63.807-5.806,95.702-52,95.702-138.581H324c-22.091,0-40-17.909-40-40V77
                                                        c0-22.091,17.909-40,40-40h138c22.091,0,40,17.909,40,40v153.153C502,385.921,435.719,467.543,303.139,475z`,2,"fill","#2e9de3"],["d",`M29.139,475v-99.43c63.807-5.806,95.702-52,95.702-138.581H50c-22.091,0-40-17.909-40-40V77
                                                        c0-22.091,17.909-40,40-40h138c22.091,0,40,17.909,40,40v153.153C228,385.921,161.719,467.543,29.139,475z`,2,"fill","#2e9de3"],["d",`M29.138,485c-2.548,0-5.007-0.974-6.869-2.733c-1.998-1.889-3.13-4.517-3.13-7.267v-99.431c0-5.172,3.943-9.49,9.094-9.959
                                                    c55.838-5.08,84.183-43.916,86.459-118.622H50c-27.57,0-50-22.43-50-50V77c0-27.57,22.43-50,50-50h138c27.57,0,50,22.43,50,50v32
                                                    c0,5.522-4.477,10-10,10s-10-4.478-10-10V77c0-16.542-13.458-30-30-30H50c-16.542,0-30,13.458-30,30v119.988
                                                    c0,16.542,13.458,30,30,30h74.841c5.523,0,10,4.478,10,10c0,45.158-8.645,80.573-25.694,105.264
                                                    c-16.073,23.275-39.596,37.431-70.007,42.161v79.836C159.465,453.483,218,376.796,218,230.152v-35.819c0-5.522,4.477-10,10-10
                                                    s10,4.478,10,10v35.819c0,79.877-17.479,141.899-51.951,184.345c-34.838,42.896-87.441,66.611-156.349,70.487
                                                    C29.513,484.995,29.325,485,29.138,485z`],["d",`M462,27H324c-27.57,0-50,22.43-50,50v119.988c0,27.57,22.43,50,50,50h64.692c-2.276,74.706-30.621,113.542-86.459,118.622
                                                    c-5.15,0.469-9.094,4.787-9.094,9.959V475c0,2.75,1.132,5.378,3.13,7.267c1.862,1.76,4.321,2.733,6.869,2.733
                                                    c0.187,0,0.375-0.005,0.562-0.016c68.908-3.876,121.511-27.591,156.349-70.487C494.521,372.052,512,310.029,512,230.152V77
                                                    C512,49.43,489.57,27,462,27z M492,230.152c0,146.644-58.535,223.331-178.861,234.097v-79.836
                                                    c30.412-4.73,53.935-18.886,70.007-42.161c17.049-24.69,25.694-60.105,25.694-105.264c0-5.522-4.477-10-10-10H324
                                                    c-16.542,0-30-13.458-30-30V77c0-16.542,13.458-30,30-30h120v74.034c0,5.522,4.477,10,10,10s10-4.478,10-10v-73.96
                                                    c15.612,1.034,28,14.057,28,29.926V230.152z`],["d","M454,165.8c-5.523,0-10-4.478-10-10s4.477-10.049,10-10.049s10,4.428,10,9.95v0.099C464,161.322,459.522,165.8,454,165.8z"],["d",`M228,161.875c-5.523,0-10-4.478-10-10v-0.209c0-5.522,4.477-10,10-10s10,4.478,10,10v0.209
                                                    C238,157.397,233.523,161.875,228,161.875z`],["viewBox","0 0 128 128","width","24","height","24"],["d","m75.944 66.359c6.095-2.973 10.667-8.591 12.226-15.35.286.081.575.135.866.135 2.379 0 4.243-2.45 4.243-5.578 0-1.616-.501-3.048-1.311-4.058v-11.655c0-12.119-9.824-21.943-21.943-21.943h-8.051c-12.119 0-21.943 9.824-21.943 21.943v11.655c-.81 1.01-1.31 2.442-1.31 4.058 0 3.128 1.863 5.578 4.242 5.578.292 0 .581-.054.867-.135 1.559 6.758 6.132 12.376 12.226 15.35-14.3 1.982-24.917 14.076-24.917 28.682v6.726 9.563c0 .208.011.414.031.617.31 3.046 2.89 5.431 6.017 5.431h6.712c.282.197.597.353.941.458l19.481 5.944c.675.206 1.368.31 2.063.31s1.388-.104 2.063-.31l19.48-5.943c.345-.105.661-.262.943-.459h5.943c3.127 0 5.707-2.385 6.018-5.431.021-.203.031-.409.031-.617v-9.563-6.726c-.001-14.606-10.617-26.7-24.918-28.682z","fill","#e6e7e8"],["d","m85.037 36.989c-.455 0-.887.135-1.28.373v4.532c0 1.241-.109 2.456-.309 3.64.471.377 1.008.61 1.589.61 1.791 0 3.242-2.049 3.242-4.577s-1.452-4.578-3.242-4.578z","fill","#fff"],["d","m40.243 41.894v-4.532c-.393-.239-.825-.373-1.28-.373-1.791 0-3.242 2.049-3.242 4.578s1.452 4.577 3.242 4.577c.58 0 1.117-.233 1.589-.61-.2-1.184-.309-2.399-.309-3.64z","fill","#fff"],["d","m70.47 63.196c-.508 4.23-4.103 7.511-8.47 7.511s-7.963-3.281-8.47-7.511c-14.238 1.301-25.392 13.267-25.392 27.844v16.289c0 2.788 2.26 5.048 5.048 5.048h7.091c-.359-.322-.625-.739-.731-1.218 1.931-1.294 3.203-3.496 3.203-5.995v-.185c0-2.525-1.3-4.744-3.265-6.033v-14.604c0-1.562 1.51-2.68 3.004-2.224l19.895 6.07 19.895-6.07c1.494-.456 3.004.662 3.004 2.224v26.314c0 .673-.293 1.29-.77 1.721h6.3c2.788 0 5.048-2.26 5.048-5.048v-16.289c.001-14.577-11.152-26.543-25.39-27.844z","fill","#fff"],["d","m69.835 65.558c-1.312 3.029-4.325 5.149-7.835 5.149s-6.524-2.121-7.835-5.149c-14.539.998-26.026 13.1-26.026 27.893v13.879c0 2.788 2.26 5.048 5.048 5.048h7.091c-.359-.322-.625-.739-.731-1.218 1.931-1.294 3.203-3.496 3.203-5.995v-.185c0-2.525-1.3-4.744-3.265-6.033v-14.605c0-1.562 1.51-2.68 3.004-2.224l19.895 6.07 19.895-6.07c1.494-.456 3.004.662 3.004 2.224v26.314c0 .673-.293 1.29-.77 1.721h6.3c2.788 0 5.048-2.26 5.048-5.048v-13.878c0-14.793-11.487-26.895-26.026-27.893z","fill","#0089ef"],["d","m62 63.651c-3.031 0-5.916-.621-8.538-1.741v.259c0 4.715 3.822 8.538 8.538 8.538s8.538-3.822 8.538-8.538v-.259c-2.622 1.12-5.507 1.741-8.538 1.741z","fill","#fff"],["d","m66.948 28.612c-8.852-2.681-13.486-7.85-13.486-7.85s-1.957 3.797-5.412 5.845-7.807 2.688-7.807 2.688v8.067 4.532c0 12.016 9.741 21.757 21.757 21.757s21.757-9.741 21.757-21.757v-4.532-6.872s-9.048.473-16.809-1.878z","fill","#fff"],["d","m81.25 105.165v-.185c0-2.841 1.646-5.291 4.033-6.467v-14.17c0-1.562-1.51-2.68-3.004-2.224l-19.895 6.07-19.895-6.07c-1.494-.456-3.004.662-3.004 2.224v14.604c1.965 1.289 3.265 3.507 3.265 6.033v.185c0 2.499-1.272 4.701-3.203 5.995.179.805.772 1.473 1.585 1.721l19.481 5.944c1.154.352 2.387.352 3.542 0l19.481-5.944c.68-.207 1.203-.709 1.463-1.338-2.288-1.209-3.849-3.61-3.849-6.378z","fill","#fa759e"],["d","m81.25 105.165v-.185c0-2.841 1.646-5.291 4.033-6.467v-14.17c0-1.562-1.51-2.68-3.004-2.224l-19.895 6.07v30.901c.597 0 1.194-.088 1.771-.264l19.481-5.944c.68-.207 1.203-.709 1.463-1.338-2.288-1.21-3.849-3.611-3.849-6.379z","fill","#ffd7e5"],["d","m35.537 97.766h-7.398v9.563c0 2.788 2.26 5.048 5.048 5.048h2.35c3.984 0 7.213-3.229 7.213-7.213v-.185c0-3.983-3.23-7.213-7.213-7.213z","fill","#fff"],["d","m88.463 97.766c-3.984 0-7.213 3.229-7.213 7.213v.185c0 3.984 3.229 7.213 7.213 7.213h2.35c2.788 0 5.048-2.26 5.048-5.048v-9.563z","fill","#fff"],["fill","#3a2c60"],["d","m71.944 62.359c6.095-2.973 10.667-8.591 12.226-15.35.286.081.575.135.866.135 2.379 0 4.243-2.45 4.243-5.578 0-1.616-.501-3.048-1.311-4.058v-11.655c0-12.119-9.824-21.943-21.943-21.943h-8.051c-12.119 0-21.943 9.824-21.943 21.943v11.655c-.81 1.01-1.31 2.442-1.31 4.058 0 3.128 1.863 5.578 4.242 5.578.292 0 .581-.054.867-.135 1.559 6.758 6.132 12.376 12.226 15.35-14.3 1.982-24.917 14.076-24.917 28.682v6.726 9.563c0 .208.011.414.031.617.31 3.046 2.89 5.431 6.017 5.431h6.742c.277.191.574.356.911.458l19.481 5.944c.675.206 1.368.31 2.063.31s1.388-.104 2.063-.31l19.48-5.943c.336-.102.633-.268.908-.459h5.978c3.127 0 5.707-2.385 6.018-5.431.021-.203.031-.409.031-.617v-9.563-6.726c-.001-14.606-10.617-26.7-24.918-28.682zm22.917 34.407h-6.398c-.756 0-1.485.111-2.181.303v-12.727c0-1.064-.491-2.039-1.347-2.672-.854-.634-1.929-.819-2.949-.508l-.941.287c1.016-3.632 3.533-6.698 7.015-8.381 4.25 4.772 6.801 11.069 6.801 17.972zm0 10.564c0 2.232-1.816 4.048-4.049 4.048h-2.35c-3.426 0-6.213-2.787-6.213-6.213v-.186c0-3.426 2.787-6.213 6.213-6.213h6.398v8.564zm-25.425-43.923c-.592 3.569-3.701 6.3-7.436 6.3s-6.845-2.73-7.437-6.3c.084.029.171.048.256.076.5.167 1.004.322 1.519.454.051.013.103.023.155.036.532.133 1.072.244 1.618.338.061.01.121.023.182.032.581.096 1.169.167 1.763.218.041.004.082.006.122.009.602.048 1.208.079 1.822.079s1.22-.031 1.821-.079c.041-.003.083-.006.124-.01.594-.051 1.181-.122 1.761-.218.061-.01.122-.022.183-.033.547-.094 1.087-.206 1.62-.339.05-.012.101-.022.151-.035.517-.133 1.024-.289 1.527-.457.082-.024.167-.043.249-.071zm15.1-18.37c.003-.021.004-.042.007-.063.061-.449.108-.903.142-1.36.007-.088.014-.176.02-.264.031-.482.052-.967.052-1.457v-3.875c1.31-.286 2.522 1.46 2.522 3.547 0 2.204-1.336 4.071-2.743 3.472zm-36.486-18.43c3.456-2.048 5.412-5.845 5.412-5.845s4.634 5.169 13.486 7.85c6.22 1.884 13.257 1.953 15.809 1.907v5.469h-4.724l.052-.859c.017-.274-.081-.545-.27-.746-.189-.2-.453-.314-.729-.314h-12.151c-.275 0-.539.114-.729.314-.188.201-.286.472-.27.746l.052.859h-4.275l.052-.859c.017-.274-.081-.545-.27-.746-.189-.2-.453-.314-.729-.314h-12.15c-.275 0-.539.114-.729.314-.188.201-.286.472-.27.746l.052.859h-4.427v-6.881c1.487-.312 4.367-1.054 6.808-2.5zm35.139 3.903c-.008 0-.015 0-.023 0zm-7.165 5.559-.247 4.037c-.063 1.039-.929 1.853-1.969 1.853h-5.595c-1.04 0-1.905-.814-1.97-1.853l-.247-4.037zm-18.318 0-.247 4.036c-.064 1.039-.93 1.854-1.97 1.854h-5.595c-1.04 0-1.905-.813-1.969-1.853l-.247-4.037zm-18.242 8.968c-1.414.599-2.743-1.268-2.743-3.471 0-1.939 1.026-3.577 2.242-3.577.094 0 .187.011.28.031v3.874c0 .49.021.974.052 1.457.006.088.013.176.02.264.034.457.081.91.142 1.36.003.02.004.041.007.062zm1.98-.413c-.036-.275-.079-.55-.104-.824-.058-.628-.097-1.262-.097-1.906v-3.905h4.55l.137 2.238c.128 2.093 1.869 3.731 3.965 3.731h5.595c2.095 0 3.837-1.639 3.966-3.731l.137-2.238h4.519l.137 2.239c.129 2.092 1.871 3.73 3.966 3.73h5.595c2.096 0 3.837-1.639 3.965-3.731l.137-2.238h4.847v3.905c0 .643-.039 1.277-.097 1.906-.026.274-.068.549-.104.824-.978 7.391-5.839 13.575-12.479 16.391-.305.129-.62.228-.93.342-.326.12-.644.255-.978.359-3.998 1.238-8.339 1.238-12.338 0-.496-.155-.976-.344-1.455-.534-.149-.059-.303-.103-.45-.165-6.643-2.816-11.506-9-12.484-16.393zm-5.505 28.446c3.398 1.644 5.879 4.604 6.941 8.123l-.099-.03c-1.02-.313-2.095-.126-2.949.508-.855.633-1.347 1.607-1.347 2.672v12.98c-.916-.354-1.908-.556-2.947-.556h-6.398v-5.726c-.001-6.903 2.549-13.199 6.799-17.971zm-.402 38.307h-2.351c-2.232 0-4.048-1.815-4.048-4.048v-8.563h6.398c3.426 0 6.213 2.787 6.213 6.213v.186c.001 3.425-2.786 6.212-6.212 6.212zm5.886.546c-.264-.08-.482-.24-.644-.442 1.814-1.508 2.971-3.779 2.971-6.316v-.186c0-2.67-1.286-5.039-3.266-6.54v-14.097c0-.425.195-.813.536-1.064.341-.253.77-.328 1.176-.202l3.204.977c.531.16 1.088-.138 1.249-.665.16-.528-.137-1.088-.665-1.249l-.85-.259c-.922-4.387-3.729-8.176-7.732-10.326 4.052-3.886 9.343-6.513 15.307-7.257.97 4.237 4.763 7.41 9.29 7.41s8.319-3.173 9.289-7.41c5.963.743 11.254 3.37 15.306 7.255-4.08 2.191-6.916 6.084-7.782 10.579l-16.43 5.012-6.833-2.084c-.531-.163-1.088.136-1.248.664-.161.528.136 1.087.664 1.248l6.417 1.958v29.049c-.16-.032-.321-.06-.479-.108zm22.439 5.946c-.158.048-.318.076-.479.108v-29.049l19.187-5.853c.407-.122.835-.05 1.176.203.341.252.536.64.536 1.064v13.58c-2.409 1.433-4.032 4.056-4.032 7.056v.186c0 2.722 1.337 5.133 3.383 6.628-.09.054-.185.1-.29.132z"],["d","m52.401 41.025c1.202 0 2.176-.974 2.176-2.176s-.974-2.176-2.176-2.176-2.176.974-2.176 2.176.974 2.176 2.176 2.176z"],["d","m71.598 41.025c1.202 0 2.176-.974 2.176-2.176s-.974-2.176-2.176-2.176-2.176.974-2.176 2.176.975 2.176 2.176 2.176z"],["d","m62 49.533c1.915 0 3.474-1.559 3.474-3.475v-1.45c0-.553-.447-1-1-1s-1 .447-1 1v1.45c0 .813-.661 1.475-1.474 1.475s-1.475-.661-1.475-1.475v-1.45c0-.553-.447-1-1-1s-1 .447-1 1v1.45c0 1.916 1.559 3.475 3.475 3.475z"],["d","m69.937 32.262 4.26.742c.059.01.116.015.173.015.478 0 .899-.343.984-.828.095-.544-.27-1.063-.813-1.157l-4.26-.742c-.551-.09-1.062.271-1.157.813-.096.544.269 1.062.813 1.157z"],["d","m49.63 33.019c.057 0 .114-.005.173-.015l4.261-.742c.544-.095.908-.613.813-1.157-.095-.543-.603-.903-1.157-.813l-4.261.742c-.544.095-.908.613-.813 1.157.084.485.506.828.984.828z"],["d","m62.384 55.219c3.59 0 5.536-2.517 5.617-2.624.332-.438.246-1.06-.19-1.395-.435-.333-1.061-.252-1.4.183-.058.075-1.457 1.836-4.026 1.836-2.619 0-3.947-1.729-4.014-1.817-.323-.443-.946-.544-1.393-.221-.448.323-.549.948-.226 1.396.077.108 1.949 2.642 5.632 2.642z"],["d","m52.281 84.061-3.145-.96c-.53-.165-1.088.137-1.248.664-.162.528.136 1.087.664 1.248l3.145.96c.098.03.195.044.292.044.429 0 .825-.277.956-.708.162-.528-.135-1.087-.664-1.248z"],[1,"tab-content"],[1,"tab-pane"],["class","books-grid",4,"ngIf"],["class","no-content-state",4,"ngIf"],[1,"reviews-container"],[2,"padding","20px","background-color","#f8fafc","min-height","100vh"],[1,"quote-container"],[1,"avatar-section"],[1,"avatar-picture"],["type","image/webp",3,"srcset"],["type","image/jpeg",3,"srcset"],["loading","lazy","width","150","height","150",1,"avatar-img",3,"src","title","alt"],[1,"content-section"],[1,"author-name"],["itemscope","","itemtype","https://schema.org/Person"],[1,"date"],[1,"quote-content"],[1,"quote-figure"],[1,"quote-text-container"],[1,"quote-blockquote"],[1,"quote-text"],[1,"quote-mark"],[1,"quote-content-text"],[1,"quote-footer"],[1,"footer-content"],[1,"voting-section"],[1,"vote-group"],["type","button","title","\u0623\u0639\u062C\u0628\u0646\u064A",1,"vote-button","upvote-button"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"vote-icon"],["d","M21.406 9.558c-1.21-.051-2.87-.278-3.977-.744.809-3.283 1.253-8.814-2.196-8.814-1.861 0-2.351 1.668-2.833 3.329-1.548 5.336-3.946 6.816-6.4 7.401v-.73h-6v12h6v-.904c2.378.228 4.119.864 6.169 1.746 1.257.541 3.053 1.158 5.336 1.158 2.538 0 4.295-.997 5.009-3.686.5-1.877 1.486-7.25 1.486-8.25 0-1.648-1.168-2.446-2.594-2.506zm-17.406 10.442h-2v-8h2v8zm15.896-5.583s.201.01 1.069-.027c1.082-.046 1.051 1.469.004 1.563l-1.761.099c-.734.094-.656 1.203.141 1.172 0 0 .686-.017 1.143-.041 1.068-.056 1.016 1.429.04 1.551-.424.053-1.745.115-1.745.115-.811.072-.706 1.235.109 1.141l.771-.031c.822-.074 1.003.825-.292 1.661-1.567.881-4.685.131-6.416-.614-2.239-.965-4.438-1.934-6.959-2.006v-6c3.264-.749 6.328-2.254 8.321-9.113.898-3.092 1.679-1.931 1.679.574 0 2.071-.49 3.786-.921 5.533 1.061.543 3.371 1.402 6.12 1.556 1.055.059 1.024 1.455-.051 1.584l-1.394.167s-.608 1.111.142 1.116z"],[1,"vote-count","upvote-count"],[1,"vote-number"],["type","button","title","\u0644\u0645 \u064A\u0639\u062C\u0628\u0646\u064A",1,"vote-button","downvote-button"],["d","M24 11.936c0-1-.986-6.373-1.486-8.25-.714-2.689-2.471-3.686-5.009-3.686-2.283 0-4.079.617-5.336 1.158-2.05.883-3.791 1.519-6.169 1.746v-.904h-6v12h6v-.73c2.454.585 4.852 2.066 6.4 7.402.483 1.66.972 3.328 2.833 3.328 3.448 0 3.005-5.531 2.196-8.814 1.106-.466 2.767-.692 3.977-.744 1.426-.06 2.594-.858 2.594-2.506zm-20 .064h-2v-8h2v8zm15.755-1.302l1.394.167c1.075.129 1.105 1.525.051 1.584-2.749.154-5.06 1.013-6.12 1.556.43 1.748.92 3.463.92 5.534 0 2.505-.781 3.666-1.679.574-1.993-6.859-5.057-8.364-8.321-9.113v-6c2.521-.072 4.72-1.041 6.959-2.005 1.731-.745 4.849-1.495 6.416-.614 1.295.836 1.114 1.734.292 1.661l-.771-.032c-.815-.094-.92 1.068-.109 1.141 0 0 1.321.062 1.745.115.976.123 1.028 1.607-.04 1.551-.457-.024-1.143-.041-1.143-.041-.797-.031-.875 1.078-.141 1.172 0 0 .714.005 1.761.099s1.078 1.609-.004 1.563c-.868-.037-1.069-.027-1.069-.027-.75.005-.875 1.028-.141 1.115z"],[1,"vote-count","downvote-count"],[1,"social-nav"],["href","https://www.facebook.com/sharer/sharer.php?u=https://www.aseeralkotb.com/ar/books/%D8%B4%D9%8A%D9%81%D8%B1%D8%A9-%D8%A8%D9%84%D8%A7%D9%84/quotes/19736","target","_blank","title","Share on Facebook",1,"social-link"],[1,"social-button","facebook-button"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"social-icon"],["d","M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"],["href","https://twitter.com/share?url=https://www.aseeralkotb.com/ar/books/%D8%B4%D9%8A%D9%81%D8%B1%D8%A9-%D8%A8%D9%84%D8%A7%D9%84/quotes/19736&text=\u0645\u0627 \u062F\u0645\u0646\u0627 \u0646\u0639\u0627\u0646\u064A \u0628\u0643\u0644 \u0627\u0644\u0623\u062D\u0648\u0627\u0644\u060C \u0641\u0644\u0646\u062C\u0639\u0644 \u0644\u0645\u0639\u0627\u0646\u0627\u062A\u0646\u0627 \u0645\u0639\u0646\u0649","target","_blank","title","Share on Twitter",1,"social-link"],[1,"social-button","twitter-button"],["d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"],["href","https://www.aseeralkotb.com/ar/books/%D8%B4%D9%8A%D9%81%D8%B1%D8%A9-%D8%A8%D9%84%D8%A7%D9%84/quotes/19736","target","_blank",1,"social-link"],[1,"social-button"],["d","M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z"],[1,"followers-container"],[1,"followers-grid"],["class","follower-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"star"],[1,"books-grid"],[1,"row"],["class","col-md-2 p-0 m-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-2","p-0","m-0"],[1,"card",3,"click"],[1,"position-relative"],[1,"card-img-top",3,"error","src","alt"],["class","badge bg-danger position-absolute start-50 translate-middle-x","style","bottom: -12px",4,"ngIf"],[1,"card-body","text-center"],[1,"book-rating","mb-2"],[4,"ngFor","ngForOf"],[1,"card-title","fw-bold"],[1,"card-text","text-muted"],[1,"underBook"],["class","told text-danger text-decoration-line-through",4,"ngIf"],[1,"tnew","text-dark"],["title","\u0625\u0636\u0627\u0641\u0629 \u0644\u0644\u0633\u0644\u0629",1,"cart-ribbon",3,"click","disabled"],[1,"fa-solid"],[1,"badge","bg-danger","position-absolute","start-50","translate-middle-x",2,"bottom","-12px"],[1,"fa-star",3,"ngClass"],[1,"told","text-danger","text-decoration-line-through"],[1,"no-content-state"],[1,"no-content-icon"],[1,"follower-card",3,"click"],[1,"follower-image-container"],[1,"follower-image",3,"error","src","alt"],[1,"follower-info"],[1,"follower-name"]],template:function(e,r){e&1&&Z(0,OO,4,0,"div",0)(1,AO,12,1,"div",1)(2,BO,147,46,"div",2),e&2&&(m("ngIf",r.loading),d(),m("ngIf",r.error&&!r.loading),d(),m("ngIf",r.author&&!r.loading&&!r.error))},dependencies:[Y,Gt,Tt,Ne,de,Vr],styles:["[_nghost-%COMP%]{display:block;background-color:#f8fafc}.author-page[_ngcontent-%COMP%]{padding-top:180px;max-width:78%;margin:0 auto;direction:rtl;color:#333;line-height:1.6;background-color:#f8fafc}.author-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.author-info[_ngcontent-%COMP%]{display:flex;gap:20px;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000001a;padding:16px;border-radius:12px;transition:transform .3s ease,box-shadow .3s ease;background-color:#fff}.author-image-container[_ngcontent-%COMP%]{position:relative}.author-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid #fff;transition:transform .3s ease,box-shadow .3s ease}.author-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.flag[_ngcontent-%COMP%]{margin-right:12px;border-radius:2px;box-shadow:0 1px 3px #0003}.author-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;color:#314158;font-weight:700;display:flex;align-items:center}.bio[_ngcontent-%COMP%]{margin:15px 0;color:#666;font-size:16px;line-height:1.7}.author-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:32px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#62748e;background:#fffc;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);transition:all .3s ease}.stat-number[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.stat-label[_ngcontent-%COMP%]{font-size:14px;margin-top:5px}.rating-stars[_ngcontent-%COMP%]{display:flex;gap:2px}.star[_ngcontent-%COMP%]{color:#ddd;font-size:16px;transition:color .2s ease}.star.filled[_ngcontent-%COMP%]{color:#ffc107}.custom-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:3px;border:none;color:#0f172b;font-size:14px;font-weight:300;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 10px #667eea4d;line-height:12px;padding-inline:8px;background-color:#cad5e2;border-radius:4px}.custom-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 20px #667eea66}.custom-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px}.custom-button[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:12px}.follow-link[_ngcontent-%COMP%]{text-decoration:none;color:#4f39f6;font-size:12px;font-weight:500;transition:color .3s ease;cursor:pointer;border:none;background:none}.follow-link[_ngcontent-%COMP%]:hover{color:#3730a3;text-decoration:underline}.tabs-section[_ngcontent-%COMP%]{margin:40px 0;background:#fff}.tab-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1px;border-bottom:2px solid #e0e0e0;padding-bottom:0;margin-bottom:30px;justify-content:flex-start;width:100%}.tab-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fff;border:none;padding:16px;transition:all .3s ease;position:relative;border-bottom:2px solid transparent;width:33.33%;cursor:pointer}.tab-btn[_ngcontent-%COMP%]:not(:last-child){border-left:1px solid #e2e8f0}.tab-btn.active[_ngcontent-%COMP%]{color:#333;border-bottom-color:#f4777c;background:#fff}.tab-text[_ngcontent-%COMP%]{font-size:16px;display:flex;align-items:center;gap:8px}.tab-count[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:14px;font-weight:600;transition:all .3s ease}.tab-content[_ngcontent-%COMP%]{min-height:400px}.tab-pane[_ngcontent-%COMP%]{display:none;animation:_ngcontent-%COMP%_fadeIn .4s ease-in-out}.tab-pane.active[_ngcontent-%COMP%]{display:block}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.books-grid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:flex-start;margin:0}.books-grid[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{flex:0 0 calc(16.66% - 16px);max-width:calc(16.66% - 16px)}.card[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;height:100%;display:flex;flex-direction:column;background-color:#fff;box-shadow:0 4px 15px #00000014;transition:all .3s ease;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #00000026}.card-img-top[_ngcontent-%COMP%]{height:280px;width:100%;object-fit:cover;border-radius:12px 12px 0 0;transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{transform:scale(1.03)}.card-body[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;flex-grow:1}.card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px;line-height:1.4}.card-text[_ngcontent-%COMP%]{margin-bottom:12px;color:#666;font-size:14px}.underBook[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,#f1f5f9,#e2e8f0);padding:12px 20px;width:calc(100% + 32px);position:relative;left:-16px;margin-top:auto;border-radius:0 0 15px 15px}.told[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#dc2626}.tnew[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#1a1a1a}.cart-ribbon[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;padding:12px 18px;font-size:16px;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer;box-shadow:0 2px 8px #10b9814d}.cart-ribbon[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 15px #10b98166;background:linear-gradient(135deg,#059669,#047857)}.book-rating[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2px;margin-bottom:10px}.book-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.reviews-container[_ngcontent-%COMP%]{margin:0 auto}.review-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:24px;margin-bottom:20px;box-shadow:0 2px 10px #0000000f;transition:all .3s ease}.review-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #0000001f;transform:translateY(-2px)}.review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.reviewer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.reviewer-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;border:2px solid #f3f4f6}.reviewer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reviewer-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937;margin:0}.review-date[_ngcontent-%COMP%]{font-size:13px;color:#9ca3af;margin-top:2px}.review-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;gap:2px}.review-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:#d1d5db;font-size:16px}.review-rating[_ngcontent-%COMP%]   .star.filled[_ngcontent-%COMP%]{color:#fbbf24}.review-body[_ngcontent-%COMP%]{margin-top:16px}.review-text[_ngcontent-%COMP%]{color:#4b5563;line-height:1.7;font-size:15px;margin:0}.followers-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.followers-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:20px}.follower-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:20px;text-align:center;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000000f}.follower-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #0000001f;border-color:#3b82f6}.follower-image-container[_ngcontent-%COMP%]{margin-bottom:12px}.follower-image[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;object-fit:cover;border:3px solid #f3f4f6;transition:border-color .3s ease}.follower-card[_ngcontent-%COMP%]:hover   .follower-image[_ngcontent-%COMP%]{border-color:#3b82f6}.follower-info[_ngcontent-%COMP%]{margin-top:10px}.follower-name[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#1f2937;margin:0;line-height:1.3}.no-content-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#6b7280}.no-content-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.5}.no-content-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px;color:#374151}.no-content-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.back-section[_ngcontent-%COMP%]{padding:50px 0;background:linear-gradient(135deg,#f8fafc,#f1f5f9);text-align:center}.btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:12px;background:transparent;color:#667eea;border:2px solid #667eea;padding:14px 28px;border-radius:30px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:16px}.btn-back[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff;transform:translate(-5px);box-shadow:0 4px 15px #667eea4d}.back-icon[_ngcontent-%COMP%]{font-size:18px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:500px;padding:60px}.loading-spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid #f3f4f6;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:24px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:#6b7280;font-size:18px;font-weight:500}.error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:500px;padding:40px}.error-content[_ngcontent-%COMP%]{text-align:center;max-width:500px}.error-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:20px}.error-title[_ngcontent-%COMP%]{font-size:24px;color:#dc2626;margin-bottom:15px}.error-message[_ngcontent-%COMP%]{color:#6b7280;font-size:16px;margin-bottom:30px;line-height:1.6}.btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;background:#dc2626;color:#fff;border:none;padding:12px 24px;border-radius:25px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:16px}.btn-retry[_ngcontent-%COMP%]:hover{background:#b91c1c;transform:translateY(-2px);box-shadow:0 4px 15px #dc26264d}.retry-icon[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1200px){.books-grid[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{flex:0 0 calc(20% - 16px);max-width:calc(20% - 16px)}}@media (max-width: 992px){.author-page[_ngcontent-%COMP%]{max-width:90%;margin-top:120px!important}.books-grid[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{flex:0 0 calc(25% - 15px);max-width:calc(25% - 15px)}.author-stats[_ngcontent-%COMP%]{gap:20px}.tab-btn[_ngcontent-%COMP%]{padding:15px 20px}}@media (max-width: 768px){.author-page[_ngcontent-%COMP%]{max-width:95%;padding:0 10px}.author-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px;padding:20px}.author-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;justify-content:center}.author-stats[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.stat-item[_ngcontent-%COMP%]{padding:12px 16px}.books-grid[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{flex:0 0 calc(50% - 10px);max-width:calc(50% - 10px)}.tab-navigation[_ngcontent-%COMP%]{flex-direction:column;gap:0}.tab-btn[_ngcontent-%COMP%]{width:100%;border-left:none!important;border-bottom:1px solid #e2e8f0}.tab-btn[_ngcontent-%COMP%]:last-child{border-bottom:none}.followers-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px}.review-card[_ngcontent-%COMP%]{padding:20px}.reviewer-info[_ngcontent-%COMP%]{gap:12px}.reviewer-image[_ngcontent-%COMP%]{width:45px;height:45px}}@media (max-width: 480px){.author-image[_ngcontent-%COMP%]{width:100px;height:100px}.author-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.books-grid[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.followers-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:12px}.follower-image[_ngcontent-%COMP%]{width:60px;height:60px}.follower-name[_ngcontent-%COMP%], .tab-text[_ngcontent-%COMP%]{font-size:14px}.tab-count[_ngcontent-%COMP%]{font-size:12px;padding:3px 8px}}.quote-container[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.875rem;color:#64748b;direction:rtl}.avatar-section[_ngcontent-%COMP%]{flex:none;padding:1.5rem 0}.avatar-picture[_ngcontent-%COMP%]{position:relative}.avatar-img[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;object-fit:cover;border:2px solid white;box-shadow:0 1px 2px #0000000d}.content-section[_ngcontent-%COMP%]{flex:1;padding:1.5rem 0}.author-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#1e293b;margin:0}.date[_ngcontent-%COMP%]{margin:0;margin-top:.25rem}.quote-content[_ngcontent-%COMP%]{margin-top:1rem;color:#475569;font-style:italic;font-size:1rem}.quote-figure[_ngcontent-%COMP%]{margin:0}.quote-text-container[_ngcontent-%COMP%]{padding-top:1.5rem}.quote-blockquote[_ngcontent-%COMP%]{margin:0}.quote-text[_ngcontent-%COMP%]{font-size:1.125rem;display:inline-flex;align-items:flex-start}.quote-mark[_ngcontent-%COMP%]{font-weight:800;font-size:3rem;line-height:1}.quote-content-text[_ngcontent-%COMP%]{margin:0 .75rem;align-self:center}.quote-footer[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.voting-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.vote-group[_ngcontent-%COMP%]{display:flex;align-items:center}.vote-button[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:.25rem .5rem;box-shadow:0 1px 2px #0000000d;border:none;background:#fff;transition:all .2s}.vote-button[_ngcontent-%COMP%]:focus{outline:none}.upvote-button[_ngcontent-%COMP%]{border-radius:.25rem 0 0 .25rem;color:#10b981}.upvote-button[_ngcontent-%COMP%]:hover{background-color:#10b981;color:#fff}.downvote-button[_ngcontent-%COMP%]{border-radius:.25rem 0 0 .25rem;color:#ef4444}.downvote-button[_ngcontent-%COMP%]:hover{background-color:#ef4444;color:#fff}.vote-count[_ngcontent-%COMP%]{display:flex;align-items:center;box-shadow:0 1px 2px #0000000d;padding:0;font-style:normal;background:#fff;transition:all .2s}.upvote-count[_ngcontent-%COMP%]{border-radius:0 .25rem .25rem 0;color:#10b981}.upvote-count[_ngcontent-%COMP%]:hover{background-color:#10b981;color:#fff}.downvote-count[_ngcontent-%COMP%]{border-radius:0 .25rem .25rem 0;color:#ef4444}.downvote-count[_ngcontent-%COMP%]:hover{background-color:#ef4444;color:#fff}.vote-number[_ngcontent-%COMP%]{padding:0 .25rem;font-size:.75rem}.vote-icon[_ngcontent-%COMP%]{width:.75rem;height:.75rem;fill:currentColor}.social-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.25rem}@media (min-width: 640px){.social-nav[_ngcontent-%COMP%]{justify-content:flex-start}}.social-link[_ngcontent-%COMP%]{padding:0;text-decoration:none}.social-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:.25rem;width:1.5rem;height:1.5rem;border-radius:.25rem;border:1px solid #e2e8f0;transition:all .2s;background:#fff;color:#64748b}.social-button[_ngcontent-%COMP%]:hover{background-color:#334155;color:#fff}.facebook-button[_ngcontent-%COMP%]:hover{background-color:#1877f2}.twitter-button[_ngcontent-%COMP%]:hover{background-color:#1da1f2}.social-icon[_ngcontent-%COMP%]{width:.75rem;height:.75rem;fill:currentColor}"]})};var wi=class t{constructor(n){this.http=n}_apiBaseUrl=Ie.apiBaseUrl;addQuote(n,e,r,i=1){return this.http.post(`${this._apiBaseUrl}/Quotes/AddQuote`,{AuthorId:r,BookId:e,UserId:i,Comment:n})}getAllQuotes(n){let e=new me;return n.AuthorId&&(e=e.set("AuthorId",n.AuthorId.toString())),n.BookId&&(e=e.set("BookId",n.BookId.toString())),e=e.set("SearchTerm",n.SearchTerm),e=e.set("PageNumber",n.PageNumber.toString()),e=e.set("PageSize",n.PageSize.toString()),this.http.get(`${this._apiBaseUrl}/Quotes/GetAllQuotes`,{params:e}).pipe(B(r=>r.data))}getQuoteById(n){return this.http.get(`${this._apiBaseUrl}/Quotes/${n}`)}updateQuote(n,e){return this.http.put(`${this._apiBaseUrl}/Quotes/${n}`,{quote:e})}deleteQuote(n){return this.http.delete(`${this._apiBaseUrl}/Quotes/DeleteQuote/${n}`)}addReview(n,e,r,i,o=1){let s={AuthorId:i,BookId:r,UserId:o,Comment:n,Rating:e};return console.log("Sending review data:",s),console.log("API URL:",`${this._apiBaseUrl}/Reviews/`),this.http.post(`${this._apiBaseUrl}/Reviews/`,s)}getAllReviews(n){let e=new me;return n.AuthorId&&(e=e.set("AuthorId",n.AuthorId.toString())),n.BookId&&(e=e.set("BookId",n.BookId.toString())),e=e.set("SearchTerm",n.SearchTerm),e=e.set("PageNumber",n.PageNumber.toString()),e=e.set("PageSize",n.PageSize.toString()),this.http.get(`${this._apiBaseUrl}/Reviews/GetAll`,{params:e}).pipe(B(r=>r.data||r))}getReviewById(n){return this.http.get(`${this._apiBaseUrl}/Reviews/${n}`)}updateReview(n,e,r){return this.http.put(`${this._apiBaseUrl}/Reviews`,{id:n,review:e,rating:r})}deleteReview(n){return this.http.delete(`${this._apiBaseUrl}/Reviews`,{body:{id:n}})}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var UO=["quoteModal"],HO=()=>[1,2,3,4,5];function $O(t,n){if(t&1){let e=Q();c(0,"i",20),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.setRating(i))}),u()}if(t&2){let e=n.$implicit,r=w(2);W("active",e<=r.rating)}}function zO(t,n){if(t&1&&(c(0,"div",16)(1,"label",10),f(2),_(3,"translate"),u(),c(4,"div",17),X(5,$O,1,2,"i",18,Qe),c(7,"span",19),f(8),u()()()),t&2){let e=w();d(2),y(I(3,2,"modal.rating")),d(3),ee(cr(4,HO)),d(3),D("",e.rating,"/5")}}function GO(t,n){if(t&1){let e=Q();c(0,"textarea",21),_(1,"translate"),_(2,"translate"),_(3,"translate"),gt("ngModelChange",function(i){O(e);let o=w();return yt(o.reviewText,i)||(o.reviewText=i),A(i)}),f(4,"        "),u()}if(t&2){let e=w();m("placeholder",Pu("",I(1,5,"modal.write")," ",I(2,7,"modal.review")," ",I(3,9,"modal.here"))),pt("ngModel",e.reviewText)}}function qO(t,n){if(t&1){let e=Q();c(0,"textarea",21),_(1,"translate"),_(2,"translate"),gt("ngModelChange",function(i){O(e);let o=w();return yt(o.quoteText,i)||(o.quoteText=i),A(i)}),f(3,"      "),u()}if(t&2){let e=w();m("placeholder",Pu("",I(1,5,"modal.write")," ",e.title," ",I(2,7,"modal.here"))),pt("ngModel",e.quoteText)}}function WO(t,n){if(t&1&&(c(0,"div",22),f(1),u()),t&2){let e=w();d(),y(e.errorMsg)}}var Os=class t{constructor(n,e){this.modalService=n;this.translate=e;this.translate.get(["modal.quote","modal.here"]).subscribe(r=>{console.log("translations",r)})}quoteModalRef;quoteText="";reviewText="";rating=5;errorMsg="";title="";bookId=0;authorId;quoteAdded=new be;reviewAdded=new be;modalInstance;openModal(){this.modalInstance=new bootstrap.Modal(this.quoteModalRef.nativeElement),this.modalInstance.show()}closeModal(){this.modalInstance.hide()}saveQuote(){if(console.log("saveQuote called with title:",this.title),console.log("quoteText:",this.quoteText),console.log("bookId:",this.bookId),!this.quoteText.trim()){this.errorMsg=`\u0645\u0637\u0644\u0648\u0628 \u0643\u062A\u0627\u0628\u0629 \u0627\u0644${this.title}`;return}if(!this.bookId&&!this.authorId){this.errorMsg="\u064A\u062C\u0628 \u062A\u062D\u062F\u064A\u062F \u0643\u062A\u0627\u0628 \u0623\u0648 \u0645\u0624\u0644\u0641";return}this.errorMsg="",this.modalService.addQuote(this.quoteText.trim(),this.bookId,this.authorId,1).subscribe({next:n=>{console.log("Quote added successfully:",n),this.quoteAdded.emit(n),this.quoteText="",this.closeModal()},error:n=>{console.error("Error adding quote:",n),n.error&&n.error.errors&&console.log("Validation errors:",n.error.errors),this.errorMsg="\u0641\u064A\u0647 \u0645\u0634\u0643\u0644\u0629 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0627\u0642\u062A\u0628\u0627\u0633\u060C \u062C\u0631\u0628 \u062A\u0627\u0646\u064A!"}})}saveReview(){if(console.log("saveReview called with title:",this.title),console.log("reviewText:",this.reviewText),console.log("rating:",this.rating),console.log("bookId:",this.bookId),!this.reviewText.trim()){this.errorMsg=`\u0645\u0637\u0644\u0648\u0628 \u0643\u062A\u0627\u0628\u0629 \u0627\u0644${this.title}`;return}if(!this.bookId&&!this.authorId){this.errorMsg="\u064A\u062C\u0628 \u062A\u062D\u062F\u064A\u062F \u0643\u062A\u0627\u0628 \u0623\u0648 \u0645\u0624\u0644\u0641";return}if(this.rating<1||this.rating>5){this.errorMsg="\u064A\u062C\u0628 \u0627\u062E\u062A\u064A\u0627\u0631 \u062A\u0642\u064A\u064A\u0645 \u0645\u0646 1 \u0625\u0644\u0649 5 \u0646\u062C\u0648\u0645";return}this.errorMsg="",this.modalService.addReview(this.reviewText.trim(),this.rating,this.bookId,this.authorId,1).subscribe({next:n=>{console.log("Review added successfully:",n),this.reviewAdded.emit(n),this.reviewText="",this.rating=5,this.closeModal()},error:n=>{console.error("Error adding review:",n),console.error("Error status:",n.status),console.error("Error message:",n.message),console.error("Error body:",n.error),n.error&&n.error.errors&&console.log("Validation errors:",n.error.errors),n.error&&n.error.message?this.errorMsg=n.error.message:this.errorMsg="\u0641\u064A\u0647 \u0645\u0634\u0643\u0644\u0629 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062A\u0642\u064A\u064A\u0645\u060C \u062C\u0631\u0628 \u062A\u0627\u0646\u064A!"}})}setRating(n){this.rating=n}get isReview(){let n=(this.title||"").toLowerCase().trim();return n==="review"||n==="\u062A\u0642\u064A\u064A\u0645"||n==="\u0645\u0631\u0627\u062C\u0639\u0629"}static \u0275fac=function(e){return new(e||t)(C(wi),C(nt))};static \u0275cmp=k({type:t,selectors:[["app-modal"]],viewQuery:function(e,r){if(e&1&&no(UO,5),e&2){let i;Rr(i=Fr())&&(r.quoteModalRef=i.first)}},inputs:{title:"title",bookId:"bookId",authorId:"authorId"},outputs:{quoteAdded:"quoteAdded",reviewAdded:"reviewAdded"},decls:29,vars:19,consts:[["quoteModal",""],[1,"classbtn",3,"click"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered",2,"max-width","700px"],[1,"modal-content","rounded-3","shadow"],[1,"modal-headerawy","border-0"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["class","mb-3",4,"ngIf"],[1,"form-label","small","text-muted"],["class","form-control","rows","5",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["class","text-danger small mt-2",4,"ngIf"],[1,"modal-footer","bg-light","border-0"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-dark",3,"click"],[1,"mb-3"],[1,"rating-stars"],[1,"fa","fa-star","rating-star",2,"cursor","pointer","font-size","24px","color","#ddd","margin-right","5px",3,"active"],[1,"ms-2","text-muted"],[1,"fa","fa-star","rating-star",2,"cursor","pointer","font-size","24px","color","#ddd","margin-right","5px",3,"click"],["rows","5",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"text-danger","small","mt-2"]],template:function(e,r){if(e&1){let i=Q();c(0,"button",1),E("click",function(){return O(i),A(r.openModal())}),c(1,"span"),f(2),_(3,"translate"),u(),c(4,"span"),f(5,"\u2B50"),u()(),c(6,"div",2,0)(8,"div",3)(9,"div",4)(10,"div",5)(11,"h5",6),f(12),_(13,"translate"),u(),c(14,"button",7),E("click",function(){return O(i),A(r.closeModal())}),u()(),c(15,"div",8),Z(16,zO,9,5,"div",9),c(17,"label",10),f(18),u(),Z(19,GO,5,11,"textarea",11)(20,qO,4,9,"textarea",11)(21,WO,2,1,"div",12),u(),c(22,"div",13)(23,"button",14),E("click",function(){return O(i),A(r.closeModal())}),f(24),_(25,"translate"),u(),c(26,"button",15),E("click",function(){return O(i),A(r.title==="review"||r.title==="\u062A\u0642\u064A\u064A\u0645"||r.title==="\u0645\u0631\u0627\u062C\u0639\u0629"?r.saveReview():r.saveQuote())}),f(27),_(28,"translate"),u()()()()()}e&2&&(d(2),Ot(" ",I(3,11,"modal.add")," ",r.title),d(10),Ot("",I(13,13,"modal.add")," ",r.title),d(4),m("ngIf",r.isReview),d(2),y(r.title),d(),m("ngIf",r.isReview),d(),m("ngIf",!r.isReview),d(),m("ngIf",r.errorMsg),d(3),y(I(25,15,"modal.cancel")),d(3),D(" ",I(28,17,"modal.add")," "))},dependencies:[Y,Ne,kt,Ke,st,yn,Be,Ze],styles:["textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.classbtn[_ngcontent-%COMP%]{background-color:#757d8a;color:#fff;border:1px solid #888;font-weight:700;padding:8px 15px;border-radius:5px;cursor:pointer;width:100%;display:flex;justify-content:space-between}.classbtn[_ngcontent-%COMP%]:hover{background-color:#5f6773}.modal-headerawy[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.rating-stars[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.rating-star.active[_ngcontent-%COMP%], .rating-star[_ngcontent-%COMP%]:hover{color:#f1c40f!important}"]})};var nf=class t{delete=new be;authorName="Abouelwafa";date=new Date().toLocaleDateString();quote="";onDelete(){this.delete.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-user-reply"]],inputs:{quote:"quote"},outputs:{delete:"delete"},decls:29,vars:3,consts:[[1,"quote-card"],[1,"header"],[1,"delete-btn",3,"click"],["src","/icons/user.png","alt","Profile",1,"profile-pic"],[1,"header-content"],[1,"author"],[1,"date"],[1,"quote-text"],[1,"fas","fa-quote-right","text-primary"],[1,"fas","fa-quote-left","text-primary"],[1,"actions"],[1,"share"],[1,"fas","fa-link"],[1,"fab","fa-twitter"],[1,"fab","fa-facebook"],[1,"votes"],[1,"fas","fa-thumbs-down"],[1,"fas","fa-thumbs-up"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"div",1)(2,"button",2),tt("click",function(){return r.onDelete()}),f(3,"\xD7"),L(),re(4,"img",3),R(5,"div",4)(6,"div",5),f(7),L(),R(8,"div",6),f(9),L()()(),R(10,"div",7),re(11,"i",8),f(12),re(13,"i",9),L(),R(14,"div",10)(15,"div",11)(16,"button"),re(17,"i",12),L(),R(18,"button"),re(19,"i",13),L(),R(20,"button"),re(21,"i",14),L()(),R(22,"div",15)(23,"button"),re(24,"i",16),f(25," 0"),L(),R(26,"button"),re(27,"i",17),f(28," 0"),L()()()()),e&2&&(d(7),y(r.authorName),d(2),y(r.date),d(3),D(' " ',r.quote,' " '))},styles:[".quote-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px;border-radius:6px;width:100%;margin:auto;background:#fff;position:relative}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;width:32px;height:32px;background:#ffffffe6;border:1px solid rgba(220,53,69,.2);border-radius:50%;font-size:16px;font-weight:600;color:#6c757d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;z-index:10}.delete-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;border-color:#dc3545;transform:scale(1.1);box-shadow:0 4px 16px #dc35454d}.delete-btn[_ngcontent-%COMP%]:active{transform:scale(.95);transition-duration:.1s}.delete-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #dc354540}@keyframes _ngcontent-%COMP%_deleteShake{0%,to{transform:translate(0)}25%{transform:translate(-2px)}75%{transform:translate(2px)}}.delete-btn[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_deleteShake .5s ease-in-out}.delete-btn.modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a52);border:none;color:#fff;box-shadow:0 4px 15px #ee5a5233}.delete-btn.modern[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff5252,#d32f2f);transform:translateY(-2px);box-shadow:0 8px 25px #ee5a5266}.delete-btn.glass[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);color:#dc3545}.delete-btn.glass[_ngcontent-%COMP%]:hover{background:#dc354533;border-color:#dc354566}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.profile-pic[_ngcontent-%COMP%]{border-radius:50%;margin-left:10px;width:40px;height:40px}.author[_ngcontent-%COMP%]{font-weight:700;color:#333}.date[_ngcontent-%COMP%]{font-size:.85rem;color:gray}.quote-text[_ngcontent-%COMP%]{display:flex;gap:10px;font-size:1.1rem;color:#444;text-align:center;line-height:1.8}.quote-mark[_ngcontent-%COMP%]{color:#547aa5;font-weight:700;font-size:1.5rem}.sub-author[_ngcontent-%COMP%]{color:#007bff}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#555}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}"]})};function YO(t,n){t&1&&re(0,"i",9)}function QO(t,n){t&1&&re(0,"i",10)}var rf=class t{delete=new be;authorName="Abouelwafa";date=new Date().toLocaleDateString();review="";rating=5;onDelete(){this.delete.emit()}getStarsArray(){return Array(this.rating).fill(0).map((n,e)=>e+1)}getEmptyStarsArray(){return Array(5-this.rating).fill(0).map((n,e)=>e+1)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-review-reply"]],inputs:{review:"review",rating:"rating"},outputs:{delete:"delete"},decls:35,vars:4,consts:[[1,"review-card"],[1,"header"],[1,"delete-btn",3,"click"],["src","/icons/user.png","alt","Profile",1,"profile-pic"],[1,"header-content"],[1,"author"],[1,"date"],[1,"rating-section"],[1,"stars"],[1,"fa","fa-star","text-warning"],[1,"fa","fa-star","text-muted"],[1,"rating-text"],[1,"review-text"],[1,"actions"],[1,"share"],[1,"fas","fa-link"],[1,"fab","fa-twitter"],[1,"fab","fa-facebook"],[1,"votes"],[1,"fas","fa-thumbs-down"],[1,"fas","fa-thumbs-up"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"div",1)(2,"button",2),tt("click",function(){return r.onDelete()}),f(3,"\xD7"),L(),re(4,"img",3),R(5,"div",4)(6,"div",5),f(7),L(),R(8,"div",6),f(9),L()()(),R(10,"div",7)(11,"div",8),X(12,YO,1,0,"i",9,Qe),X(14,QO,1,0,"i",10,Qe),R(16,"span",11),f(17),L()()(),R(18,"div",12),f(19),L(),R(20,"div",13)(21,"div",14)(22,"button"),re(23,"i",15),L(),R(24,"button"),re(25,"i",16),L(),R(26,"button"),re(27,"i",17),L()(),R(28,"div",18)(29,"button"),re(30,"i",19),f(31," 0"),L(),R(32,"button"),re(33,"i",20),f(34," 0"),L()()()()),e&2&&(d(7),y(r.authorName),d(2),y(r.date),d(3),ee(r.getStarsArray()),d(2),ee(r.getEmptyStarsArray()),d(3),D("",r.rating,"/5"),d(2),D(" ",r.review," "))},styles:[".review-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef;transition:transform .2s ease,box-shadow .2s ease}.review-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;position:relative}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;background:#dc3545;color:#fff;border:none;border-radius:50%;width:25px;height:25px;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.delete-btn[_ngcontent-%COMP%]:hover{background:#c82333}.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:12px;object-fit:cover}.header-content[_ngcontent-%COMP%]{flex:1}.author[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:16px;margin-bottom:2px}.date[_ngcontent-%COMP%]{color:#6c757d;font-size:14px}.rating-section[_ngcontent-%COMP%]{margin-bottom:15px}.stars[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px}.rating-text[_ngcontent-%COMP%]{margin-left:8px;font-weight:600;color:#495057;font-size:14px}.review-text[_ngcontent-%COMP%]{color:#2c3e50;line-height:1.6;font-size:15px;margin-bottom:15px;padding:10px;background:#f8f9fa;border-radius:8px;border-left:4px solid #007bff}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:10px;border-top:1px solid #e9ecef}.share[_ngcontent-%COMP%]{display:flex;gap:8px}.share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;cursor:pointer;padding:5px;border-radius:4px;transition:color .2s ease,background-color .2s ease}.share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff;background:#f8f9fa}.votes[_ngcontent-%COMP%]{display:flex;gap:10px}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:1px solid #dee2e6;color:#6c757d;cursor:pointer;padding:5px 10px;border-radius:20px;font-size:14px;transition:all .2s ease}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#adb5bd}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{color:#dc3545;border-color:#dc3545}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{color:#28a745;border-color:#28a745}"]})};var ZO=()=>[1,2,3,4,5],KO=()=>[5,4,3,2,1],JO=(t,n)=>n.id;function XO(t,n){if(t&1&&v(0,"i",29),t&2){let e=n.$implicit,r=w(2);W("inactive",e>=r.averageRating)}}function e4(t,n){if(t&1&&(c(0,"div")(1,"span",30),f(2),u(),v(3,"i",31),c(4,"div",32),v(5,"div",33),u(),c(6,"span"),f(7),u()()),t&2){let e=n.$implicit,r=w(2);d(2),y(e),d(3),Du("width",r.getRatingPercentage(e),"%"),d(2),D("% ",r.getRatingPercentage(e))}}function t4(t,n){if(t&1){let e=Q();c(0,"app-modal",34,0),_(2,"translate"),E("reviewAdded",function(i){O(e);let o=w(2);return A(o.onReviewAdded(i))}),u()}if(t&2){let e=w(2);m("title",qe(I(2,3,"reviewWithComments.review")))("bookId",e.book.id)}}function n4(t,n){if(t&1){let e=Q();c(0,"app-review-reply",36),E("delete",function(){let i=O(e),o=i.$implicit,s=i.$index,a=w(3);return A(a.deleteReview(o.id||s))}),u()}if(t&2){let e=n.$implicit;m("review",e.comment)("rating",e.rating)}}function r4(t,n){if(t&1&&X(0,n4,1,2,"app-review-reply",35,to),t&2){let e=w(2);ee(e.reviews)}}function i4(t,n){t&1&&(c(0,"div",28),f(1),_(2,"translate"),u()),t&2&&(d(),D(" ",I(2,1,"reviewWithComments.noReviews")," "))}function o4(t,n){if(t&1&&(c(0,"div")(1,"div",19)(2,"div",20)(3,"h2"),f(4),_(5,"translate"),u(),c(6,"div",21)(7,"span",22),X(8,XO,1,2,"i",23,Qe),u(),c(10,"span"),f(11),_(12,"translate"),_(13,"translate"),u()(),c(14,"div",24),X(15,e4,8,4,"div",null,Qe),u(),c(17,"div",25)(18,"h3"),f(19),_(20,"translate"),u(),c(21,"p"),f(22),_(23,"translate"),u(),z(24,t4,3,5,"app-modal",26),u()(),c(25,"div",27),z(26,r4,2,0)(27,i4,3,3,"div",28),u()()()),t&2){let e=w();d(4),y(I(5,9,"reviewWithComments.customerReviews")),d(4),ee(cr(19,ZO)),d(3),Su("",e.averageRating,"/5 ",I(12,11,"reviewWithComments.stars")," \u0645\u0646 ",e.totalReviews," ",I(13,13,"reviewWithComments.reviews")),d(4),ee(cr(20,KO)),d(4),y(I(20,15,"reviewWithComments.submitReview")),d(3),y(I(23,17,"reviewWithComments.shareYourOpinion")),d(2),G(e.book&&e.book.id?24:-1),d(2),G(e.reviews&&e.reviews.length>0?26:27)}}function s4(t,n){if(t&1){let e=Q();c(0,"app-user-reply",40),E("delete",function(){let i=O(e).$implicit,o=w(3);return A(o.deleteQuote(i.id))}),u()}if(t&2){let e=n.$implicit;m("quote",e.comment)}}function a4(t,n){if(t&1){let e=Q();c(0,"app-modal",38,1),_(2,"translate"),E("quoteAdded",function(i){O(e);let o=w(2);return A(o.onQuoteAdded(i))}),u(),X(3,s4,1,1,"app-user-reply",39,JO)}if(t&2){let e=w(2);m("title",qe(I(2,3,"reviewWithComments.quote")))("bookId",e.book.id),d(3),ee(e.quotes)}}function l4(t,n){t&1&&(c(0,"div",28),f(1),_(2,"translate"),u()),t&2&&(d(),y(I(2,1,"reviewWithComments.noQuotes")))}function c4(t,n){if(t&1&&(c(0,"div",37),z(1,a4,5,5)(2,l4,3,3,"div",28),u()),t&2){let e=w();d(),G(e.book&&e.book.id?1:2)}}function u4(t,n){t&1&&(c(0,"div",41)(1,"div",28),f(2),_(3,"translate"),u()()),t&2&&(d(2),D(" ",I(3,1,"reviewWithComments.noReaders")," "))}var of=class t{constructor(n,e,r){this.api=n;this.translate=e;this.toastService=r}book;bookId;staticReviews=[{rating:5,comment:"\u0645\u0645\u062A\u0627\u0632"},{rating:4,comment:"\u062C\u064A\u062F"},{rating:3,comment:"\u0645\u0642\u0628\u0648\u0644"},{rating:2,comment:"\u0633\u064A\u0621"},{rating:1,comment:"\u0645\u0633\u064A\u0621"}];quotes=[];allAddedQuotes=[];reviews=[];allAddedReviews=[];totalReviews=0;averageRating=0;activeTab="quotes";getRatingPercentage(n){let e=this.reviews.filter(r=>r.rating===n).length;return this.totalReviews===0?0:Math.round(e/this.totalReviews*100)}addReview(){this.toastService.showInfo("\u0642\u0631\u064A\u0628\u0627\u064B","\u0646\u0645\u0648\u0630\u062C \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 \u0633\u064A\u0641\u062A\u062D \u0647\u0646\u0627 \u0644\u0627\u062D\u0642\u0627\u064B. \u0646\u062D\u0646 \u0646\u0639\u0645\u0644 \u0639\u0644\u0649 \u062A\u0637\u0648\u064A\u0631 \u0647\u0630\u0647 \u0627\u0644\u0645\u064A\u0632\u0629.")}selectTab(n){this.activeTab=n}ngOnChanges(n){n.bookId&&n.bookId.currentValue&&(this.bookId=n.bookId.currentValue,this.loadQuotes(this.bookId),this.loadReviews(this.bookId))}ngOnInit(){this.book?.id&&(this.bookId=this.book.id,this.loadQuotes(this.bookId),this.loadReviews(this.bookId))}deleteQuote(n){this.api.deleteQuote(n).subscribe({next:()=>{this.quotes=this.quotes.filter(e=>e.id!==n),this.allAddedQuotes=this.allAddedQuotes.filter(e=>e.id!==n),console.log("Quote deleted successfully")},error:e=>{console.error("Error deleting quote:",e)}})}onQuoteAdded(n){console.log("New quote received:",n),n&&n.id?(this.quotes.unshift(n),this.allAddedQuotes.unshift(n),console.log("Updated quotes:",this.quotes)):(console.error("Invalid quote structure:",n),this.loadQuotes(this.bookId))}loadQuotes(n){this.api.getAllQuotes({BookId:n,SearchTerm:"",PageNumber:1,PageSize:10}).subscribe({next:e=>{this.quotes=e||[],this.allAddedQuotes=[...e||[]],console.log("Loaded quotes:",this.quotes)},error:e=>{console.error("Error fetching quotes:",e),this.quotes=[],this.allAddedQuotes=[]}})}loadReviews(n){this.api.getAllReviews({BookId:n,SearchTerm:"",PageNumber:1,PageSize:10}).subscribe({next:e=>{this.reviews=e||[],this.allAddedReviews=[...e||[]],this.calculateAverageRating(),console.log("Loaded reviews:",this.reviews)},error:e=>{console.error("Error fetching reviews:",e),this.reviews=[],this.allAddedReviews=[],this.totalReviews=0,this.averageRating=0}})}deleteReview(n){if(typeof n=="string"){let e=parseInt(n);this.reviews.splice(e,1),this.allAddedReviews.splice(e,1),this.calculateAverageRating();return}this.api.deleteReview(n).subscribe({next:()=>{this.reviews=this.reviews.filter(e=>e.id!==n),this.allAddedReviews=this.allAddedReviews.filter(e=>e.id!==n),this.calculateAverageRating(),console.log("Review deleted successfully")},error:e=>{console.error("Error deleting review:",e)}})}onReviewAdded(n){console.log("New review received:",n),n&&n.id?(this.reviews.unshift(n),this.allAddedReviews.unshift(n),this.calculateAverageRating(),console.log("Updated reviews:",this.reviews)):(console.error("Invalid review structure:",n),this.loadReviews(this.bookId))}calculateAverageRating(){if(this.reviews.length===0){this.totalReviews=0,this.averageRating=0;return}this.totalReviews=this.reviews.length;let n=this.reviews.reduce((e,r)=>e+(r.rating||0),0);this.averageRating=Math.round(n/this.totalReviews*10)/10}static \u0275fac=function(e){return new(e||t)(C(wi),C(nt),C(Wt))};static \u0275cmp=k({type:t,selectors:[["app-reviews-and-comments"]],inputs:{book:"book",bookId:"bookId"},features:[wt],decls:37,vars:25,consts:[["addReviewBtn",""],["addQuoteBtn",""],[1,"reviewsAndComments","py-5","px-3"],[1,"allrev"],[1,"mb-4"],[1,"custom-btn","brev"],[1,"btn-text"],[1,"icon-box"],[1,"fas","fa-star-half-alt"],[1,"fas","fa-comment-alt"],[1,"tabs-container"],[1,"tabs"],[3,"click"],[1,"fa-solid","fa-book-bookmark","text-primary"],[1,"fas","fa-quote-right","text-success"],[1,"tab-content"],[4,"ngIf"],["class","quotes-container",4,"ngIf"],["class","pt-2 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"reviews-container"],[1,"review-box"],[1,"overall-rating"],[1,"stars"],[1,"fa","fa-star",3,"inactive"],[1,"rating-bars"],[1,"submit-review"],[3,"title","bookId"],[1,"reviews-list"],[1,"alert"],[1,"fa","fa-star"],[1,"star"],[1,"fas","fa-star","text-warning"],[1,"bar"],[1,"fill"],[3,"reviewAdded","title","bookId"],[3,"review","rating"],[3,"delete","review","rating"],[1,"quotes-container"],[3,"quoteAdded","title","bookId"],[3,"quote"],[3,"delete","quote"],[1,"pt-2","d-flex","justify-content-center","align-items-center"]],template:function(e,r){e&1&&(c(0,"div",2)(1,"div",3)(2,"h3",4),f(3),_(4,"translate"),u(),c(5,"button",5)(6,"span",6),f(7),_(8,"translate"),u(),c(9,"span",7),v(10,"i",8),u()(),c(11,"button",5)(12,"span",6),f(13),_(14,"translate"),u(),c(15,"span",7),v(16,"i",9),u()()(),c(17,"div",10)(18,"div",11)(19,"button",12),E("click",function(){return r.selectTab("reviews")}),c(20,"span"),v(21,"i",13),f(22),_(23,"translate"),u(),c(24,"span"),f(25,"5"),u()(),c(26,"button",12),E("click",function(){return r.selectTab("quotes")}),c(27,"span"),v(28,"i",14),f(29),_(30,"translate"),u(),c(31,"span"),f(32,"5"),u()()(),c(33,"div",15),Z(34,o4,28,21,"div",16)(35,c4,3,1,"div",17)(36,u4,4,3,"div",18),u()()()),e&2&&(d(3),Ot("",I(4,15,"reviewWithComments.reviewsAndComments")," (",r.book==null?null:r.book.title,")"),d(4),Ot("",I(8,17,"reviewWithComments.quotesFrom")," ",r.book==null?null:r.book.title),d(6),Ot("",I(14,19,"reviewWithComments.reviewsFrom")," ",r.book==null?null:r.book.title),d(6),W("active",r.activeTab==="reviews"),d(3),D(" ",I(23,21,"reviewWithComments.reviews")),d(4),W("active",r.activeTab==="quotes"),d(3),D(" ",I(30,23,"reviewWithComments.quotes")),d(5),m("ngIf",r.activeTab==="reviews"),d(),m("ngIf",r.activeTab==="quotes"),d(),m("ngIf",r.activeTab==="readers"))},dependencies:[Y,Ne,Os,nf,rf,Be,Ze],styles:[".allrev[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.brev[_ngcontent-%COMP%]{background-color:#3d4b61;justify-content:space-around}.brev[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{color:#fff;font-size:16px}.custom-btn[_ngcontent-%COMP%]{display:flex;align-items:center;border:none;padding:0;background-color:#d0dceb;border-radius:6px;overflow:hidden;cursor:pointer;height:32px}.btn-text[_ngcontent-%COMP%]{padding:0 10px;font-size:14px;color:#1f2e4d}.icon-box[_ngcontent-%COMP%]{background-color:#8ca3c6;color:#fff;padding:6px;display:flex;align-items:center;border-top-left-radius:6px;border-bottom-left-radius:6px;font-size:14px;height:100%}.tabs[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid #eee;margin-bottom:1rem;justify-content:space-around}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;width:100%;padding:10px 20px;cursor:pointer;font-weight:700;border-bottom:2px solid transparent;transition:all .3s ease;color:#666;box-shadow:0 2px 6px #0000001a;display:flex;justify-content:space-between}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#e74c3c;border-bottom:2px solid #e74c3c}.reviews-container[_ngcontent-%COMP%]{display:flex;margin:auto;justify-content:space-between}.review-box[_ngcontent-%COMP%]{width:35%;padding:20px}.alert[_ngcontent-%COMP%]{background-color:#fffbe6;color:#a67c00;padding:10px;border:1px solid #f1c40f;margin-bottom:15px;border-radius:5px}.review-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:600;font-size:22px}.overall-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:15px}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f1c40f}.stars[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{color:#ddd}.rating-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:5px 0}.bar[_ngcontent-%COMP%]{flex:1;background:#eee;height:10px;border-radius:5px;overflow:hidden}.bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{height:100%;background:#f1c40f}.star[_ngcontent-%COMP%]{width:30px;text-align:center}.submit-review[_ngcontent-%COMP%]{margin-top:20px}.submit-review[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:600}.alert[_ngcontent-%COMP%]{width:60%;height:fit-content;margin-top:35px}.quotes-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;margin-top:50px;gap:30px}.reviews-list[_ngcontent-%COMP%]{width:60%;display:flex;flex-direction:column;gap:20px;margin-top:20px}app-modal[_ngcontent-%COMP%]{width:fit-content;margin-inline:auto;direction:rtl;text-align:right}.quotes-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:fit-content;padding-inline:150px}.tab-content[_ngcontent-%COMP%]{height:max-content}.booksauthor[_ngcontent-%COMP%]{color:#000;font-weight:600;font-size:16px}.booksauthor[_ngcontent-%COMP%]:hover{text-decoration:none}"]})};var d4=()=>["/"];function f4(t,n){if(t&1&&(c(0,"li")(1,"div",4)(2,"div",5),ln(),c(3,"svg",6),v(4,"path",7),u()(),cn(),c(5,"a",8)(6,"span",9),f(7),u()()()()),t&2){let e=n.$implicit;d(5),m("routerLink",e.path),d(2),y(e.name)}}var lt=class t{Navcrumbs=[];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-nav-crumb"]],inputs:{Navcrumbs:"Navcrumbs"},decls:7,vars:2,consts:[[1,"flex"],[1,"w-full","bg-white","rounded-md","shadow","px-6","flex","space-x-3"],["routerLinkActive","active",3,"routerLink"],["id","homeIcon",1,"fa-solid","fa-house"],[1,"d-flex","align-items:","center"],[1,"arrow-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","-23 0 23 44","preserveAspectRatio","none","aria-hidden","true",1,"arrow-icon"],["d","M -1 0 l -22 22 l 22 22 h 1 l -22 -22 l 22 -22 H -1 z"],["routerLinkActive","active","aria-current","page","itemprop","item",1,"font-size:","0.875rem;","rtl:mr-4","ltr:ml-4","text-sm","font-medium","text-blueGray-500","hover:text-blueGray-700",3,"routerLink"],["itemprop","name"]],template:function(e,r){e&1&&(c(0,"nav",0)(1,"ol",1)(2,"li")(3,"a",2),v(4,"i",3),u()(),X(5,f4,8,2,"li",null,Qe),u()()),e&2&&(d(3),m("routerLink",cr(1,d4)),d(2),ee(r.Navcrumbs))},dependencies:[Y,Zn,de,Et],styles:["ol[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:flex-start;align-items:center;white-space:nowrap}#homeIcon[_ngcontent-%COMP%]{font-size:1rem}a[_ngcontent-%COMP%]{color:#666;padding:10px;padding-inline:15px;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#313131}.arrow-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.arrow-icon[_ngcontent-%COMP%]{height:38px;fill:none;stroke:#d6d6d6;stroke-width:.5;stroke-linecap:round;stroke-linejoin:round}#mainCategory[_ngcontent-%COMP%]{font-weight:700}"]})};var p4=t=>["/book-details",t],g4=(t,n)=>n.id;function h4(t,n){if(t&1&&(c(0,"a",1),v(1,"app-book-card",2),u()),t&2){let e=n.$implicit;m("routerLink",_e(2,p4,e.id)),d(),m("book",e)}}var As=class t{constructor(n){this.bookService=n}catBasedOn;books=[];currentPage=1;pageSize=2;ngOnInit(){this.bookService.filterBooks({CategoryIds:[this.catBasedOn],PageNumber:1,PageSize:10}).pipe(B(n=>n.data)).subscribe(n=>{this.books=n})}static \u0275fac=function(e){return new(e||t)(C(nn))};static \u0275cmp=k({type:t,selectors:[["app-similar-books"]],inputs:{catBasedOn:"catBasedOn"},decls:3,vars:0,consts:[[1,"catBooks","container"],[1,"text-decoration-none","books","pt-4","pb-4",3,"routerLink"],[3,"book"]],template:function(e,r){e&1&&(c(0,"div",0),X(1,h4,2,4,"a",1,g4),u()),e&2&&(d(),ee(r.books))},dependencies:[yr,de],styles:[".catBooks[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px 0}"]})};var Ts=class t{constructor(n,e){this.http=n;this.cartService=e}apiBaseUrl=Ie.apiBaseUrl;getWishlistItems(n){let e=new me().set("PageNumber",n.pageNumber.toString()).set("PageSize",n.pageSize.toString());return this.http.get(`${this.apiBaseUrl}/Wishlist/GetAll`,{params:e})}addToCart(n){let e={bookId:n.bookId};return this.cartService.addItemToCart(e)}addToWishlist(n){let e=new me().set("bookId",n.toString());return this.http.post(`${this.apiBaseUrl}/Wishlist/Add`,null,{params:e})}removeFromWishlist(n){let e=new me().set("bookId",n.bookId.toString());return this.http.delete(`${this.apiBaseUrl}/Wishlist/Remove`,{params:e})}isBookInWishlist(n){let e=new me().set("bookId",n.toString());return this.http.get(`${this.apiBaseUrl}/Wishlist/IsInWishlist`,{params:e})}getCoverImageUrl(n){let e=Ie.apiBaseUrl.replace("/api","");return n&&n.startsWith("/uploads")?e+n:n||"/images/default-book-cover.jpg"}clearWishlist(){return this.http.delete(`${Ie.apiBaseUrl}/wishlist/Clear`)}getWislistCount(){return this.http.get(`${Ie.apiBaseUrl}/wishlist/Count`)}static \u0275fac=function(e){return new(e||t)(F(Se),F(Nt))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var m4=(t,n)=>({"fa-arrow-right":t,"fa-arrow-left":n}),v4=(t,n)=>({"fa-arrow-left":t,"fa-arrow-right":n}),b4=(t,n)=>({fas:t,far:n}),y4=(t,n)=>({"fas text-warning":t,"far text-secondary":n}),C4=(t,n)=>n.id;function _4(t,n){if(t&1&&v(0,"i",34),t&2){let e=n.$implicit,r=w();m("ngClass",Dn(1,y4,e<((r.book==null?null:r.book.rating)||0),e>=((r.book==null?null:r.book.rating)||0)))}}function x4(t,n){if(t&1&&(c(0,"div",72)(1,"h3",39),f(2),_(3,"translate"),u(),v(4,"div",40),c(5,"p",73),f(6),u()()),t&2){let e=w();d(2),y(I(3,2,"bookDetails.aboutBook")),d(4),y(e.book==null?null:e.book.description)}}function w4(t,n){if(t&1&&(c(0,"a",49)(1,"div",74),v(2,"i",75),c(3,"a",76),f(4),u()()()),t&2){let e=n.$implicit;m("routerLink",$t("/book-details/",e.id)),d(3),m("routerLink",$t("/book-details/",e.id)),d(),y(e.title)}}function M4(t,n){if(t&1&&(c(0,"a",64)(1,"li",77),f(2),c(3,"span",78),f(4,"0"),u()()()),t&2){let e=n.$implicit;m("routerLink",$t("/MainFilterContainer/",e.id)),d(2),D(" ",e.name," ")}}var sf=class t{constructor(n,e,r,i,o,s,a,l,p,g,h){this.api=n;this.route=e;this.router=r;this.translate=i;this.authorService=o;this.catService=s;this.cartService=a;this.modalService=l;this.wishlistService=p;this.auth=g;this.toastService=h}book;newPrice;discount;stars=Array(5).fill(0);bookId=0;baseUrl=Ie.apiBaseUrl.replace("/api","");booksByAuthor;authorId;author;categories;authorBooks;totalReviews=0;averageRating=0;isLiked=!1;isRTL;breadcrumbs=[];catId;clicked=!1;reviews=[];allAddedReviews=[];ngOnInit(){window.scrollTo({top:0}),this.route.params.subscribe(n=>{let e=n.id;isNaN(Number(e))?this.toastService.showError("\u0631\u0627\u0628\u0637 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D","\u0627\u0644\u0631\u0627\u0628\u0637 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D. \u0644\u0627\u0632\u0645 \u064A\u0628\u0642\u0649 \u0641\u064A\u0647 ID \u0635\u062D\u064A\u062D \u0644\u0644\u0643\u062A\u0627\u0628."):(this.bookId=Number(e),this.fetchBookById(this.bookId))}),this.api.getBooks().subscribe({next:n=>{this.booksByAuthor=n},error:n=>{console.error("Error fetching books by author:",n)}})}fetchBookById(n){this.api.getBookById(n).subscribe({next:e=>{this.book=e,this.catId=this.book.categoryIds[0],this.authorId=this.book.authorId,this.book.price&&this.book.discountPercentage?(this.newPrice=this.book.price-this.book.price*this.book.discountPercentage/100,this.discount=this.book.price-this.newPrice):this.newPrice=this.book?.price,this.auth.user()?(console.log("User is authenticated, checking wishlist status"),this.checkIfBookInWishlist()):console.log("User is not authenticated"),this.authorService.getAuthorById(this.authorId).subscribe({next:r=>{console.log("authorData",r),this.author=r,this.authorBooks=r.books,console.log("authorBooks",this.authorBooks)},error:r=>{console.error("Error fetching author:",r)}}),this.catService.getPaginatedCategories().subscribe({next:r=>{this.categories=r.data.map(i=>({name:i.name,id:i.id})),console.log("dataaaaaaaa",this.categories)},error:r=>{console.error("Error fetching categories:",r)}})},error:e=>{e.status===422?(console.warn("Book data is invalid or not found."),this.toastService.showError("\u0643\u062A\u0627\u0628 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D","\u0627\u0644\u0643\u062A\u0627\u0628 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D \u0623\u0648 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629.")):e.status===404?this.toastService.showError("\u0643\u062A\u0627\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F","\u0627\u0644\u0643\u062A\u0627\u0628 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F. \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0631\u0627\u0628\u0637."):this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0643\u062A\u0627\u0628. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),console.error("Error fetching book:",e)}}),this.isRTL=this.translate.currentLang==="ar"}getCoverImageUrl(){return this.book?.coverImageUrl?this.book.coverImageUrl.startsWith("/uploads")?this.baseUrl+this.book.coverImageUrl:this.book.coverImageUrl:""}getAuthorCoverImageUrl(){return this.author?.imageUrl?this.author.imageUrl.startsWith("/uploads")?this.baseUrl+this.author.imageUrl:this.author.imageUrl:""}checkIfBookInWishlist(){this.book?.id&&this.wishlistService.isBookInWishlist(this.book.id).subscribe({next:n=>{this.isLiked=n.data||!1},error:n=>{console.error("Error checking wishlist status:",n),this.isLiked=!1}})}toggleHeart(){if(this.isLiked=!this.isLiked,this.wishlistService.addToCart({bookId:this.bookId,quantity:1}).subscribe({next:n=>{console.log(n)},error:n=>{console.error(n)}}),console.log("Heart clicked! Current isLiked state:",this.isLiked),!this.auth.user()){console.log("User not authenticated, redirecting to login"),this.router.navigate(["/login"]);return}if(!this.book?.id){console.error("Book ID is not available");return}if(console.log("Toggling heart for book ID:",this.book.id),this.isLiked){let n={bookId:this.book.id};console.log("Removing from wishlist:",n),this.wishlistService.removeFromWishlist(n).subscribe({next:e=>{this.isLiked=!1,console.log("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0643\u062A\u0627\u0628 \u0645\u0646 \u0627\u0644\u0645\u0641\u0636\u0644\u0629",e),this.toastService.showSuccess("\u062A\u0645 \u0628\u0646\u062C\u0627\u062D","\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0643\u062A\u0627\u0628 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629")},error:e=>{console.error("\u062E\u0637\u0623 \u0641\u064A \u062D\u0630\u0641 \u0627\u0644\u0643\u062A\u0627\u0628 \u0645\u0646 \u0627\u0644\u0645\u0641\u0636\u0644\u0629:",e),this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0630\u0641","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0643\u062A\u0627\u0628 \u0645\u0646 \u0627\u0644\u0645\u0641\u0636\u0644\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),e.status===401&&this.router.navigate(["/login"])}})}else console.log("Adding to wishlist for book ID:",this.book.id),this.wishlistService.addToWishlist(this.book.id).subscribe({next:n=>{this.isLiked=!0,console.log("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0644\u0644\u0645\u0641\u0636\u0644\u0629",n),this.toastService.showSuccess("\u062A\u0645 \u0628\u0646\u062C\u0627\u062D","\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629")},error:n=>{console.error("\u062E\u0637\u0623 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0644\u0644\u0645\u0641\u0636\u0644\u0629:",n),this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0625\u0636\u0627\u0641\u0629","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0644\u0644\u0645\u0641\u0636\u0644\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),n.status===401&&this.router.navigate(["/login"])}})}ngAfterViewInit(){this.breadcrumbs=[{name:`${this.book?.title}`,path:"/book-details/"+this.book?.id}]}reduce(){this.bookId>1?(this.bookId--,this.router.navigate(["/book-details",this.bookId])):(this.bookId++,this.router.navigate(["/book-details",this.bookId]))}increase(){this.bookId<=this.booksByAuthor.length?(this.bookId++,this.router.navigate(["/book-details",this.bookId])):(this.bookId--,this.router.navigate(["/book-details",this.bookId]))}addToCart(){if(!this.auth.user()){this.router.navigate(["/login"]);return}this.cartService.addItemToCart({bookId:this.bookId}).subscribe({next:n=>{console.log(n),this.cartService.notifyCartChanged(),this.toastService.showSuccess("\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629","\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629")},error:n=>{console.error("Add to cart error:",n);let e=n?.error?.message||n?.message,r="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629";switch(n?.status){case 400:r=e||"\u0637\u0644\u0628 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D";break;case 401:r="\u064A\u0644\u0632\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0644\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0627\u0635\u0631 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629";break;case 404:r="\u0627\u0644\u0643\u062A\u0627\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F";break;case 409:r=e||"\u0627\u0644\u0639\u0646\u0635\u0631 \u0645\u0648\u062C\u0648\u062F \u0628\u0627\u0644\u0641\u0639\u0644 \u0641\u064A \u0627\u0644\u0633\u0644\u0629";break;case 422:r="\u0628\u064A\u0627\u0646\u0627\u062A \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629";break;default:r=e||r}this.toastService.showError("\u0641\u0634\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",r)}})}loadReviews(n){this.modalService.getAllReviews({BookId:n,SearchTerm:"",PageNumber:1,PageSize:10}).subscribe({next:e=>{this.reviews=e||[],this.allAddedReviews=[...e||[]],this.calculateAverageRating(),console.log("Loaded reviews:",this.reviews)},error:e=>{console.error("Error fetching reviews:",e),this.reviews=[],this.allAddedReviews=[],this.totalReviews=0,this.averageRating=0}})}onReviewAdded(n){console.log("New review received:",n),n&&n.id?(this.reviews.unshift(n),this.allAddedReviews.unshift(n),this.calculateAverageRating(),console.log("Updated reviews:",this.reviews)):(console.error("Invalid review structure:",n),this.loadReviews(this.bookId))}calculateAverageRating(){if(this.reviews.length===0){this.totalReviews=0,this.averageRating=0;return}this.totalReviews=this.reviews.length;let n=this.reviews.reduce((e,r)=>e+(r.rating||0),0);this.averageRating=Math.round(n/this.totalReviews*10)/10}static \u0275fac=function(e){return new(e||t)(C(nn),C(Ve),C(se),C(nt),C(xi),C(rn),C(Nt),C(wi),C(Ts),C(at),C(Wt))};static \u0275cmp=k({type:t,selectors:[["app-book-details"]],decls:192,vars:122,consts:[["addReviewBtn",""],[1,"book-details-container"],[1,"navigation"],[1,"nav-btn",3,"click"],[1,"fa-solid","fa-arrow-",3,"ngClass"],[1,"bc"],[3,"Navcrumbs"],[1,"book"],[1,"book-info"],[1,"right-section"],["alt","",3,"src"],[1,"button-container"],[1,"btn","btn-buy",3,"click"],[1,"text"],[1,"icon"],[1,"add-review",3,"reviewAdded","title","bookId"],[1,"book-price"],[1,"before"],[1,"old-price"],[1,"after"],[1,"new-price"],[1,"discount"],[1,"badge"],[1,"notification-card"],[1,"notification-item"],[1,"iconWithText"],[1,"fas","fa-shuttle-van","truck-icon"],[1,"highlight"],[1,"fas","fa-shield-heart","shield-icon"],[1,"highlight","small-italic"],[1,"middle-section"],[1,"book-title"],[1,"book-rating"],[1,"stars"],[1,"fa-star",3,"ngClass"],["type","button",1,"heart-btn",3,"click"],[1,"fa-heart","heart-icon",3,"ngClass"],["class","book-snip",4,"ngIf"],[1,"author-snip"],[1,"section-title"],[1,"gg"],[1,"author-description"],[1,"text-dark","cc",3,"routerLink"],[1,"imageWithName"],["alt","",1,"author-image",3,"src"],[1,"author-name"],[1,"whoIsAuthor"],[1,"anotherBooksForAuthor"],[1,"AuthorBooks"],[1,"text-decoration-none",3,"routerLink"],[1,"left-section"],[1,"mb-4"],[1,"book-container"],[1,"book-table"],[1,"fa-solid","fa-link"],["href","#",1,"social-icon"],[1,"fab","fa-facebook"],[1,"fab","fa-twitter"],[1,"fab","fa-whatsapp"],[1,"fab","fa-telegram"],[1,"shadow-sm","maincat"],[1,"p-0","cat"],[1,"mb-3","text-muted","text-center"],[1,"list-group","list-group-flush","w-75"],[1,"category-itesm",3,"routerLink"],["routerLink","/AllCategories"],[1,"btn","btn-danger","btn-sm"],[1,"allbooks","py-5"],[1,"centraya","text-center"],[1,"simi"],[3,"catBasedOn"],[3,"book"],[1,"book-snip"],[1,"book-description"],[1,"bookaya"],[1,"fa","fa-book-open"],[1,"booksauthor","text-decoration-none","text-dark","fw-bold",3,"routerLink"],[1,"list-group-item","category-item"],[1,"badge","bg-light","text-danger"]],template:function(e,r){if(e&1){let i=Q();c(0,"div",1)(1,"div",2)(2,"a",3),E("click",function(){return O(i),A(r.reduce())}),v(3,"i",4),u(),c(4,"a",3),E("click",function(){return O(i),A(r.increase())}),v(5,"i",4),u()(),c(6,"div",5),v(7,"app-nav-crumb",6),u(),c(8,"div",7)(9,"div",8)(10,"div",9),v(11,"img",10),c(12,"div",11)(13,"button",12),E("click",function(){return O(i),A(r.addToCart())}),c(14,"span",13),f(15),_(16,"translate"),u(),c(17,"span",14),f(18,"\u{1F6D2}"),u()(),c(19,"app-modal",15,0),_(21,"translate"),E("reviewAdded",function(s){return O(i),A(r.onReviewAdded(s))}),u()(),c(22,"div",16)(23,"div",17)(24,"span"),f(25),_(26,"translate"),u(),c(27,"span",18),f(28),u()(),c(29,"div",19)(30,"span"),f(31),_(32,"translate"),u(),c(33,"span",20),f(34),u()(),c(35,"div",21)(36,"span"),f(37),_(38,"translate"),_(39,"number"),u(),c(40,"span",22),f(41),_(42,"translate"),u()()(),c(43,"div",23)(44,"div",24)(45,"span",25),v(46,"i",26),c(47,"span"),f(48),_(49,"translate"),u()(),c(50,"span",27),f(51),_(52,"translate"),u()(),c(53,"div",24)(54,"span",25),v(55,"i",28),c(56,"span"),f(57),_(58,"translate"),u()(),c(59,"span",29),f(60),_(61,"translate"),u()()()(),c(62,"div",30)(63,"div",31)(64,"h3"),f(65),u()(),c(66,"div",32)(67,"span",33),X(68,_4,1,4,"i",34,Qe),u(),c(70,"button",35),E("click",function(){return O(i),A(r.toggleHeart())}),v(71,"i",36),u()(),Z(72,x4,7,4,"div",37),c(73,"div",38)(74,"h3",39),f(75),_(76,"translate"),u(),v(77,"div",40),c(78,"div",41)(79,"a",42)(80,"div",43),v(81,"img",44),c(82,"h5",45),f(83),u()()(),c(84,"p",46),f(85),u(),c(86,"div",47)(87,"h3",39),f(88),_(89,"translate"),u(),c(90,"div",48),X(91,w4,5,5,"a",49,Qe),u()()()()(),c(93,"div",50)(94,"div",51)(95,"div",52)(96,"table",53)(97,"tbody")(98,"tr")(99,"th"),f(100),_(101,"translate"),u(),c(102,"td"),f(103),u()(),c(104,"tr")(105,"th"),f(106),_(107,"translate"),u(),c(108,"td"),f(109),u()(),c(110,"tr")(111,"th"),f(112),_(113,"translate"),u(),c(114,"td"),f(115),_(116,"date"),u()(),c(117,"tr")(118,"th"),f(119),_(120,"translate"),u(),c(121,"td"),f(122),u()(),c(123,"tr")(124,"th"),f(125),_(126,"translate"),u(),c(127,"td"),f(128),u()(),c(129,"tr")(130,"th"),f(131),_(132,"translate"),u(),c(133,"td"),f(134),u()(),c(135,"tr")(136,"th"),f(137),_(138,"translate"),u(),c(139,"td"),f(140),u()(),c(141,"tr")(142,"th"),f(143,"ISBN"),u(),c(144,"td"),f(145),u()(),c(146,"tr")(147,"th"),f(148),_(149,"translate"),u(),c(150,"td"),f(151),u()(),c(152,"tr")(153,"th"),f(154),_(155,"translate"),u(),c(156,"td")(157,"a",49),f(158),v(159,"i",54),u()()(),c(160,"tr")(161,"th"),f(162),_(163,"translate"),u(),c(164,"td")(165,"a",55),v(166,"i",56),u(),c(167,"a",55),v(168,"i",57),u(),c(169,"a",55),v(170,"i",58),u(),c(171,"a",55),v(172,"i",59),u()()()()()()(),c(173,"div",60)(174,"div",61)(175,"h5",62),f(176),_(177,"translate"),u(),c(178,"ul",63),X(179,M4,5,3,"a",64,C4),u(),c(181,"a",65)(182,"button",66),f(183),_(184,"translate"),u()()()()()()(),c(185,"div",67)(186,"div",68)(187,"h4",69),f(188),_(189,"translate"),u()(),v(190,"app-similar-books",70),u(),v(191,"app-reviews-and-comments",71),u()}e&2&&(d(3),m("ngClass",Dn(113,m4,r.isRTL,!r.isRTL)),d(2),m("ngClass",Dn(116,v4,r.isRTL,!r.isRTL)),d(2),m("Navcrumbs",r.breadcrumbs),d(4),m("src",r.getCoverImageUrl(),Ce),d(4),y(I(16,57,"bookDetails.buyPaperCopy")),d(4),m("title",qe(I(21,59,"reviewWithComments.review")))("bookId",r.bookId),d(6),D("",I(26,61,"bookDetails.before")," "),d(3),D("",r.book==null?null:r.book.price," \u062C.\u0645"),d(3),D("",I(32,63,"bookDetails.after")," "),d(3),D(" ",r.newPrice," \u062C.\u0645"),d(3),Ot("",I(38,65,"bookDetails.youWillSave")," ",We(39,67,r.discount,"1.1-1")," \u062C.\u0645"),d(4),Ot("",I(42,70,"bookDetails.discount")," ",r.book==null?null:r.book.discountPercentage,"%"),d(7),D(" ",I(49,72,"bookDetails.freeShipping")," "),d(3),y(I(52,74,"bookDetails.minimumOrder")),d(6),D(" ",I(58,76,"bookDetails.secureShopping")," "),d(3),y(I(61,78,"bookDetails.dataProtected")),d(5),y(r.book==null?null:r.book.title),d(3),ee(r.stars),d(3),m("ngClass",Dn(119,b4,r.isLiked,!r.isLiked)),d(),m("ngIf",r.book==null?null:r.book.description),d(3),y(I(76,80,"bookDetails.aboutAuthor")),d(4),m("routerLink",$t("/authors/",r.author.id)),d(2),m("src",r.getAuthorCoverImageUrl(),Ce),d(2),y(r.author.name),d(2),y(r.author.bio),d(3),y(I(89,82,"bookDetails.otherWorks")),d(3),ee(r.authorBooks),d(9),y(I(101,84,"bookDetails.authors")),d(3),y(r.book==null?null:r.book.authorName),d(3),y(I(107,86,"bookDetails.pages")),d(3),y(r.book==null?null:r.book.pageCount),d(3),y(I(113,88,"bookDetails.publishYear")),d(3),y(We(116,90,r.book==null?null:r.book.publishedDate,"dd/MM/yyyy")),d(4),y(I(120,93,"bookDetails.format")),d(3),y(r.book==null?null:r.book.format),d(3),y(I(126,95,"bookDetails.coverType")),d(3),y(r.book==null?null:r.book.format),d(3),y(I(132,97,"bookDetails.publisher")),d(3),y(r.book==null?null:r.book.publisherId),d(3),y(I(138,99,"bookDetails.categories")),d(3),y(r.book==null?null:r.book.categoryIds),d(5),y(r.book==null?null:r.book.isbn),d(3),y(I(149,101,"bookDetails.readCount")),d(3),y(r.book==null?null:r.book.stockQuantity),d(3),y(I(155,103,"bookDetails.shortLink")),d(3),m("routerLink",$t("/book-details/",r.book==null?null:r.book.id)),d(),D("",r.book==null?null:r.book.title," "),d(4),y(I(163,105,"bookDetails.share")),d(14),y(I(177,107,"bookDetails.categories")),d(3),ee(r.categories),d(4),y(I(184,109,"bookDetails.moreCategories")),d(5),y(I(189,111,"bookDetails.similarBooks")),d(2),m("catBasedOn",r.catId),d(),m("book",r.book))},dependencies:[Y,Gt,Ne,de,of,Be,lt,As,Os,Vr,jr,Ze],styles:['.book-details-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding-top:1px}.navigation[_ngcontent-%COMP%]{position:fixed;width:100%;display:flex;justify-content:space-between;z-index:90}.nav-btn[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#626c7e;border:none;width:55px;height:50px;font-size:1.5rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;text-decoration:none}.book[_ngcontent-%COMP%]{width:100%;height:max-content;margin-top:100px;background-color:#fff;box-shadow:0 2px 20px #1d08081a}.book-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;padding:20px}.right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:15%}.right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:270px;object-fit:cover;border-radius:8px}.middle-section[_ngcontent-%COMP%]{flex:1;border-radius:8px;padding:20px}.left-section[_ngcontent-%COMP%]{width:25%;padding:20px}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:100%;direction:rtl;margin-top:20px}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 15px;border:none;border-radius:8px;font-size:15px;font-weight:700;color:#fff;cursor:pointer;transition:background-color .3s ease;direction:rtl}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:20px}.btn-buy[_ngcontent-%COMP%]{background-color:#00c3aa}.btn-buy[_ngcontent-%COMP%]:hover{background-color:#00b09b}.btn-alert[_ngcontent-%COMP%]{background-color:#f16e6e}.btn-alert[_ngcontent-%COMP%]:hover{background-color:#e05d5d}.btn-review[_ngcontent-%COMP%]{background-color:#757d8a}.btn-review[_ngcontent-%COMP%]:hover{background-color:#5f6773}.notification-card[_ngcontent-%COMP%]{background:#fefce8;border:1px solid #eee;border-radius:12px;padding:16px;max-width:320px;width:100%}.notification-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-bottom:14px;color:#333}.notification-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.iconWithText[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#111;font-size:15px}.truck-icon[_ngcontent-%COMP%]{color:#007bff;font-size:18px}.shield-icon[_ngcontent-%COMP%]{color:#28a745;font-size:18px}.highlight[_ngcontent-%COMP%]{font-size:13px;color:#666;font-style:italic;margin-left:26px}.small-italic[_ngcontent-%COMP%]{font-size:12px;font-style:italic;color:#888;margin-left:26px}.book-price[_ngcontent-%COMP%]{border-radius:10px;padding:30px 0;width:fit-content;direction:rtl;display:flex;justify-content:space-between;align-items:start;flex-direction:column;gap:10px;font-size:16px;font-weight:700;color:#4e4e4e}.book-price[_ngcontent-%COMP%]   .before[_ngcontent-%COMP%]   .old-price[_ngcontent-%COMP%]{color:#f1495b;text-decoration:line-through;font-weight:700}.book-price[_ngcontent-%COMP%]   .new-price[_ngcontent-%COMP%]{color:#00c3aa;font-weight:700}.book-price[_ngcontent-%COMP%]   .save-amount[_ngcontent-%COMP%]{color:#e53935;font-weight:700}.before[_ngcontent-%COMP%], .after[_ngcontent-%COMP%], .discount[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:10px}.discount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#455871}.discount[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:#52c45c;color:#fff;padding:5px 10px;border-radius:6px;font-size:11px}.book-rating[_ngcontent-%COMP%]{display:flex;align-items:center}.book-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:inline-flex;gap:2px}.book-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.book-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px}.heart-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;padding:8px;margin-left:10px;cursor:pointer;transition:transform .2s;outline:none;z-index:10;position:relative}.heart-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.heart-btn[_ngcontent-%COMP%]:focus{outline:none}.heart-btn[_ngcontent-%COMP%]   .heart-icon[_ngcontent-%COMP%]{font-size:18px;color:#f1495b;transition:color .2s;pointer-events:none}.heart-btn[_ngcontent-%COMP%]   .heart-icon.fas[_ngcontent-%COMP%], .heart-btn[_ngcontent-%COMP%]   .heart-icon.far[_ngcontent-%COMP%]{color:#f1495b}.recommendAndFollowButtons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:15px}.book-snip[_ngcontent-%COMP%]{border-radius:8px;line-height:1.8;color:#333}.section-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;position:relative;color:#4d481f;padding-top:20px;margin-bottom:5px}.gg[_ngcontent-%COMP%]{width:125px;height:4px;background-color:#f4777c;border-radius:2px;margin-bottom:15px}.book-description[_ngcontent-%COMP%]{font-size:15px;color:#444;text-align:justify}.author-description[_ngcontent-%COMP%]{background-color:#f8fafcce;width:100%;height:max-content;padding-right:10px;padding-top:10px;padding-left:10px}.imageWithName[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px}.author-image[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover;border-radius:50%}.author-name[_ngcontent-%COMP%]{font-weight:700;position:relative;bottom:-5px}.cc[_ngcontent-%COMP%]:hover{text-decoration:none}.whoIsAuthor[_ngcontent-%COMP%]{padding:10px}.AuthorBooks[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px;padding:20px}.bookaya[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 8px #0000001a;padding:15px;text-align:center;transition:transform .2s ease,box-shadow .2s ease;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px}.bookaya[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #0003}.book-container[_ngcontent-%COMP%]{max-width:300px;background:#fff;padding:10px}.book-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.book-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .book-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:8px 0;font-size:14px;color:#000;text-align:right}.book-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:40%;font-weight:700;color:#555;padding-right:10px}.book-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:60%;color:#000}.book-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.book-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.social-icon[_ngcontent-%COMP%]{margin-left:8px;color:#007bff;font-size:18px;text-decoration:none;transition:color .3s ease}a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.category-item[_ngcontent-%COMP%]{color:#dc3545;font-weight:600;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease;cursor:pointer;padding:.5rem .75rem}.category-item[_ngcontent-%COMP%]:hover{background-color:#fff5f5;transform:translate(-3px);box-shadow:0 2px 6px #dc354533}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:5px 8px}.maincat[_ngcontent-%COMP%]{padding-block:10px}.cat[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.list-group[_ngcontent-%COMP%]{margin-bottom:20px;padding:0}.category-itesm[_ngcontent-%COMP%]:hover{text-decoration:none}.bc[_ngcontent-%COMP%]{transform:translateY(100px)}.simi[_ngcontent-%COMP%]{position:relative;display:inline-block;font-size:1.8rem;font-weight:700;color:#333;margin:30px auto;padding-bottom:10px;text-align:center}.simi[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;bottom:0;transform:translate(-50%);width:60px;height:3px;background:linear-gradient(90deg,#ff6f61,#ffcc70);border-radius:5px}']})};function E4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.emailError())}}function I4(t,n){t&1&&v(0,"i",13)}function D4(t,n){t&1&&v(0,"i",14)}function S4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.passwordError())}}function P4(t,n){t&1&&(v(0,"span",37),f(1," \u062C\u0627\u0631\u064A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644... "))}function O4(t,n){t&1&&f(0," \u062F\u062E\u0648\u0644 ")}function A4(t,n){if(t&1&&(c(0,"div",22),f(1),u()),t&2){let e=w();d(),D(" ",e.auth.loginError()," ")}}var Ax='.login-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;direction:rtl}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px}.logo-text[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:14px;text-align:center;line-height:1.2}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:1px;box-shadow:0 20px 40px #0000001a;padding:12px;width:100%;max-width:390px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.login-form[_ngcontent-%COMP%]{margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;font-size:14px;font-family:Almarai,Arial,sans-serif;transition:all .3s ease;background:#fafbfc;margin-left:10px;height:35px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;background:#fff}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 3px #dc35451a}.password-input-container[_ngcontent-%COMP%]{position:relative}.password-toggle[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);background:none;border:none;color:#6c757d;cursor:pointer;padding:4px;border-radius:4px;transition:color .3s ease}.password-toggle[_ngcontent-%COMP%]:hover{color:#495057}.invalid-feedback[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#dc3545;font-size:12px}.form-check[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;gap:8px}.form-check-input[_ngcontent-%COMP%]{margin:0;cursor:pointer;border-color:red;background-color:transparent}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#c86565;border-color:red}.form-check-input[_ngcontent-%COMP%]:focus{border-color:red;box-shadow:0 0 0 .25rem #ff000040}.form-check-label[_ngcontent-%COMP%]{color:#666;font-size:14px;cursor:pointer;-webkit-user-select:none;user-select:none}.btn-login[_ngcontent-%COMP%]{width:6rem;padding:5px;background:#2b2d2f;border:none;color:#fff;font-weight:600;font-size:13px;font-family:Almarai,Arial,sans-serif;cursor:pointer;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 25px #667eea4d}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#131313;font-size:14px;font-family:Almarai,Arial,sans-serif;cursor:pointer;text-decoration:underline;transition:color .3s ease}.link-button[_ngcontent-%COMP%]:hover{color:#764ba2}.divider[_ngcontent-%COMP%]{text-align:center;margin:30px 0;position:relative;color:#999;font-size:14px}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e1e5e9;z-index:1}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 20px;position:relative;z-index:2}.social-login[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;margin-bottom:30px}.social-btn[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid #e1e5e9;border-radius:12px;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:18px}.social-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000001a}.google-btn[_ngcontent-%COMP%]:hover{border-color:#4285f4;color:#4285f4}.instagram-btn[_ngcontent-%COMP%]:hover{border-color:#e4405f;color:#e4405f}.twitter-btn[_ngcontent-%COMP%]:hover{border-color:#1da1f2;color:#1da1f2}.facebook-btn[_ngcontent-%COMP%]:hover{border-color:#1877f2;color:#1877f2}.apple-btn[_ngcontent-%COMP%]:hover{border-color:#000;color:#000}.signup-link[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#666;line-height:1.6}.signup-link[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{display:block;margin-top:5px;font-weight:500}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;padding:12px 16px;font-size:14px;margin-bottom:0}.alert-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:15px}.login-card[_ngcontent-%COMP%]{padding:30px 25px}.logo[_ngcontent-%COMP%]{width:70px;height:70px}.logo-text[_ngcontent-%COMP%]{font-size:12px}.social-login[_ngcontent-%COMP%]{gap:10px}.social-btn[_ngcontent-%COMP%]{width:45px;height:45px;font-size:16px}}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:25px 20px}.social-login[_ngcontent-%COMP%]{gap:8px}.social-btn[_ngcontent-%COMP%]{width:40px;height:40px;font-size:14px}}[dir=rtl][_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{text-align:right}[dir=rtl][_ngcontent-%COMP%]   .form-control[dir=ltr][_ngcontent-%COMP%]{text-align:left}[dir=rtl][_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{left:auto;right:12px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;vertical-align:-.125em;border:.125em solid currentColor;border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin .75s linear infinite}.register_nav[_ngcontent-%COMP%]{border:2px solid #e1e5e9;border-radius:8px;background:none;color:#454141;font-size:16px;font-family:Almarai,Arial,sans-serif;cursor:pointer;transition:color .3s ease;display:block;margin-top:5px;margin-bottom:5px;font-weight:500;width:100%;padding:5px}',af=class t{auth=M(at);router=M(se);fb=M(Ci);showPassword=he(!1);isSubmitting=he(!1);validationErrors=he({});loginForm=this.fb.group({email:["",[Re.required,Re.email]],password:["",[Re.required,Re.minLength(6)]],remember:[!1]});isFormValid=Me(()=>this.loginForm.valid);emailError=Me(()=>{let n=this.loginForm.get("email");if(n?.errors&&n.touched){if(n.errors.required)return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u0637\u0644\u0648\u0628";if(n.errors.email)return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D"}return""});passwordError=Me(()=>{let n=this.loginForm.get("password");if(n?.errors&&n.touched){if(n.errors.required)return"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629";if(n.errors.minlength)return"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 6 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644"}return""});togglePasswordVisibility(){this.showPassword.update(n=>!n)}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.isSubmitting.set(!0);let n=this.loginForm.value;this.auth.login(n).subscribe({next:()=>{this.isSubmitting.set(!1),console.log("Login success, navigating to home"),this.router.navigate(["/"],{replaceUrl:!0}).catch(()=>{this.router.navigateByUrl("/",{replaceUrl:!0})})},error:e=>{this.isSubmitting.set(!1),console.error("Login failed:",e)}})}onSocialLogin(n){console.log(`Social login with ${n}`)}onForgotPassword(){this.router.navigate(["/forgot-password"])}onRegister(){this.router.navigate(["/register"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-login"]],decls:53,vars:12,consts:[[1,"login-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"login-card"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email",1,"form-control"],[1,"invalid-feedback"],["for","password",1,"form-label"],[1,"password-input-container"],["id","password","formControlName","password",1,"form-control",3,"type"],["type","button",1,"password-toggle",3,"click"],[1,"bi","bi-eye-slash"],[1,"bi","bi-eye"],[1,"form-check"],["id","remember","type","checkbox","formControlName","remember",1,"form-check-input"],["for","remember",1,"form-check-label"],[1,"d-flex","justify-content-end"],[1,"forgot-password"],["type","button",1,"link-button",3,"click"],["type","submit",1,"btn","btn-primary","btn-login","m-1"],["role","alert",1,"alert","alert-danger","mt-3"],[1,"divider"],[1,"social-login"],["type","button","aria-label","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u062C\u0648\u062C\u0644",1,"social-btn","google-btn",3,"click"],[1,"bi","bi-google"],["type","button","aria-label","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0625\u0646\u0633\u062A\u063A\u0631\u0627\u0645",1,"social-btn","instagram-btn",3,"click"],[1,"bi","bi-instagram"],["type","button","aria-label","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u062A\u0648\u064A\u062A\u0631",1,"social-btn","twitter-btn",3,"click"],[1,"bi","bi-twitter-x"],["type","button","aria-label","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0641\u064A\u0633\u0628\u0648\u0643",1,"social-btn","facebook-btn",3,"click"],[1,"bi","bi-facebook"],["type","button","aria-label","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0623\u0628\u0644",1,"social-btn","apple-btn",3,"click"],[1,"bi","bi-apple"],[1,"signup-link"],["type","button",1,"register_nav",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,r){e&1&&(v(0,"head"),c(1,"div",0)(2,"div",1)(3,"div"),v(4,"img",2),u()(),c(5,"div",3)(6,"form",4),E("ngSubmit",function(){return r.onSubmit()}),c(7,"div",5)(8,"label",6),f(9,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),u(),v(10,"input",7),z(11,E4,2,1,"div",8),u(),c(12,"div",5)(13,"label",9),f(14,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),u(),c(15,"div",10),v(16,"input",11),c(17,"button",12),E("click",function(){return r.togglePasswordVisibility()}),z(18,I4,1,0,"i",13)(19,D4,1,0,"i",14),u()(),z(20,S4,2,1,"div",8),u(),c(21,"div",15),v(22,"input",16),c(23,"label",17),f(24,"\u062A\u0630\u0643\u0631\u0646\u064A"),u()(),c(25,"div",18)(26,"div",19)(27,"button",20),E("click",function(){return r.onForgotPassword()}),f(28," \u0647\u0644 \u0641\u0642\u062F\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061F "),u()(),c(29,"button",21),z(30,P4,2,0)(31,O4,1,0),u()(),z(32,A4,2,1,"div",22),u(),c(33,"div",23)(34,"span"),f(35,"\u0623\u0648 \u0633\u062C\u0644 \u062F\u062E\u0648\u0644\u0643 \u0628\u0625\u0633\u062A\u062E\u062F\u0627\u0645"),u()(),c(36,"div",24)(37,"button",25),E("click",function(){return r.onSocialLogin("google")}),v(38,"i",26),u(),c(39,"button",27),E("click",function(){return r.onSocialLogin("instagram")}),v(40,"i",28),u(),c(41,"button",29),E("click",function(){return r.onSocialLogin("twitter")}),v(42,"i",30),u(),c(43,"button",31),E("click",function(){return r.onSocialLogin("facebook")}),v(44,"i",32),u(),c(45,"button",33),E("click",function(){return r.onSocialLogin("apple")}),v(46,"i",34),u()(),c(47,"div",35)(48,"div",23)(49,"span"),f(50,"\u0644\u064A\u0633 \u0644\u062F\u0649 \u062D\u0633\u0627\u0628 \u0639\u0644\u0649 \u0639\u0635\u064A\u0631 \u0627\u0644\u0643\u062A\u0628"),u()(),c(51,"button",36),E("click",function(){return r.onRegister()}),f(52," \u062A\u0633\u062C\u064A\u0644 \u0639\u0636\u0648\u064A\u0629 \u062C\u062F\u064A\u062F\u0629 "),u()()()()),e&2&&(d(6),m("formGroup",r.loginForm),d(4),W("is-invalid",r.emailError()),d(),G(r.emailError()?11:-1),d(5),W("is-invalid",r.passwordError()),m("type",r.showPassword()?"text":"password"),d(),fn("aria-label",r.showPassword()?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),d(),G(r.showPassword()?18:19),d(2),G(r.passwordError()?20:-1),d(10),G(r.isSubmitting()||r.auth.loading()?30:31),d(2),G(r.auth.loginError()?32:-1))},dependencies:[Y,_i,vr,Ke,C0,st,mr,Gr,qr],styles:[Ax,Ax]})};var xl=class t{static patterns={email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,arabicText:/^[\u0600-\u06FF\s]+$/,arabicName:/^[\u0600-\u06FF\s]{2,30}$/,phone:/^(\+966|0)?[5][0-9]{8}$/,strongPassword:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,mediumPassword:/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{6,}$/};static messages={required:n=>`${n} \u0645\u0637\u0644\u0648\u0628`,email:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D",emailExists:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u064F\u0633\u062A\u062E\u062F\u0645 \u0628\u0627\u0644\u0641\u0639\u0644",minLength:n=>`\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ${n} \u0623\u062D\u0631\u0641`,maxLength:n=>`\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 ${n} \u062D\u0631\u0641`,pattern:"\u0627\u0644\u062A\u0646\u0633\u064A\u0642 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D",passwordMismatch:"\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u062A\u0637\u0627\u0628\u0642\u0629",weakPassword:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0636\u0639\u064A\u0641\u0629\u060C \u064A\u062C\u0628 \u0623\u0646 \u062A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0623\u062D\u0631\u0641 \u0643\u0628\u064A\u0631\u0629 \u0648\u0635\u063A\u064A\u0631\u0629 \u0648\u0623\u0631\u0642\u0627\u0645 \u0648\u0631\u0645\u0648\u0632",arabicOnly:"\u064A\u062C\u0628 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0623\u062D\u0631\u0641 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637",phoneInvalid:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D (\u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 05xxxxxxxx)",agreeToTerms:"\u064A\u062C\u0628 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062D\u0643\u0627\u0645",invalidAge:"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0639\u0645\u0631 13 \u0633\u0646\u0629 \u0623\u0648 \u0623\u0643\u062B\u0631"};static validateArabicName(n,e){return n?.trim()?n.trim().length<2?this.messages.minLength(2):n.trim().length>30?this.messages.maxLength(30):this.patterns.arabicName.test(n.trim())?null:this.messages.arabicOnly:this.messages.required(e)}static validateEmail(n){return n?.trim()?this.patterns.email.test(n.trim())?null:this.messages.email:this.messages.required("\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A")}static validatePhone(n){return n?.trim()?this.patterns.phone.test(n.trim())?null:this.messages.phoneInvalid:null}static validatePassword(n){return n?n.length<6?{error:this.messages.minLength(6),strength:"weak"}:this.patterns.strongPassword.test(n)?{error:null,strength:"strong"}:this.patterns.mediumPassword.test(n)?{error:null,strength:"medium"}:{error:this.messages.weakPassword,strength:"weak"}:{error:this.messages.required("\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),strength:"weak"}}static validatePasswordConfirm(n,e){return e?n!==e?this.messages.passwordMismatch:null:this.messages.required("\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631")}static validateDateOfBirth(n){if(!n)return null;let e=new Date(n),r=new Date,i=r.getFullYear()-e.getFullYear(),o=r.getMonth()-e.getMonth();return o<0||o===0&&r.getDate()<e.getDate()?this.messages.invalidAge:i<13?this.messages.invalidAge:i>120?"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u063A\u064A\u0631 \u0635\u062D\u064A\u062D":null}static validateTermsAgreement(n){return n?null:this.messages.agreeToTerms}static \u0275fac=function(e){return new(e||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function T4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.firstNameError())}}function k4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.lastNameError())}}function N4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.userNameError())}}function R4(t,n){t&1&&(c(0,"div",16),v(1,"span",50),u())}function F4(t,n){t&1&&(c(0,"div",17),f(1,"\u2713"),u())}function L4(t,n){t&1&&(c(0,"div",18),f(1,"\u2717"),u())}function j4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.emailError())}}function V4(t,n){t&1&&v(0,"span",23)}function B4(t,n){t&1&&v(0,"span",24)}function U4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.passwordError())}}function H4(t,n){t&1&&(c(0,"span",29),f(1,"\u0636\u0639\u064A\u0641\u0629"),u())}function $4(t,n){t&1&&(c(0,"span",30),f(1,"\u0645\u062A\u0648\u0633\u0637\u0629"),u())}function z4(t,n){t&1&&(c(0,"span",31),f(1,"\u0642\u0648\u064A\u0629"),u())}function G4(t,n){t&1&&v(0,"span",23)}function q4(t,n){t&1&&v(0,"span",24)}function W4(t,n){if(t&1&&(c(0,"div",8),f(1),u()),t&2){let e=w();d(),y(e.confirmPasswordError())}}function Y4(t,n){t&1&&(v(0,"span",51),f(1," \u062C\u0627\u0631\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628... "))}function Q4(t,n){t&1&&f(0," \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628 ")}function Z4(t,n){if(t&1&&(c(0,"div",35),f(1),u()),t&2){let e=w();d(),D(" ",e.auth.loginError()," ")}}var lf=class t{auth=M(at);router=M(se);fb=M(Ci);showPassword=he(!1);showConfirmPassword=he(!1);isSubmitting=he(!1);emailChecking=he(!1);emailAvailable=he(null);passwordStrength=he("weak");arabicNameValidator=n=>null;passwordValidator=n=>xl.validatePassword(n.value).error?{weakPassword:!0}:null;passwordMatchValidator=n=>{let e=n.get("password")?.value,r=n.get("confirmPassword")?.value;return!e||!r?null:e!==r?{passwordMismatch:!0}:null};emailAvailabilityValidator=n=>!n.value||n.errors?.email?q(null):(this.emailChecking.set(!0),q(n.value).pipe(Xr(500),ti(),$e(e=>this.auth.checkEmailAvailability(e).pipe($e(r=>(this.emailAvailable.set(r.available),this.emailChecking.set(!1),q(r.available?null:{emailTaken:!0})))))));registerForm=this.fb.group({firstName:["",[Re.required,Re.minLength(2)]],lastName:["",[Re.required,Re.minLength(2)]],userName:["",[Re.required,Re.minLength(3)]],email:["",[Re.required,Re.email],[this.emailAvailabilityValidator.bind(this)]],password:["",[Re.required,this.passwordValidator]],confirmPassword:["",[Re.required]]},{validators:[this.passwordMatchValidator]});isFormValid=Me(()=>{let n=this.registerForm.valid,e=this.emailAvailable()!==!1;return console.log("Form validation debug:",{formValid:n,emailAvail:e,formErrors:this.registerForm.errors,firstNameValid:this.registerForm.get("firstName")?.valid,lastNameValid:this.registerForm.get("lastName")?.valid,userNameValid:this.registerForm.get("userName")?.valid,emailValid:this.registerForm.get("email")?.valid,passwordValid:this.registerForm.get("password")?.valid,confirmPasswordValid:this.registerForm.get("confirmPassword")?.valid}),n&&e});canSubmit=Me(()=>this.isFormValid()&&!this.isSubmitting());firstNameError=Me(()=>this.getFieldError("firstName","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"));lastNameError=Me(()=>this.getFieldError("lastName","\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"));userNameError=Me(()=>{let n=this.registerForm.get("userName");if(n?.errors&&n.touched){if(n.errors.required)return"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628";if(n.errors.minlength)return"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 3 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644"}return""});emailError=Me(()=>{let n=this.registerForm.get("email");if(n?.errors&&n.touched){if(n.errors.required)return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u0637\u0644\u0648\u0628";if(n.errors.email)return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D";if(n.errors.emailTaken)return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u064F\u0633\u062A\u062E\u062F\u0645 \u0628\u0627\u0644\u0641\u0639\u0644"}return""});passwordError=Me(()=>{let n=this.registerForm.get("password");if(n?.errors&&n.touched){if(n.errors.required)return"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629";if(n.errors.weakPassword)return"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0636\u0639\u064A\u0641\u0629\u060C \u064A\u0631\u062C\u0649 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0623\u062D\u0631\u0641 \u0643\u0628\u064A\u0631\u0629 \u0648\u0635\u063A\u064A\u0631\u0629 \u0648\u0623\u0631\u0642\u0627\u0645"}return""});confirmPasswordError=Me(()=>{let n=this.registerForm.get("confirmPassword"),e=this.registerForm.errors;if(n?.touched){if(n.errors?.required)return"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628";if(e?.passwordMismatch)return"\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u062A\u0637\u0627\u0628\u0642\u0629"}return""});ngOnInit(){this.registerForm.get("password")?.valueChanges.subscribe(n=>{if(n){let e=xl.validatePassword(n);this.passwordStrength.set(e.strength)}else this.passwordStrength.set("weak")}),this.registerForm.get("email")?.valueChanges.subscribe(n=>{n&&!this.registerForm.get("userName")?.value&&this.registerForm.patchValue({userName:n})})}getFieldError(n,e){let r=this.registerForm.get(n);if(r?.errors&&r.touched){if(r.errors.required)return`${e} \u0645\u0637\u0644\u0648\u0628`;if(r.errors.arabicName)return`\u064A\u062C\u0628 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0623\u062D\u0631\u0641 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u064A ${e}`}return""}togglePasswordVisibility(n){n==="password"?this.showPassword.update(e=>!e):this.showConfirmPassword.update(e=>!e)}onInputFocus(n,e){let r=n.target;r.value===""&&(e==="firstName"||e==="lastName")?(r.style.direction="rtl",r.style.textAlign="right"):(e==="email"||e==="password"||e==="confirmPassword"||e==="userName")&&(r.style.direction="ltr",r.style.textAlign="left")}onInputChange(n,e){let r=n.target;e==="firstName"||e==="lastName"?(r.style.direction="rtl",r.style.textAlign="right"):(e==="email"||e==="password"||e==="confirmPassword"||e==="userName")&&(r.value!==""?(r.style.direction="ltr",r.style.textAlign="left"):(r.style.direction="rtl",r.style.textAlign="right"))}onSubmit(){if(!this.canSubmit()){this.registerForm.markAllAsTouched();return}this.isSubmitting.set(!0);let n=this.registerForm.value,e={firstName:n.firstName.trim(),lastName:n.lastName.trim(),userName:n.userName.trim(),email:n.email.trim(),password:n.password,confirmPassword:n.confirmPassword};this.auth.register(e).subscribe({next:r=>{this.isSubmitting.set(!1),this.router.navigate(["/login"])},error:r=>{this.isSubmitting.set(!1),console.error("Registration failed:",r)}})}onSocialRegister(n){console.log(`Social registration with ${n}`)}onLogin(){this.router.navigate(["/login"])}registerSuccessEffect=Da(()=>{this.auth.user()&&this.isSubmitting()});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-register"]],decls:78,vars:33,consts:[[1,"register-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"register-card"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","firstName",1,"form-label"],["id","firstName","type","text","formControlName","firstName","placeholder","",1,"form-control",2,"direction","rtl","text-align","right",3,"focus","input"],[1,"invalid-feedback"],["for","lastName",1,"form-label"],["id","lastName","type","text","formControlName","lastName","placeholder","",1,"form-control",2,"direction","rtl","text-align","right",3,"focus","input"],["for","userName",1,"form-label"],["id","userName","type","text","formControlName","userName","placeholder","",1,"form-control",2,"direction","ltr","text-align","left",3,"focus","input"],["for","email",1,"form-label"],[1,"email-input-container"],["id","email","type","email","formControlName","email","placeholder","",1,"form-control",2,"direction","rtl","text-align","right",3,"focus","input"],[1,"email-status","checking"],[1,"email-status","available"],[1,"email-status","unavailable"],["for","password",1,"form-label"],[1,"password-input-container"],["id","password","formControlName","password","placeholder","",1,"form-control","password-input",2,"direction","rtl","text-align","right",3,"focus","input","type"],["type","button",1,"password-toggle",3,"click"],[1,"bi","bi-eye-slash"],[1,"bi","bi-eye"],[1,"password-strength-container"],[1,"password-strength-bar"],[1,"strength-indicator"],[1,"strength-text"],[1,"strength-weak"],[1,"strength-medium"],[1,"strength-strong"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword","placeholder","",1,"form-control","password-input",2,"direction","rtl","text-align","right",3,"focus","input","type"],["type","submit",1,"btn","btn-primary","btn-register"],["role","alert",1,"alert","alert-danger","mt-3"],[1,"login-link"],["type","button",1,"link-button",3,"click"],[1,"divider"],[1,"social-login"],["type","button","aria-label","\u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u062C\u0648\u062C\u0644","title","Google",1,"social-btn","google-btn",3,"click"],[1,"bi","bi-google"],["type","button","aria-label","\u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0625\u0646\u0633\u062A\u063A\u0631\u0627\u0645","title","Instagram",1,"social-btn","instagram-btn",3,"click"],[1,"bi","bi-instagram"],["type","button","aria-label","\u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u062A\u0648\u064A\u062A\u0631","title","Twitter/X",1,"social-btn","twitter-btn",3,"click"],[1,"bi","bi-twitter-x"],["type","button","aria-label","\u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0641\u064A\u0633\u0628\u0648\u0643","title","Facebook",1,"social-btn","facebook-btn",3,"click"],[1,"bi","bi-facebook"],["type","button","aria-label","\u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0623\u0628\u0644","title","Apple",1,"social-btn","apple-btn",3,"click"],[1,"bi","bi-apple"],[1,"spinner-sm"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1)(2,"div"),v(3,"img",2),u()(),c(4,"div",3)(5,"form",4),E("ngSubmit",function(){return r.onSubmit()}),c(6,"div",5)(7,"label",6),f(8,"\u0627\u0644\u0627\u0633\u0645"),u(),c(9,"input",7),E("focus",function(o){return r.onInputFocus(o,"firstName")})("input",function(o){return r.onInputChange(o,"firstName")}),u(),z(10,T4,2,1,"div",8),u(),c(11,"div",5)(12,"label",9),f(13,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"),u(),c(14,"input",10),E("focus",function(o){return r.onInputFocus(o,"lastName")})("input",function(o){return r.onInputChange(o,"lastName")}),u(),z(15,k4,2,1,"div",8),u(),c(16,"div",5)(17,"label",11),f(18,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),u(),c(19,"input",12),E("focus",function(o){return r.onInputFocus(o,"userName")})("input",function(o){return r.onInputChange(o,"userName")}),u(),z(20,N4,2,1,"div",8),u(),c(21,"div",5)(22,"label",13),f(23,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),u(),c(24,"div",14)(25,"input",15),E("focus",function(o){return r.onInputFocus(o,"email")})("input",function(o){return r.onInputChange(o,"email")}),u(),z(26,R4,2,0,"div",16)(27,F4,2,0,"div",17)(28,L4,2,0,"div",18),u(),z(29,j4,2,1,"div",8),u(),c(30,"div",5)(31,"label",19),f(32,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),u(),c(33,"div",20)(34,"input",21),E("focus",function(o){return r.onInputFocus(o,"password")})("input",function(o){return r.onInputChange(o,"password")}),u(),c(35,"button",22),E("click",function(){return r.togglePasswordVisibility("password")}),z(36,V4,1,0,"span",23)(37,B4,1,0,"span",24),u()(),z(38,U4,2,1,"div",8),c(39,"div",25)(40,"div",26),v(41,"div",27),u(),c(42,"div",28),z(43,H4,2,0,"span",29)(44,$4,2,0,"span",30)(45,z4,2,0,"span",31),u()()(),c(46,"div",5)(47,"label",32),f(48,"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),u(),c(49,"div",20)(50,"input",33),E("focus",function(o){return r.onInputFocus(o,"confirmPassword")})("input",function(o){return r.onInputChange(o,"confirmPassword")}),u(),c(51,"button",22),E("click",function(){return r.togglePasswordVisibility("confirmPassword")}),z(52,G4,1,0,"span",23)(53,q4,1,0,"span",24),u()(),z(54,W4,2,1,"div",8),u(),c(55,"button",34),z(56,Y4,2,0)(57,Q4,1,0),u(),z(58,Z4,2,1,"div",35),c(59,"div",36)(60,"span"),f(61,"\u0644\u062F\u064A\u0643 \u062D\u0633\u0627\u0628 \u0628\u0627\u0644\u0641\u0639\u0644\u061F"),u(),c(62,"button",37),E("click",function(){return r.onLogin()}),f(63," \u0633\u062C\u0644 \u062F\u062E\u0648\u0644\u0643 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u062D\u0633\u0627\u0628\u0643 \u0627\u0644\u062D\u0627\u0644\u064A "),u()()(),c(64,"div",38)(65,"span"),f(66,"\u0623\u0648 \u0633\u062C\u0644 \u062F\u062E\u0648\u0644\u0643 \u0628\u0625\u0633\u062A\u062E\u062F\u0627\u0645"),u()(),c(67,"div",39)(68,"button",40),E("click",function(){return r.onSocialRegister("google")}),v(69,"i",41),u(),c(70,"button",42),E("click",function(){return r.onSocialRegister("instagram")}),v(71,"i",43),u(),c(72,"button",44),E("click",function(){return r.onSocialRegister("twitter")}),v(73,"i",45),u(),c(74,"button",46),E("click",function(){return r.onSocialRegister("facebook")}),v(75,"i",47),u(),c(76,"button",48),E("click",function(){return r.onSocialRegister("apple")}),v(77,"i",49),u()()()()),e&2&&(d(5),m("formGroup",r.registerForm),d(4),W("is-invalid",r.firstNameError()),d(),G(r.firstNameError()?10:-1),d(4),W("is-invalid",r.lastNameError()),d(),G(r.lastNameError()?15:-1),d(4),W("is-invalid",r.userNameError()),d(),G(r.userNameError()?20:-1),d(5),W("is-invalid",r.emailError())("is-valid",r.emailAvailable()===!0&&!r.emailError()),d(),G(r.emailChecking()?26:r.emailAvailable()===!0?27:r.emailAvailable()===!1?28:-1),d(3),G(r.emailError()?29:-1),d(5),W("is-invalid",r.passwordError()),m("type",r.showPassword()?"text":"password"),d(),fn("aria-label",r.showPassword()?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),d(),G(r.showPassword()?36:37),d(2),G(r.passwordError()?38:-1),d(3),ro("strength-"+r.passwordStrength()),d(2),G(r.passwordStrength()==="weak"?43:r.passwordStrength()==="medium"?44:r.passwordStrength()==="strong"?45:-1),d(7),W("is-invalid",r.confirmPasswordError()),m("type",r.showConfirmPassword()?"text":"password"),d(),fn("aria-label",r.showConfirmPassword()?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),d(),G(r.showConfirmPassword()?52:53),d(2),G(r.confirmPasswordError()?54:-1),d(2),G(r.isSubmitting()||r.auth.loading()?56:57),d(2),G(r.auth.loginError()?58:-1))},dependencies:[Y,_i,vr,Ke,st,mr,Gr,qr],styles:['.register-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;direction:rtl}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px}.logo[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);width:80px;height:80px;border-radius:20px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px #667eea4d;margin:0 auto}.logo-text[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:14px;text-align:center;line-height:1.2}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:1px;box-shadow:0 20px 40px #0000001a;padding:12px;width:100%;max-width:470px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.register-form[_ngcontent-%COMP%]{margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:700;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;font-size:14px;font-family:Almarai,Arial,sans-serif;transition:all .3s ease;background:#fafbfc;margin-left:10px;height:35px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;background:#fff}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 3px #dc35451a}.form-control.is-valid[_ngcontent-%COMP%]{border-color:#28a745;box-shadow:0 0 0 3px #28a7451a}.email-input-container[_ngcontent-%COMP%]{position:relative}.email-status[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:12px;font-weight:700}.email-status.checking[_ngcontent-%COMP%]{color:#667eea}.email-status.available[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.email-status.unavailable[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.password-input-container[_ngcontent-%COMP%]{position:relative}.password-input[_ngcontent-%COMP%]{padding-left:45px}.password-toggle[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);background:none;border:none;color:#6c757d;cursor:pointer;padding:4px;border-radius:4px;transition:color .3s ease}.password-toggle[_ngcontent-%COMP%]:hover{color:#495057}.eye-icon[_ngcontent-%COMP%]{font-size:16px;display:block}.password-strength-container[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;gap:10px}.password-strength-bar[_ngcontent-%COMP%]{flex:1;height:4px;background-color:#e1e5e9;border-radius:2px;overflow:hidden}.strength-indicator[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:all .3s ease;width:0%}.strength-indicator.strength-weak[_ngcontent-%COMP%]{width:33%;background-color:#dc3545}.strength-indicator.strength-medium[_ngcontent-%COMP%]{width:66%;background-color:#ffc107}.strength-indicator.strength-strong[_ngcontent-%COMP%]{width:100%;background-color:#28a745}.strength-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;min-width:40px}.strength-weak[_ngcontent-%COMP%]{color:#dc3545}.strength-medium[_ngcontent-%COMP%]{color:#ffc107}.strength-strong[_ngcontent-%COMP%]{color:#28a745}.invalid-feedback[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#dc3545;font-size:12px}.btn-register[_ngcontent-%COMP%]{width:10rem;padding:5px;background:#2b2d2f;border:none;color:#fff;font-weight:600;font-size:13px;font-family:Almarai,Arial,sans-serif;cursor:pointer;transition:all .3s ease;margin-right:73%;margin-top:3px}.btn-register[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 25px #667eea4d}.btn-register[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-primary[_ngcontent-%COMP%]{width:10rem;padding:6px;background:#2b2d2f;border:none;color:#fff;font-weight:600;font-size:13px;font-family:Almarai,Arial,sans-serif;cursor:pointer;transition:all .3s ease;margin-left:20px}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 25px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;vertical-align:-.125em;border:.125em solid currentColor;border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin .75s linear infinite}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.spinner-sm[_ngcontent-%COMP%]{width:12px;height:12px;border:2px solid #667eea;border-top:2px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;padding:12px 16px;font-size:14px;margin-bottom:0}.alert-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.login-link[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#666;line-height:1.6;margin-bottom:20px}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#131313;font-size:14px;font-family:Almarai,Arial,sans-serif;cursor:pointer;text-decoration:underline;transition:color .3s ease;display:block;margin-top:5px;font-weight:500}.link-button[_ngcontent-%COMP%]:hover{color:#764ba2}.divider[_ngcontent-%COMP%]{text-align:center;margin:30px 0;position:relative;color:#999;font-size:14px}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e1e5e9;z-index:1}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 20px;position:relative;z-index:2}.social-login[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;margin-bottom:30px}.social-btn[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid #e1e5e9;border-radius:12px;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:18px}.social-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000001a}.google-btn[_ngcontent-%COMP%]:hover{border-color:#4285f4;color:#4285f4}.instagram-btn[_ngcontent-%COMP%]:hover{border-color:#e4405f;color:#e4405f}.twitter-btn[_ngcontent-%COMP%]:hover{border-color:#1da1f2;color:#1da1f2}.facebook-btn[_ngcontent-%COMP%]:hover{border-color:#1877f2;color:#1877f2}.apple-btn[_ngcontent-%COMP%]:hover{border-color:#000;color:#000}.social-icon[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.apple-btn[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]:before{content:"\\1f34e";font-size:18px}.form-check[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px;gap:8px}.form-check-input[_ngcontent-%COMP%]{margin:0;cursor:pointer;border-color:red;background-color:transparent}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#c86565;border-color:red}.form-check-input[_ngcontent-%COMP%]:focus{border-color:red;box-shadow:0 0 0 .25rem #ff000040}.form-check-label[_ngcontent-%COMP%]{color:#666;font-size:14px;cursor:pointer;-webkit-user-select:none;user-select:none}@media (max-width: 768px){.register-container[_ngcontent-%COMP%]{padding:15px}.register-card[_ngcontent-%COMP%]{padding:30px 25px}.logo[_ngcontent-%COMP%]{width:70px;height:70px}.logo-text[_ngcontent-%COMP%]{font-size:12px}.social-login[_ngcontent-%COMP%]{gap:10px}.social-btn[_ngcontent-%COMP%]{width:45px;height:45px;font-size:16px}}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:25px 20px}.social-login[_ngcontent-%COMP%]{gap:8px}.social-btn[_ngcontent-%COMP%]{width:40px;height:40px;font-size:14px}}[dir=rtl][_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{text-align:right}[dir=rtl][_ngcontent-%COMP%]   .form-control[dir=ltr][_ngcontent-%COMP%]{text-align:left}[dir=rtl][_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .email-status[_ngcontent-%COMP%]{left:auto;right:12px}[dir=rtl][_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]{padding-left:16px;padding-right:45px}.register_nav[_ngcontent-%COMP%]{border:2px solid #e1e5e9;border-radius:8px;background:none;color:#454141;font-size:16px;font-family:Almarai,Arial,sans-serif;cursor:pointer;transition:color .3s ease;display:block;margin-top:5px;margin-bottom:5px;font-weight:500;width:100%;padding:5px}.form-control[_ngcontent-%COMP%]:focus, .btn-register[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:focus, .social-btn[_ngcontent-%COMP%]:focus, .password-toggle[_ngcontent-%COMP%]:focus, .link-button[_ngcontent-%COMP%]:focus{outline:1px solid #667eea}.invalid-feedback[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .3s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.email-status.available[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_successPulse .3s ease-in-out}']})};var cf=class t{categoryName="  ";categoryDescription=" ";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-category-title"]],inputs:{categoryName:"categoryName",categoryDescription:"categoryDescription"},decls:5,vars:2,consts:[[1,"text-gray-600","text-sm","mt-2"]],template:function(e,r){e&1&&(R(0,"header")(1,"h2"),f(2),L(),R(3,"p",0),f(4),L()()),e&2&&(d(2),D(" ",r.categoryName," "),d(2),D(" ",r.categoryDescription," "))},styles:["header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:end;align-items:center;gap:15px;height:37vh;padding-bottom:2.5%;margin-inline:5px}h2[_ngcontent-%COMP%]{color:#637586;font-weight:bolder;font-size:30px}p[_ngcontent-%COMP%]{color:#637586;font-size:16px;text-align:center}"]})};var K4=t=>["/MainFilterContainer",t],J4=(t,n)=>n.id;function X4(t,n){if(t&1&&(c(0,"a",3),f(1),u()),t&2){let e=n.$implicit;m("routerLink",_e(2,K4,e.id)),d(),y(e.name)}}var uf=class t{constructor(n){this.categoryServices=n}subCategories;parentCategoryId=1;isLoading=!0;ngOnChanges(n){n.parentCategoryId&&!n.parentCategoryId.firstChange&&this.loadSubCategories(this.parentCategoryId)}ngOnInit(){this.loadSubCategories(this.parentCategoryId)}loadSubCategories(n,e){this.categoryServices.getAllSubCategories(n,e).subscribe({next:r=>{this.subCategories=r.data,this.isLoading=!1},error:r=>{console.error("Error fetching subcategories:",r),this.isLoading=!1}})}GetSubCategories(){return this.subCategories}static \u0275fac=function(e){return new(e||t)(C(rn))};static \u0275cmp=k({type:t,selectors:[["app-sub-category-crumb"]],inputs:{parentCategoryId:"parentCategoryId"},features:[wt],decls:5,vars:0,consts:[["id","subCategories"],["id","arrow","routerLink","#","routerLinkActive","active"],[1,"fa-solid","fa-arrow-right"],["routerLinkActive","active",1,"subCategory",3,"routerLink"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"a",1),v(2,"i",2),u(),X(3,X4,2,4,"a",3,J4),u()),e&2&&(d(3),ee(r.subCategories))},dependencies:[de,Et],styles:["#arrow[_ngcontent-%COMP%]{display:inline-flex;padding:8px 10px;margin-bottom:.5rem;font-size:.875rem;color:#fff;background-color:#2dd4bf;border-radius:.25rem;transition:background-color .3s ease-in-out;text-decoration:none;align-items:center;justify-content:center}#arrow[_ngcontent-%COMP%]:hover{background-color:#0d9488}a[_ngcontent-%COMP%]{color:#666;padding:10px;padding-inline:11px;text-decoration:none}#subCategories[_ngcontent-%COMP%]{margin-top:-15px;padding:11px 11px 0;margin-inline:-10px}.subCategory[_ngcontent-%COMP%]{display:inline-flex;padding-block:3px;margin-bottom:.1rem;margin-right:.5rem;font-size:.87rem;font-weight:500;color:#fff;background-color:#fc657c;border-radius:.3rem;transition:background-color .2s ease-in-out;text-decoration:none}.subCategory[_ngcontent-%COMP%]:hover{background-color:#e11d48;color:#fff}.subCategory[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #fda4af}"]})};var ks=class t{constructor(n){this.http=n}apiUrl="https://localhost:7207/api/Publishers";getPublishers(n=1,e=150,r=""){let i=new me().set("PageNumber",n.toString()).set("PageSize",e.toString());return r&&(i=i.set("Search",r)),this.http.get(`${this.apiUrl}/GetAllPublishersPaginated`,{params:i})}getPublisherById(n){return this.http.get(`${this.apiUrl}/GetPublisherById`,{params:{Id:n}})}getPublisherFollowerCount(n){return this.http.get(`${this.apiUrl}/GetPublisherFollowerCount`,{params:{PublisherId:n.toString()}})}followPublisher(n,e){let r={UserId:n,PublisherId:e};return this.http.post(`${this.apiUrl}/FollowPublisher`,r)}unfollowPublisher(n,e){let r={userId:n,publisherId:e};return this.http.delete(`${this.apiUrl}/UnFollowPublisher`,{body:r})}isFollowPublisher(n,e){let r=new me().set("UserId",n.toString()).set("PublisherId",e.toString());return this.http.get(`${this.apiUrl}/IsFollowing`,{params:r})}getAuthorRelatedToPublisher(n,e=1,r=12){let i=new me().set("publisherId",n.toString()).set("PageNumber",e.toString()).set("PageSize",r.toString());return this.http.get(`${this.apiUrl}/GetAuthorRelatedToPublisher`,{params:i})}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var eA=(t,n)=>n.value,tA=(t,n)=>n.id;function nA(t,n){if(t&1){let e=Q();c(0,"div",14)(1,"input",15),E("change",function(){let i=O(e).$implicit,o=w(2);return A(o.onLanguageChange(i))}),u(),c(2,"label",16),f(3),u()()}if(t&2){let e=n.$implicit,r=w(2);d(),m("id",qe("lang-"+e))("checked",r.selectedLanguage===r.languageMap[e]),d(),m("for",qe("lang-"+e)),d(),y(e)}}function rA(t,n){if(t&1&&(c(0,"div",6),X(1,nA,4,6,"div",14,Qe),u()),t&2){let e=w();d(),ee(e.languages)}}function iA(t,n){if(t&1&&(c(0,"option",18),f(1),u()),t&2){let e=n.$implicit;m("value",e.value),d(),y(e.label)}}function oA(t,n){if(t&1){let e=Q();c(0,"div",9)(1,"select",17),E("ngModelChange",function(i){O(e);let o=w();return A(o.onSortChange(i))}),X(2,iA,2,2,"option",18,eA),u()()}if(t&2){let e=w();d(),m("ngModel",e.selectedSort),d(),ee(e.sortOptions)}}function sA(t,n){if(t&1){let e=Q();c(0,"div",12)(1,"input",19),E("ngModelChange",function(i){O(e);let o=w();return o.searchPublisherTerm=i,A(o.onSearchInput())}),u()()}if(t&2){let e=w();d(),m("ngModel",e.searchPublisherTerm)}}function aA(t,n){if(t&1){let e=Q();c(0,"div",14)(1,"input",22),E("change",function(){let i=O(e).$implicit,o=w(2);return A(o.onPublisherChange(i.id))}),u(),c(2,"label"),f(3),u()()}if(t&2){let e=n.$implicit,r=w(2);d(),m("checked",r.selectedPublishers.includes(e.id)),d(2),y(e.name)}}function lA(t,n){if(t&1){let e=Q();c(0,"button",23),E("click",function(){O(e);let i=w(2);return A(i.toggleShowAllPublishers())}),f(1," \u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064A\u062F "),u()}}function cA(t,n){if(t&1){let e=Q();c(0,"button",24),E("click",function(){O(e);let i=w(2);return A(i.toggleShowAllPublishers())}),f(1," \u0639\u0631\u0636 \u0623\u0642\u0644 "),u()}}function uA(t,n){if(t&1&&(c(0,"div",13),X(1,aA,4,2,"div",14,tA),z(3,lA,2,0,"button",20),z(4,cA,2,0,"button",21),u()),t&2){let e=w();d(),ee(e.displayedPublishers),d(2),G(!e.showAllPublishers&&e.allPublishers.length>3&&!e.searchPublisherTerm?3:-1),d(),G(e.showAllPublishers&&!e.searchPublisherTerm?4:-1)}}var df=class t{constructor(n){this.publisherService=n}languages=["\u0627\u0644\u0643\u062A\u0628 \u0627\u0644\u0639\u0631\u0628\u064A\u0629","\u0627\u0644\u0643\u062A\u0628 \u0627\u0644\u0627\u0646\u062C\u0644\u0632\u064A\u0629"];languageMap={"\u0627\u0644\u0643\u062A\u0628 \u0627\u0644\u0639\u0631\u0628\u064A\u0629":1,"\u0627\u0644\u0643\u062A\u0628 \u0627\u0644\u0627\u0646\u062C\u0644\u0632\u064A\u0629":2};sortOptions=[{label:"\u21E1 \u0627\u0644\u0623\u062D\u062F\u062B",value:0},{label:"\u21E3 \u0627\u0644\u0623\u0642\u062F\u0645",value:1},{label:"\u21E1 \u0627\u0644\u0623\u0643\u062B\u0631 \u0631\u0648\u0627\u062C\u0627\u064B",value:4}];sectionVisibility={language:!0,order:!0,publisher:!0};selectedLanguage=null;selectedSort=0;selectedPublishers=[];searchPublisherTerm="";allPublishers=[];displayedPublishers=[];showAllPublishers=!1;searchSubject=new ge;filterChanged=new be;ngOnInit(){this.loadPublishers(),this.searchSubject.pipe(Xr(300),ti()).subscribe(n=>{this.searchPublisherTerm=n,this.filterPublishers()}),this.applyFilters()}loadPublishers(){this.publisherService.getPublishers(1,50,"").subscribe({next:n=>{n.succeeded&&(this.allPublishers=n.data,this.filterPublishers())},error:n=>{console.error("Error loading publishers:",n)}})}filterPublishers(){this.searchPublisherTerm?this.displayedPublishers=this.allPublishers.filter(n=>n.name.toLowerCase().includes(this.searchPublisherTerm.toLowerCase())):this.displayedPublishers=this.showAllPublishers?this.allPublishers:this.allPublishers.slice(0,3)}onSearchInput(){this.searchSubject.next(this.searchPublisherTerm)}toggleShowAllPublishers(){this.showAllPublishers=!this.showAllPublishers,this.filterPublishers()}toggleSection(n){this.sectionVisibility[n]=!this.sectionVisibility[n]}onLanguageChange(n){let e=this.languageMap[n];this.selectedLanguage=this.selectedLanguage===e?null:e,this.applyFilters()}onSortChange(n){this.selectedSort=Number(n),this.applyFilters()}onPublisherChange(n){let e=this.selectedPublishers.indexOf(n);e>-1?this.selectedPublishers.splice(e,1):this.selectedPublishers.push(n),this.applyFilters()}applyFilters(){this.filterChanged.emit({language:this.selectedLanguage,sortBy:this.selectedSort,publisherIds:this.selectedPublishers,searchTerm:this.searchPublisherTerm})}static \u0275fac=function(e){return new(e||t)(C(ks))};static \u0275cmp=k({type:t,selectors:[["app-filtering"]],outputs:{filterChanged:"filterChanged"},decls:24,vars:10,consts:[["id","outerContainer"],["id","mainFilterContainer"],["id","filterHeader"],["id","language"],["id","languageHeader",1,"header",3,"click"],[1,"fa-solid","fa-angle-down"],["id","languageOption"],["id","order"],["id","orderHeader",1,"header",3,"click"],["id","orderOption"],["id","bublisher"],["id","bublisherHeader",1,"header",3,"click"],[1,"searchContainer"],["id","bublisherOptions"],[1,"option"],["type","radio","name","language",3,"change","id","checked"],[3,"for"],[3,"ngModelChange","ngModel"],[3,"value"],["type","text","placeholder","\u0627\u0628\u062D\u062B \u0639\u0646 \u062F\u0648\u0631 \u0627\u0644\u0646\u0634\u0631",1,"search-input",3,"ngModelChange","ngModel"],["type","button",1,"show-more-btn"],["type","button",1,"show-less-btn"],["type","checkbox",3,"change","checked"],["type","button",1,"show-more-btn",3,"click"],["type","button",1,"show-less-btn",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),f(4,"\u062A\u0635\u0641\u064A\u0629"),u()(),c(5,"div",3)(6,"div",4),E("click",function(){return r.toggleSection("language")}),c(7,"h3"),f(8,"\u0644\u063A\u0629 \u0627\u0644\u0643\u0627\u062A\u0628"),u(),v(9,"i",5),u(),z(10,rA,3,0,"div",6),u(),c(11,"div",7)(12,"div",8),E("click",function(){return r.toggleSection("order")}),c(13,"h3"),f(14,"\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628"),u(),v(15,"i",5),u(),z(16,oA,4,1,"div",9),u(),c(17,"div",10)(18,"div",11),E("click",function(){return r.toggleSection("publisher")}),c(19,"h3"),f(20,"\u062F\u0648\u0631 \u0627\u0644\u0646\u0634\u0631"),u(),v(21,"i",5),u(),z(22,sA,2,1,"div",12),z(23,uA,5,2,"div",13),u()()()),e&2&&(d(9),W("rotated",!r.sectionVisibility.language),d(),G(r.sectionVisibility.language?10:-1),d(5),W("rotated",!r.sectionVisibility.order),d(),G(r.sectionVisibility.order?16:-1),d(5),W("rotated",!r.sectionVisibility.publisher),d(),G(r.sectionVisibility.publisher?22:-1),d(),G(r.sectionVisibility.publisher?23:-1))},dependencies:[Y,kt,Wd,Yd,Ke,Es,st,yn],styles:["#outerContainer[_ngcontent-%COMP%]{position:relative;height:100%;overflow:visible}#mainFilterContainer[_ngcontent-%COMP%]{position:sticky;top:6rem;width:15rem;height:fit-content;max-height:100%;padding:.35rem;padding-inline:1.4rem;margin-bottom:.25rem;background-color:#fff;border:0 solid;border-radius:8px;box-shadow:-1px 2px 5px #0000001a,1px 2px 5px #0000001a}#filterHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:.7rem;margin:0 0 20px;font-size:1.6rem;font-weight:600;color:#6c757d}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;cursor:pointer;border-bottom:1px solid #eee}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:700;color:#000}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#666;font-size:16px}#languageOption[_ngcontent-%COMP%], #orderOption[_ngcontent-%COMP%], #bublisherOptions[_ngcontent-%COMP%]{padding:12px 0}.option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.12rem 0}.option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:12px;width:16px;height:16px;appearance:none;border:1px solid rgb(244,75,75);outline:none;border-radius:20%}.option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{border-radius:50%}.option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked, .option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{appearance:auto}#languageOption[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;cursor:pointer;color:#000}#bublisherOptions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;cursor:pointer;color:#000}#orderOption[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:7px;border:1px solid #ddd;border-radius:6px;background-color:#fff;font-size:16px;color:#666;margin-top:8px}#orderOption[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border:none;outline:none;border:1px solid red}.search-container[_ngcontent-%COMP%]{margin:12px 0}.searchContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:5px;padding-inline:15px;border:1px solid #ddd;border-radius:5px;font-size:.83rem;color:#666}.search-input[_ngcontent-%COMP%]:focus{border:none;outline:none}#bublisher[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#f75353}@media (max-width: 768px){#mainFilterContainer[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}#filterHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], #orderOption[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .search-input[_ngcontent-%COMP%], #bublisher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 480px){#filterHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], #orderOption[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .search-input[_ngcontent-%COMP%], #bublisher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 622px){#filterHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:none}}.header[_ngcontent-%COMP%]   i.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.show-more-link[_ngcontent-%COMP%], .show-less-link[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center;color:#e74c3c;text-decoration:none;font-weight:700;cursor:pointer}.show-more-btn[_ngcontent-%COMP%], .show-less-btn[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center;color:#e74c3c;background:none;border:none;font-weight:700;cursor:pointer;width:100%;padding:8px}.show-more-btn[_ngcontent-%COMP%]:hover, .show-less-btn[_ngcontent-%COMP%]:hover{text-decoration:underline;background-color:#f9f9f9}.searchContainer[_ngcontent-%COMP%]{margin-bottom:15px}.search-input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}"]})};function dA(t,n){if(t&1){let e=Q();R(0,"button",4),tt("click",function(){let i=O(e).$implicit,o=w();return A(o.GoToPage(i))}),f(1),L()}if(t&2){let e=n.$implicit,r=w();W("active",e===r.CurrentPage),d(),D(" ",e," ")}}function fA(t,n){if(t&1){let e=Q();R(0,"span",5),f(1,"..."),L(),R(2,"button",4),tt("click",function(){O(e);let i=w();return A(i.GoToPage(i.TotalPages))}),f(3),L()}if(t&2){let e=w();d(3),D(" ",e.TotalPages," ")}}var Cr=class t{CurrentPage=1;TotalPages=1;PageChanged;constructor(){this.PageChanged=new be}getVisiblePages(){return this.TotalPages<=7?this.GetPagesNumbers():this.CurrentPage<=4?[1,2,3,4,5]:this.CurrentPage>4&&this.CurrentPage<this.TotalPages-3?[this.CurrentPage-2,this.CurrentPage-1,this.CurrentPage,this.CurrentPage+1,this.CurrentPage+2]:[this.TotalPages-4,this.TotalPages-3,this.TotalPages-2,this.TotalPages-1,this.TotalPages]}GetPagesNumbers(){let n=[];for(let e=1;e<=this.TotalPages;e++)n.push(e);return n}GoToPage(n){n!==this.CurrentPage&&n>0&&n<=this.TotalPages&&(this.CurrentPage=n,this.PageChanged.emit(this.CurrentPage))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-pagination"]],inputs:{CurrentPage:"CurrentPage",TotalPages:"TotalPages"},outputs:{PageChanged:"PageChanged"},decls:9,vars:3,consts:[[1,"paginationContainer"],[1,"paginationButton",3,"click","disabled"],["id","pagesNumber"],[1,"paginationButton",3,"active"],[1,"paginationButton",3,"click"],[1,"paginationEllipsis"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"button",1),tt("click",function(){return r.GoToPage(r.CurrentPage-1)}),f(2," \xAB Prev "),L(),R(3,"div",2),X(4,dA,2,3,"button",3,Qe),z(6,fA,4,1),L(),R(7,"button",1),tt("click",function(){return r.GoToPage(r.CurrentPage+1)}),f(8," Next \xBB "),L()()),e&2&&(d(),lr("disabled",r.TotalPages<1||r.CurrentPage===1),d(3),ee(r.getVisiblePages()),d(2),G(r.TotalPages>7&&r.CurrentPage<r.TotalPages-3?6:-1),d(),lr("disabled",r.TotalPages<1||r.CurrentPage===r.TotalPages))},styles:[".paginationContainer[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;margin-block:5rem;gap:.25rem}.paginationButton[_ngcontent-%COMP%]{border:1px solid #b3bac1;border-radius:2px;padding:7px;background:#fff;font-size:15px;min-width:2rem;cursor:pointer}.paginationButton.active[_ngcontent-%COMP%]{background:#bdd4ec;border-color:#4a75a0}.paginationButton[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.paginationEllipsis[_ngcontent-%COMP%]{padding:0 8px;color:#7a8a9b}@media (max-width: 768px){#pagesNumber[_ngcontent-%COMP%]{display:none}.paginationContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}}"]})};var pA=(t,n)=>n.id;function gA(t,n){if(t&1&&v(0,"app-book-card",1),t&2){let e=n.$implicit;m("book",e)}}var ff=class t{constructor(n){this.bookService=n}Books=[];currentPage=1;pageSize=2;totalPages=1;totalCount=0;CategoryId=1;filterParams;ngOnChanges(n){(n.CategoryId||n.filterParams)&&(this.currentPage=1,this.getBooksByCategoryId())}ngOnInit(){this.getBooksByCategoryId()}getBooksByCategoryId(){let n={CategoryIds:[this.CategoryId],PageNumber:this.currentPage,PageSize:this.pageSize,SearchTerm:this.filterParams?.SearchTerm||"",Language:this.filterParams?.Language!==void 0?this.filterParams.Language:null,PublisherIds:this.filterParams?.PublisherIds||[],SortBy:this.filterParams?.SortBy!==void 0?this.filterParams.SortBy:0};this.bookService.filterBooks(n).subscribe({next:e=>{e.succeeded?(this.Books=e.data,this.totalCount=e.totalCount,this.totalPages=e.totalPages):(console.error("API returned error:",e.message),this.Books=[])},error:e=>{console.error("Error fetching books:",e),this.Books=[]}})}GetNewPage(n){this.currentPage=n,this.getBooksByCategoryId()}static \u0275fac=function(e){return new(e||t)(C(nn))};static \u0275cmp=k({type:t,selectors:[["app-categoey-books"]],inputs:{CategoryId:"CategoryId",filterParams:"filterParams"},features:[wt],decls:5,vars:2,consts:[[1,"books"],[3,"book"],[1,"books-pagination"],[3,"PageChanged","CurrentPage","TotalPages"]],template:function(e,r){e&1&&(c(0,"div",0),X(1,gA,1,1,"app-book-card",1,pA),u(),c(3,"div",2)(4,"app-pagination",3),E("PageChanged",function(o){return r.GetNewPage(o)}),u()()),e&2&&(d(),ee(r.Books),d(3),m("CurrentPage",r.currentPage)("TotalPages",r.totalPages))},dependencies:[yr,Cr,Y],styles:[".books[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:20px;background-color:#f8f9fa;width:100%;padding:20px;box-sizing:border-box}app-book-card[_ngcontent-%COMP%]{display:block;background-color:#fff;box-shadow:0 2px 8px #0000001a;overflow:hidden;border-radius:12px;transition:transform .2s ease,box-shadow .2s ease;width:100%}app-book-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 20px #00000026}.books-pagination[_ngcontent-%COMP%]{margin-top:40px;display:flex;justify-content:center;padding:0 20px}@media (max-width: 1450px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:7px}}@media (max-width: 1310px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:10px;padding:18px}}@media (max-width: 995px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:11px;padding:16px}app-book-card[_ngcontent-%COMP%]{border-radius:10px}.books-pagination[_ngcontent-%COMP%]{margin-top:30px}}@media (max-width: 768px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:11px;padding:16px}.books[_ngcontent-%COMP%]{min-height:100%}.books-pagination[_ngcontent-%COMP%]{margin-top:30px}}@media (max-width: 480px){.books[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;padding:12px}app-book-card[_ngcontent-%COMP%]{min-height:220px;border-radius:8px}.books-pagination[_ngcontent-%COMP%]{margin-top:25px}}@media (max-width: 360px){.books[_ngcontent-%COMP%]{gap:10px;padding:10px}app-book-card[_ngcontent-%COMP%]{min-height:200px}}"]})};var pf=class t{constructor(n,e){this.route=n;this.categoryService=e}categoryName="";categoryDescription="";CategoryId=1;Category;currentFilterParams;breadcrumbs=[{name:"\u0627\u0644\u0623\u0642\u0633\u0627\u0645",path:"/AllCategories"},{name:"  ",path:"/"}];routeSub;ngOnInit(){this.routeSub=this.route.paramMap.subscribe(n=>{let e=n.get("Id");e&&this.loadCategoryData(+e)})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}loadCategoryData(n){this.categoryService.getCategoryById(n).subscribe({next:e=>{e?(this.Category=e.data,this.categoryName=this.Category.name,this.categoryDescription=this.Category.description,this.CategoryId=this.Category.id,this.breadcrumbs=[{name:"\u0627\u0644\u0623\u0642\u0633\u0627\u0645",path:"/AllCategories"},{name:this.Category.name,path:`/MainFilterContainer/${n}`}]):console.error("Category not found")},error:e=>{console.error("Error fetching category:",e)}})}onFilterChanged(n){this.currentFilterParams={CategoryIds:[this.CategoryId],PageNumber:1,PageSize:10,Language:n.language,SortBy:n.sortBy,PublisherIds:n.publisherIds,SearchTerm:n.searchTerm}}static \u0275fac=function(e){return new(e||t)(C(Ve),C(rn))};static \u0275cmp=k({type:t,selectors:[["app-main-filter-container"]],decls:12,vars:6,consts:[["id","mainContainer",1,"main-container"],[3,"categoryName","categoryDescription"],["id","crumb"],[3,"Navcrumbs"],[3,"parentCategoryId"],["id","body"],["id","filteration"],[3,"filterChanged"],["id","books"],[1,"books",3,"CategoryId","filterParams"]],template:function(e,r){e&1&&(c(0,"div",0),v(1,"app-category-title",1),c(2,"div",2),v(3,"app-nav-crumb",3)(4,"app-sub-category-crumb",4)(5,"hr"),u(),c(6,"div",5)(7,"div",6)(8,"div",6)(9,"app-filtering",7),E("filterChanged",function(o){return r.onFilterChanged(o)}),u()()(),c(10,"div",8),v(11,"app-categoey-books",9),u()()()),e&2&&(d(),m("categoryName",r.categoryName)("categoryDescription",r.categoryDescription),d(2),m("Navcrumbs",r.breadcrumbs),d(),m("parentCategoryId",r.CategoryId),d(7),m("CategoryId",r.CategoryId)("filterParams",r.currentFilterParams))},dependencies:[cf,lt,uf,df,ff],styles:["#mainContainer[_ngcontent-%COMP%]{margin:0 auto;padding:20px 20px 60px;box-sizing:border-box;min-height:calc(100vh - 160px)}app-category-title[_ngcontent-%COMP%]{padding-inline:10rem}#crumb[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-bottom:20px}#body[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;min-height:400px;margin-bottom:40px}#filteration[_ngcontent-%COMP%]{flex:0 0 250px;min-height:200px}#books[_ngcontent-%COMP%]{flex:1;min-width:300px}@media (max-width: 768px){#mainContainer[_ngcontent-%COMP%]{padding:15px 15px 80px;min-height:calc(100vh - 140px)}app-category-title[_ngcontent-%COMP%]{padding-inline:2rem}#body[_ngcontent-%COMP%]{flex-direction:column;gap:15px}#filteration[_ngcontent-%COMP%]{flex:none;width:100%;margin-bottom:20px}#books[_ngcontent-%COMP%]{flex:none;width:100%;min-width:auto}}@media (max-width: 480px){#mainContainer[_ngcontent-%COMP%]{padding:10px 10px 100px}app-category-title[_ngcontent-%COMP%]{padding-inline:1rem}#body[_ngcontent-%COMP%]{margin-bottom:80px}}.page-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.content-area[_ngcontent-%COMP%]{flex:1}.footer[_ngcontent-%COMP%]{margin-top:auto;position:relative;bottom:0;width:100%}"]})};var hA=t=>["/authors",t],mA=()=>[1,2,3,4,5],vA=(t,n)=>n.id;function bA(t,n){if(t&1&&v(0,"img",9),t&2){let e=w().$implicit,r=w();m("src",r.getCoverImageUrl(e),Ce)}}function yA(t,n){t&1&&v(0,"i",10)}function CA(t,n){if(t&1&&(c(0,"span",19),f(1,"\u2605"),u()),t&2){let e=n.$implicit,r=w().$implicit;W("yellow",e<=r.rating)}}function _A(t,n){if(t&1&&(c(0,"div",4)(1,"div",7)(2,"div",8),z(3,bA,1,1,"img",9)(4,yA,1,0,"i",10),c(5,"a",11)(6,"h6"),f(7),u()(),c(8,"p",12),f(9),u()(),c(10,"div",13)(11,"div",14),X(12,CA,2,2,"span",15,Qe),u()()(),c(14,"div",16)(15,"div",17),f(16),u(),c(17,"div",17),f(18),u(),c(19,"div",18),f(20),u()()()),t&2){let e=n.$implicit,r=w();d(3),G(e&&r.getCoverImageUrl(e)?3:4),d(2),m("routerLink",_e(7,hA,e.id)),d(2),y(e.name),d(2),y(e.bio),d(3),ee(cr(9,mA)),d(4),D(" ",e.booksCount," \u0627\u0644\u0643\u062A\u0628 "),d(2),D(" ",e.QoutationsCount," \u0627\u0642\u062A\u0628\u0627\u0633\u0627\u062A "),d(2),D(" ",e.followerCount," \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u064A\u0646 ")}}var gf=class t{constructor(n){this.authorService=n}breadcrumbs=[{name:"\u0627\u0644\u0645\u0624\u0644\u0641\u0648\u0646",path:"/"}];authors=[];currentPage=1;pageSize=28;totalPages=0;totalCount=0;search="";ngOnInit(){this.loadAuthors()}loadAuthors(){this.authorService.getAllAuthorsPaginated(this.currentPage,this.pageSize,this.search).subscribe({next:n=>{this.authors=n.data.map(e=>ie(T({},e),{booksCount:e.books.length,followersCount:0,QoutationsCount:0})),console.log(n.data),this.currentPage=n.currentPage,this.pageSize=n.pageSize,this.totalCount=n.totalCount,this.totalPages=n.totalPages,console.log(n),this.authors.forEach(e=>{this.authorService.getAuthorFollowerCount(e.id).subscribe({next:r=>{e.followerCount=r.followerCount},error:r=>console.error(`Failed to fetch followers for author ${e.id}`,r)})})},error:n=>console.error("Failed to fetch authors",n)})}onPageChange(n){this.currentPage=n,this.loadAuthors()}baseUrl="https://localhost:7207";getCoverImageUrl(n){return n.imageUrl.startsWith("/uploads")?this.baseUrl+n.imageUrl:n.imageUrl}static \u0275fac=function(e){return new(e||t)(C(xi))};static \u0275cmp=k({type:t,selectors:[["app-all-authors"]],decls:8,vars:3,consts:[["id","mainContainer"],["id","NavCrumb"],[3,"Navcrumbs"],["id","bigContainer"],["id","AuthorContainer"],["id","Pagination"],[3,"PageChanged","CurrentPage","TotalPages"],["id","Authors"],["id","data"],["id","authorImage",3,"src"],["id","AlternativeImage",1,"fa-solid","fa-circle-user"],["routerLinkActive","true",3,"routerLink"],[1,"Bio"],[1,"book-rating"],[1,"star-rating"],[1,"star",3,"yellow"],["id","info"],[1,"info"],["id","lastDiv",1,"info"],[1,"star"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1),v(2,"app-nav-crumb",2),u(),c(3,"div",3),X(4,_A,21,10,"div",4,vA),u(),c(6,"div",5)(7,"app-pagination",6),E("PageChanged",function(o){return r.onPageChange(o)}),u()()()),e&2&&(d(2),m("Navcrumbs",r.breadcrumbs),d(2),ee(r.authors),d(3),m("CurrentPage",r.currentPage)("TotalPages",r.totalPages))},dependencies:[lt,Cr,Y,de,Et],styles:["#mainContainer[_ngcontent-%COMP%]{margin-top:8rem;padding:1rem}#bigContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;justify-content:center}#AuthorContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:100%;border-radius:7px;box-shadow:1px 1px 10px #dad9d9,-2px -2px 10px #dad9d9;transition:transform .3s ease,box-shadow .3s ease}#AuthorContainer[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 20px #dad9d9cc,-3px -3px 20px #dad9d9cc}#Authors[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}#data[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}#authorImage[_ngcontent-%COMP%]{width:130px;height:130px;border-radius:50%;margin-block:2rem}#AlternativeImage[_ngcontent-%COMP%]{font-size:5rem}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}h6[_ngcontent-%COMP%]{font-weight:700}.Bio[_ngcontent-%COMP%]{font-size:.9rem;color:#333;text-align:center;height:3rem;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;line-height:1rem;margin-bottom:1rem;padding:0 .5rem}.book-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.5rem;opacity:1}#info[_ngcontent-%COMP%]{margin-top:2rem;display:flex;align-items:center;justify-content:center}.info[_ngcontent-%COMP%]{text-align:center;border-top:1px solid #ccc;border-left:1px solid #ccc;padding:.75rem;padding-inline:29px;padding:.5rem;padding-inline:26px}#lastDiv[_ngcontent-%COMP%]{border-left:none}@media (min-width: 1200px){#bigContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 900px) and (max-width: 1330px){#bigContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 600px) and (max-width: 1077px){#bigContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}#authorImage[_ngcontent-%COMP%]{width:110px;height:110px;margin-block:1.5rem}.info[_ngcontent-%COMP%]{padding-inline:20px}}@media (max-width: 599px){#bigContainer[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}#AuthorContainer[_ngcontent-%COMP%]{max-width:none;width:100%;margin:0}#mainContainer[_ngcontent-%COMP%]{margin-top:4rem;padding:.5rem}#authorImage[_ngcontent-%COMP%]{width:100px;height:100px;margin-block:1.5rem}.info[_ngcontent-%COMP%]{padding:.5rem;padding-inline:15px;font-size:.9rem}.Bio[_ngcontent-%COMP%]{height:auto;min-height:3rem;-webkit-line-clamp:4}h6[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.5rem}}.star-rating[_ngcontent-%COMP%]{display:flex;margin:10px 0}.star[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-right:2px}.star.yellow[_ngcontent-%COMP%]{color:#ffc107}"]})};var xA=(t,n)=>n.bookId;function wA(t,n){t&1&&(c(0,"div",4)(1,"h2"),f(2,"\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A \u0641\u0627\u0631\u063A\u0629"),u(),c(3,"p"),f(4,"\u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u062A\u0633\u0648\u0642 \u0627\u0644\u0627\u0646"),u()())}function MA(t,n){if(t&1){let e=Q();c(0,"div",11)(1,"div",28),v(2,"img",29),c(3,"span",30),f(4," \u0643\u062A\u0627\u0628"),u(),c(5,"span",31),f(6),u()(),c(7,"div",32)(8,"div",33)(9,"span",34),f(10),_(11,"currency"),u(),c(12,"span",35),f(13),_(14,"currency"),u(),c(15,"span",36)(16,"span",37),f(17,"\u0628\u0639\u062F \u062E\u0635\u0645"),u(),c(18,"span",38),f(19),u()()(),c(20,"div",39)(21,"span",40),f(22," \u0627\u0644\u0643\u0645\u064A\u0629 :"),u(),v(23,"input",41,0),c(25,"button",42),E("click",function(){let i=O(e).$implicit,o=Ia(24),s=w(2);return A(s.updateItemQuantity(i.bookId,o))}),f(26," \u062A\u062D\u062F\u064A\u062B "),u(),c(27,"button",43),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.deleteItem(i.bookId))}),f(28,"\u062D\u0630\u0641"),u()()()()}if(t&2){let e=n.$implicit,r=w(2);d(2),m("src",r.getCoverImageUrl(e),Ce),d(4),y(e.bookTitle),d(4),y(We(11,6,e.totalPrice,"EGP")),d(3),y(We(14,9,e.totalDiscountedPrice,"EGP")),d(6),D("",e.discountPercentage,"%"),d(4),m("value",e.quantity)}}function EA(t,n){t&1&&(c(0,"div",19),v(1,"i",44),c(2,"span"),f(3,"\u{1F389} \u062A\u0647\u0627\u0646\u064A\u0646\u0627! \u062D\u0635\u0644\u062A \u0639\u0644\u0649 \u0634\u062D\u0646 \u0645\u062C\u0627\u0646\u064A"),u()())}function IA(t,n){if(t&1&&(c(0,"div",20),v(1,"i",44),c(2,"span"),f(3),_(4,"currency"),u()()),t&2){let e=w(2);d(3),D("\u0623\u0636\u0641 ",We(4,1,600-e.cartData.sumDiscountedPrice,"EGP")," \u0623\u062E\u0631\u0649 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0634\u062D\u0646 \u0645\u062C\u0627\u0646\u064A")}}function DA(t,n){if(t&1){let e=Q();c(0,"div",5)(1,"h2",6),f(2,"\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),u(),c(3,"div",7)(4,"div",8)(5,"div",9)(6,"h4"),f(7),u(),c(8,"button",10),E("click",function(){O(e);let i=w();return A(i.clearCart())}),f(9," \u062D\u0630\u0641 \u0643\u0644 \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A \u0645\u0646 \u0627\u0644\u0633\u0644\u0629"),u()(),X(10,MA,29,12,"div",11,xA),u(),c(12,"div",12)(13,"div",13)(14,"div",14)(15,"span",15),f(16,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0642\u0628\u0644 \u0627\u0644\u062E\u0635\u0645"),u(),c(17,"span",16),f(18),_(19,"currency"),u()(),c(20,"div",17)(21,"span",15),f(22,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0628\u0639\u062F \u0627\u0644\u062E\u0635\u0645"),u(),c(23,"span",16),f(24),_(25,"currency"),u()(),c(26,"div",18),z(27,EA,4,0,"div",19)(28,IA,5,4,"div",20),u()(),c(29,"div",21)(30,"p"),f(31,"\u0625\u0630\u0627 \u0648\u0627\u062C\u0647\u062A\u0643 \u0623\u064A \u0645\u0634\u0643\u0644\u0629 \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639 :"),u(),c(32,"a",22),v(33,"i",23),c(34,"span"),f(35,"\u062E\u062F\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"),u()()()()()(),c(36,"div",24)(37,"p",25),v(38,"i",26),f(39," \u0627\u0644\u062E\u0637\u0648\u0629 \u0627\u0644\u0642\u0627\u062F\u0645\u0629 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0634\u062D\u0646 \u0648\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639 "),u(),c(40,"button",27),f(41,"\u0625\u062A\u0645\u0627\u0645 \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u0634\u0631\u0627\u0621"),u()()}if(t&2){let e=w();d(7),D(" \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A (",e.cartData.totalItemsCount,")"),d(3),ee(e.items),d(8),y(We(19,4,e.cartData.sumTotalPrice,"EGP")),d(6),y(We(25,7,e.cartData.sumDiscountedPrice,"EGP")),d(3),G(e.cartData.sumDiscountedPrice>=600?27:28)}}var hf=class t{constructor(n,e){this.cartService=n;this.toastService=e}breadcrumbs=[{name:"\u0633\u0644\u0629 \u0627\u0644\u062A\u0633\u0648\u0642",path:"/"}];userId=1;cartData={id:0,userId:0,items:[],totalItemsCount:0,sumTotalPrice:0,sumDiscountedPrice:0};items=[];loading=!1;quantityInput;baseUrl=Ie.apiBaseUrl;getCoverImageUrl(n){return n.coverImageUrl.startsWith("/uploads")?this.baseUrl+n.coverImageUrl:n.coverImageUrl}ngOnInit(){this.loadCart()}loadCart(){this.loading=!0,this.cartService.getUserCart().subscribe({next:n=>{this.cartData=n,this.items=this.cartData.items,this.loading=!1},error:n=>{this.loading=!1}})}deleteItem(n){this.toastService.showConfirmDelete("\u0647\u0630\u0627 \u0627\u0644\u0643\u062A\u0627\u0628 \u0645\u0646 \u0627\u0644\u0633\u0644\u0629",()=>{this.cartService.deleteItem(n).subscribe({next:e=>{this.loadCart(),this.toastService.showSuccess("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641","\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0643\u062A\u0627\u0628 \u0645\u0646 \u0627\u0644\u0633\u0644\u0629 \u0628\u0646\u062C\u0627\u062D!")},error:e=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0630\u0641","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0643\u062A\u0627\u0628. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.")}})})}updateItemQuantity(n,e){let r=parseInt(e.value);this.cartService.updateItemQuantity(n,r).subscribe({next:i=>{this.loadCart()},error:i=>{this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u062D\u062F\u064A\u062B","\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0643\u0645\u064A\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.");let o=this.cartData.items.find(s=>s.bookId===n);o&&(e.value=o.quantity.toString())}})}clearCart(){this.toastService.showConfirmClearCart(()=>{this.cartService.clearCart().subscribe({next:n=>{this.loadCart(),this.toastService.showSuccess("\u062A\u0645 \u0627\u0644\u062A\u0641\u0631\u064A\u063A","\u062A\u0645 \u062A\u0641\u0631\u064A\u063A \u0633\u0644\u0629 \u0627\u0644\u062A\u0633\u0648\u0642 \u0628\u0646\u062C\u0627\u062D!")},error:n=>{console.error("Error clearing cart:",n),this.toastService.showError("\u062E\u0637\u0623","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0641\u0631\u064A\u063A \u0627\u0644\u0633\u0644\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.")}})})}static \u0275fac=function(e){return new(e||t)(C(Nt),C(Wt))};static \u0275cmp=k({type:t,selectors:[["app-cart"]],decls:5,vars:2,consts:[["quantityInput",""],["id","cartPage"],["id","NavCrumb"],[3,"Navcrumbs"],[1,"empty-cart"],["id","bigContainer"],["id","main-title"],["id","cart"],["id","cartItems"],["id","topDiv"],["id","clearCartBtn",3,"click"],[1,"itemContainer"],["id","leftSide"],["id","priceSummary"],["id","BeforeDiscount",1,"price"],[1,"priceTitle"],[1,"priceValue"],[1,"price"],[1,"free-shipping-info"],[1,"free-shipping-message","qualified"],[1,"free-shipping-message","not-qualified"],["id","CustomerService"],["id","CustomerServiceLink","routerLink","#","routerLinkActive","active"],["id","icon",1,"fa-solid","fa-circle-user"],["id","NextStep"],["id","lastPara"],[1,"fa-solid","fa-arrow-down"],["id","checkoutBtn","routerLink","/checkout"],[1,"BookInfo"],["id","BookCover","alt","BookImage",3,"src"],[1,"Book"],[1,"BookTitle"],[1,"PriceAndQuantity"],[1,"priceDetails"],[1,"PriceBeforeDiscount"],[1,"PriceAfterDiscount"],[1,"DiscountPercentage"],[1,"DiscountText"],[1,"DiscountValue"],[1,"Quantity"],[1,"QuantityText"],["type","number","min","1",1,"QuantityInput",3,"value"],[1,"UpdateBtn",3,"click"],[1,"DeleteBtn",3,"click"],[1,"fa-solid","fa-truck"]],template:function(e,r){e&1&&(c(0,"div",1)(1,"div",2),v(2,"app-nav-crumb",3),u(),z(3,wA,5,0,"div",4)(4,DA,42,10),u()),e&2&&(d(2),m("Navcrumbs",r.breadcrumbs),d(),G(r.cartData.items.length===0?3:4))},dependencies:[lt,de,Et,kt,so],styles:["#cartPage[_ngcontent-%COMP%]{padding:.7rem;box-sizing:border-box}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;color:red;height:70vh}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}#cart[_ngcontent-%COMP%]{width:100%}#NavCrumb[_ngcontent-%COMP%]{margin-top:5rem}#bigContainer[_ngcontent-%COMP%]{background-color:#fff;margin-top:1rem;margin-bottom:2rem;padding:1rem;border-radius:5px;box-shadow:1px 1px 10px #e7e6e6,-1px -1px 10px #e7e6e6}#main-title[_ngcontent-%COMP%]{font-weight:700;text-align:center;margin-top:3rem}#cart[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem;margin-top:1rem}#cartItems[_ngcontent-%COMP%]{width:70%;padding:.7rem;box-sizing:border-box;display:flex;flex-direction:column;gap:1rem}#topDiv[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}#topDiv[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}#clearCartBtn[_ngcontent-%COMP%]{background-color:#fff;color:red;border:none;padding:.5rem 1rem;cursor:pointer}.itemContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;border-radius:7px;padding:1rem;background-color:#f7f9f9;box-shadow:1px 1px 2px #e7e6e6,-1px -1px 2px #e7e6e6}.BookInfo[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}#BookCover[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%}.Book[_ngcontent-%COMP%]{font-size:12px;font-weight:700;border-radius:5px;padding-inline:.2rem;background-color:#d4dfee}.BookTitle[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.priceDetails[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;gap:1rem;padding-block:1rem}.PriceBeforeDiscount[_ngcontent-%COMP%]{text-decoration:line-through;color:red;font-size:small}.PriceAfterDiscount[_ngcontent-%COMP%]{color:green;font-size:small}.DiscountPercentage[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.2rem}.DiscountText[_ngcontent-%COMP%]{background-color:#29a329;color:#fff;padding:3px;width:5rem;border-radius:35px;font-size:12px}.DiscountValue[_ngcontent-%COMP%]{background-color:#90ee90;color:green;padding:3px;padding-inline:7px;border-radius:10px;font-size:12px;margin-right:-1.5rem}.PriceAndQuantity[_ngcontent-%COMP%]{border-top:1px solid rgb(225,223,223);display:flex;justify-content:space-between;align-items:center}.QuantityInput[_ngcontent-%COMP%]{width:69px;padding:4px 5px;border-top-right-radius:7px;border-bottom-right-radius:7px;border:1px solid rgb(194,192,192);text-align:center;margin-right:5px}.DeleteBtn[_ngcontent-%COMP%], .UpdateBtn[_ngcontent-%COMP%]{border:none;padding:5px 7px;cursor:pointer;font-weight:700;color:#fff}.UpdateBtn[_ngcontent-%COMP%]{background-color:#f5a004}.DeleteBtn[_ngcontent-%COMP%]{background-color:red;border-top-left-radius:7px;border-bottom-left-radius:7px}#leftSide[_ngcontent-%COMP%]{width:29%;display:flex;flex-direction:column;justify-content:center;gap:1rem}#priceSummary[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.price[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.priceTitle[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background-color:#d4dfee;padding:12px;width:60%}#BeforeDiscount[_ngcontent-%COMP%]{border-bottom:1px solid rgb(194,192,192)}.priceValue[_ngcontent-%COMP%]{font-size:1rem;background-color:#eaf1fb;padding:10px;width:40%}.priceValue[_ngcontent-%COMP%]{text-wrap:balance}.free-shipping-info[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.free-shipping-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem;border-radius:8px;font-weight:700;text-align:center;border:2px solid}.free-shipping-message.qualified[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-color:#c3e6cb}.free-shipping-message.not-qualified[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;border-color:#ffeeba}.free-shipping-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}#CustomerService[_ngcontent-%COMP%]{width:100%;background-color:#e8eef8;padding:5px;padding-inline:.25rem;border-radius:5px;box-shadow:6px 1px 1px #d0d1d2,-1px -1px 3px #e7e6e6}#CustomerServiceLink[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;gap:.4rem;font-weight:700;text-decoration:none;color:#000}#icon[_ngcontent-%COMP%]{font-size:x-large}#NextStep[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#lastPara[_ngcontent-%COMP%]{font-weight:700}#checkoutBtn[_ngcontent-%COMP%]{background-color:#0f172b;color:#fff;padding:1rem;border:none;border-radius:10px;cursor:pointer;width:100%;font-size:large;font-weight:700}#checkoutBtn[_ngcontent-%COMP%]:hover{background-color:#4c5a6e}@media (max-width: 1025px){#cartItems[_ngcontent-%COMP%], #leftSide[_ngcontent-%COMP%]{width:100%}#cart[_ngcontent-%COMP%]{flex-direction:column}#cartItems[_ngcontent-%COMP%]{order:-1;width:100%;margin-bottom:2rem}}@media (max-width: 640px){.PriceAndQuantity[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.priceDetails[_ngcontent-%COMP%], .Quantity[_ngcontent-%COMP%], .BookInfo[_ngcontent-%COMP%]{width:100%}.QuantityInput[_ngcontent-%COMP%]{width:13rem}.priceTitle[_ngcontent-%COMP%], .priceValue[_ngcontent-%COMP%]{width:100%;text-align:center}}"]})};var Mi=class t{constructor(n){this.httpClient=n}apiUrl=ef.apiUrl;confirmEmail(n,e){return this.httpClient.post(`${this.apiUrl}/confirm-email`,{userId:n,token:e}).pipe(rt(this.handleError.bind(this)))}handleError(n){console.error("AuthService Error Details:",{status:n.status,statusText:n.statusText,url:n.url,errorBody:n.error,message:n.message,timestamp:new Date().toISOString(),fullError:n});let e="\u062D\u062F\u062B \u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u062A\u0648\u0642\u0639";return n.error instanceof ErrorEvent?e="\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645":n.status===0?e="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645. \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u062A\u0635\u0627\u0644\u0643 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A":n.status===400?e="\u0628\u064A\u0627\u0646\u0627\u062A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062F\u062E\u0644\u0629":n.status===401?e="\u063A\u064A\u0631 \u0645\u0635\u0631\u062D \u0644\u0643 \u0628\u0627\u0644\u0648\u0635\u0648\u0644":n.status===404?e="\u0627\u0644\u0645\u0648\u0631\u062F \u0627\u0644\u0645\u0637\u0644\u0648\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F":n.status===429?e="\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0644\u0628\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u0642\u0644\u064A\u0644\u0627\u064B":n.status>=500?e="\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0628\u0639\u062F \u0642\u0644\u064A\u0644":n.error&&typeof n.error=="string"&&n.error.includes("<!doctype")&&(e="\u0627\u0644\u062E\u0627\u062F\u0645 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D \u062D\u0627\u0644\u064A\u0627\u064B"),Jn(()=>({message:e,originalError:n}))}resetPassword(n){let e=new gn({"Content-Type":"application/json"});return this.httpClient.post(`${this.apiUrl}/api/Account/ResetPassword`,n,{headers:e}).pipe(B(r=>(console.log("Reset Password API Response:",{response:r,timestamp:new Date().toISOString()}),{success:r.Success??r.success??!0,message:r.Message||r.message||"\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0628\u0646\u062C\u0627\u062D",data:r.Data||r.data,errors:r.Errors||r.errors})),rt(this.handleError.bind(this)))}forgotPassword(n){let e=new gn({"Content-Type":"application/json"});return this.httpClient.post(`${this.apiUrl}/api/Account/ForgotPassword/${encodeURIComponent(n.email)}`,{},{headers:e}).pipe(B(r=>(console.log("Forgot Password API Response:",{response:r,timestamp:new Date().toISOString()}),{success:r.Success??r.success??!0,message:r.Message||r.message||"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0628\u0646\u062C\u0627\u062D",data:r.Data||r.data,errors:r.Errors||r.errors})),rt(this.handleError.bind(this)))}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var mf=class t{constructor(n,e,r){this.route=n;this.authService=e;this.router=r}ngOnInit(){let n=this.route.snapshot.queryParamMap.get("userId"),e=this.route.snapshot.queryParamMap.get("token");n&&e?this.authService.confirmEmail(n,e).subscribe({next:()=>this.router.navigate(["/confirm-email-success"]),error:()=>this.router.navigate(["/confirm-email-failed"])}):this.router.navigate(["/confirm-email-failed"])}static \u0275fac=function(e){return new(e||t)(C(Ve),C(Mi),C(se))};static \u0275cmp=k({type:t,selectors:[["app-confirm-email"]],decls:14,vars:0,consts:[[1,"confirm-email-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"confirm-card"],[1,"confirm-content"],[1,"loading-icon"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"confirm-title"],[1,"confirm-message"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"div",1)(2,"div"),re(3,"img",2),L()(),R(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),f(9,"Loading..."),L()()(),R(10,"h2",8),f(11,"\u062C\u0627\u0631\u064A \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),L(),R(12,"p",9),f(13,"\u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u0628\u064A\u0646\u0645\u0627 \u0646\u0642\u0648\u0645 \u0628\u062A\u0623\u0643\u064A\u062F \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A..."),L()()()())},styles:[".confirm-email-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;direction:rtl}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px}.confirm-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:450px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);text-align:center}.confirm-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.loading-icon[_ngcontent-%COMP%]{margin-bottom:10px}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3em}.text-primary[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#667eea!important}.confirm-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:24px;margin-bottom:10px}.confirm-message[_ngcontent-%COMP%]{color:#666;font-size:16px;line-height:1.6;margin:0}.visually-hidden[_ngcontent-%COMP%]{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}@media (max-width: 768px){.confirm-card[_ngcontent-%COMP%]{padding:30px 20px;margin:0 10px}.confirm-title[_ngcontent-%COMP%]{font-size:20px}.confirm-message[_ngcontent-%COMP%]{font-size:14px}}"]})};var vf=class t{constructor(n){this.router=n}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(C(se))};static \u0275cmp=k({type:t,selectors:[["app-confirm-email-success"]],decls:16,vars:0,consts:[[1,"confirm-email-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"confirm-card","success-card"],[1,"confirm-content"],[1,"success-icon"],[1,"checkmark-circle"],[1,"bi","bi-check-lg"],[1,"confirm-title","success-title"],[1,"confirm-message"],[1,"action-buttons"],["type","button",1,"btn","btn-primary","btn-login",3,"click"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"div",1)(2,"div"),re(3,"img",2),L()(),R(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),re(8,"i",7),L()(),R(9,"h2",8),f(10,"\u062A\u0645 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0628\u0646\u062C\u0627\u062D \u2713"),L(),R(11,"p",9),f(12,"\u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u0622\u0646 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u062D\u0633\u0627\u0628\u0643."),L(),R(13,"div",10)(14,"button",11),tt("click",function(){return r.navigateToLogin()}),f(15," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),L()()()()())},styles:[".confirm-email-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;direction:rtl}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px}.confirm-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:450px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);text-align:center}.success-card[_ngcontent-%COMP%]{border-top:4px solid #28a745}.confirm-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.success-icon[_ngcontent-%COMP%]{margin-bottom:10px}.checkmark-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#28a745,#20c997);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px #28a7454d;animation:_ngcontent-%COMP%_bounceIn .6s ease-out}.checkmark-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:36px;font-weight:700}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.confirm-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:24px;margin-bottom:10px}.success-title[_ngcontent-%COMP%]{color:#28a745}.confirm-message[_ngcontent-%COMP%]{color:#666;font-size:16px;line-height:1.6;margin:0}.action-buttons[_ngcontent-%COMP%]{margin-top:10px}.btn-login[_ngcontent-%COMP%]{padding:12px 30px;background:#2b2d2f;border:none;border-radius:8px;color:#fff;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block}.btn-login[_ngcontent-%COMP%]:hover{background:#212325;transform:translateY(-2px);box-shadow:0 10px 25px #2b2d2f4d;color:#fff}.btn-login[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.confirm-card[_ngcontent-%COMP%]{padding:30px 20px;margin:0 10px}.confirm-title[_ngcontent-%COMP%]{font-size:20px}.confirm-message[_ngcontent-%COMP%]{font-size:14px}.checkmark-circle[_ngcontent-%COMP%]{width:60px;height:60px}.checkmark-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}}"]})};var bf=class t{constructor(n){this.router=n}navigateToRegister(){this.router.navigate(["/register"])}navigateToHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||t)(C(se))};static \u0275cmp=k({type:t,selectors:[["app-confirm-email-failed"]],decls:18,vars:0,consts:[[1,"confirm-email-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"confirm-card","failed-card"],[1,"confirm-content"],[1,"error-icon"],[1,"error-circle"],[1,"bi","bi-x-lg"],[1,"confirm-title","error-title"],[1,"confirm-message"],[1,"action-buttons"],["type","button",1,"btn","btn-primary","btn-retry",3,"click"],["type","button",1,"btn","btn-secondary","btn-home",3,"click"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"div",1)(2,"div"),re(3,"img",2),L()(),R(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),re(8,"i",7),L()(),R(9,"h2",8),f(10,"\u0641\u0634\u0644 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u274C"),L(),R(11,"p",9),f(12,"\u0631\u0627\u0628\u0637 \u0627\u0644\u062A\u0623\u0643\u064A\u062F \u063A\u064A\u0631 \u0635\u062D\u064A\u062D \u0623\u0648 \u0645\u0646\u062A\u0647\u064A \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629."),L(),R(13,"div",10)(14,"button",11),tt("click",function(){return r.navigateToRegister()}),f(15," \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 "),L(),R(16,"button",12),tt("click",function(){return r.navigateToHome()}),f(17," \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),L()()()()())},styles:[".confirm-email-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;direction:rtl}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px}.confirm-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:450px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);text-align:center}.failed-card[_ngcontent-%COMP%]{border-top:4px solid #dc3545}.confirm-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.error-icon[_ngcontent-%COMP%]{margin-bottom:10px}.error-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#dc3545,#e74c3c);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px #dc35454d;animation:_ngcontent-%COMP%_shakeIn .6s ease-out}.error-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:36px;font-weight:700}@keyframes _ngcontent-%COMP%_shakeIn{0%{opacity:0;transform:scale(.3) rotate(-10deg)}50%{opacity:1;transform:scale(1.05) rotate(5deg)}70%{transform:scale(.9) rotate(-2deg)}to{opacity:1;transform:scale(1) rotate(0)}}.confirm-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:24px;margin-bottom:10px}.error-title[_ngcontent-%COMP%]{color:#dc3545}.confirm-message[_ngcontent-%COMP%]{color:#666;font-size:16px;line-height:1.6;margin:0}.action-buttons[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:15px;flex-wrap:wrap;justify-content:center}.btn[_ngcontent-%COMP%]{padding:12px 25px;border:none;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block;min-width:120px}.btn-retry[_ngcontent-%COMP%]{background:#2b2d2f;color:#fff}.btn-retry[_ngcontent-%COMP%]:hover{background:#212325;transform:translateY(-2px);box-shadow:0 10px 25px #2b2d2f4d;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px);box-shadow:0 10px 25px #6c757d4d;color:#fff}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.confirm-card[_ngcontent-%COMP%]{padding:30px 20px;margin:0 10px}.confirm-title[_ngcontent-%COMP%]{font-size:20px}.confirm-message[_ngcontent-%COMP%]{font-size:14px}.error-circle[_ngcontent-%COMP%]{width:60px;height:60px}.error-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};function kx(){return t=>{let n=t.get("newPassword")?.value,e=t.get("confirmPassword")?.value;return!n||!e||n===e?null:{passwordMismatch:!0}}}function PA(t,n){t&1&&v(0,"i",11)}function OA(t,n){t&1&&v(0,"i",12)}function AA(t,n){if(t&1&&(c(0,"div",13),f(1),u()),t&2){let e=w();d(),y(e.newPasswordError())}}function TA(t,n){t&1&&v(0,"i",11)}function kA(t,n){t&1&&v(0,"i",12)}function NA(t,n){if(t&1&&(c(0,"div",13),f(1),u()),t&2){let e=w();d(),y(e.confirmPasswordError())}}function RA(t,n){t&1&&(c(0,"div",16),f(1," \u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u062A\u0637\u0627\u0628\u0642\u0629 "),u())}function FA(t,n){if(t&1&&(c(0,"div",16),f(1),u()),t&2){let e=w();d(),D(" ",e.errorMessage()," ")}}function LA(t,n){t&1&&(v(0,"span",18),f(1," \u062C\u0627\u0631\u064A \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u0639\u064A\u064A\u0646... "))}function jA(t,n){t&1&&f(0," \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 ")}var Nx=".reset-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;padding:20px;font-family:Almarai}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.reset-password-card[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:20px 20px 20px 20px #0000001a;padding:40px;width:100%;max-width:450px;text-align:center}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:28px;font-weight:600}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px;line-height:1.5}.reset-password-form[_ngcontent-%COMP%]{text-align:right}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;text-align:right}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.password-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-control[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 15px;border:2px solid #e1e5e9;border-radius:10px;font-size:16px;transition:all .3s ease;background:#f8f9fa}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#f5f5f5;background:#fff;box-shadow:0 0 0 3px #667eea1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:15px;background:none;border:none;color:#666;cursor:pointer;padding:5px;border-radius:5px;transition:color .3s ease}.password-toggle[_ngcontent-%COMP%]:hover{color:#333}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;margin-top:5px;text-align:right}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:15px;background:#171819;border:none;border-radius:5px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;margin-top:10px}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 20px #23242b4d}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.alert[_ngcontent-%COMP%]{border-radius:10px;padding:15px;margin-top:20px;text-align:right}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (max-width: 768px){.reset-password-card[_ngcontent-%COMP%]{padding:30px 20px;margin:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}",yf=class t{fb=M(Ci);route=M(Ve);router=M(se);auth=M(Mi);showNewPassword=he(!1);showConfirmPassword=he(!1);submitting=he(!1);errorMessage=he("");userId="";token="";form=this.fb.nonNullable.group({newPassword:["",[Re.required,Re.minLength(8)]],confirmPassword:["",Re.required]},{validators:kx()});newPasswordError=Me(()=>{let n=this.form.get("newPassword");if(n?.errors&&n.touched){if(n.errors.required)return"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629";if(n.errors.minlength)return"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 8 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644"}return""});confirmPasswordError=Me(()=>{let n=this.form.get("confirmPassword");return n?.errors&&n.touched&&n.errors.required?"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628":""});constructor(){this.route.queryParamMap.subscribe(n=>{this.userId=n.get("userId")??"",this.token=n.get("token")??"",(!this.userId||!this.token)&&this.router.navigate(["/reset-password-failed"],{state:{reason:"Missing or invalid token"}})})}toggleNewPasswordVisibility(){this.showNewPassword.update(n=>!n)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(n=>!n)}submit(){if(this.form.invalid||!this.userId||!this.token){this.form.markAllAsTouched();return}this.submitting.set(!0),this.errorMessage.set("");let{newPassword:n,confirmPassword:e}=this.form.getRawValue();this.auth.resetPassword({userId:this.userId,token:decodeURIComponent(this.token),newPassword:n,confirmPassword:e}).subscribe({next:r=>{if(console.log("Reset Password Success Response:",r),this.submitting.set(!1),r.success!==!1)this.router.navigate(["/reset-password-success"]);else{let i=r.message||r.errors?.[0]||"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631";this.errorMessage.set(i)}},error:r=>{this.submitting.set(!1),console.error("Reset password error details:",{error:r,status:r?.status,message:r?.message,errorObject:r?.error,timestamp:new Date().toISOString()});let i="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.";r?.status===400?i="\u0628\u064A\u0627\u0646\u0627\u062A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629 \u0623\u0648 \u0627\u0646\u062A\u0647\u062A \u0635\u0644\u0627\u062D\u064A\u0629 \u0627\u0644\u0631\u0627\u0628\u0637. \u064A\u0631\u062C\u0649 \u0637\u0644\u0628 \u0631\u0627\u0628\u0637 \u062C\u062F\u064A\u062F.":r?.status===429?i="\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u0642\u0644\u064A\u0644\u0627\u064B \u062B\u0645 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.":r?.status===500||r?.status>=500?i="\u062E\u0637\u0623 \u0645\u0624\u0642\u062A \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0628\u0639\u062F \u0642\u0644\u064A\u0644.":r?.status===0&&(i="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645. \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u062A\u0635\u0627\u0644\u0643 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A."),this.errorMessage.set(i)}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-reset-password"]],decls:35,vars:17,consts:[[1,"reset-password-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"reset-password-card"],[1,"header"],[1,"reset-password-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","newPassword",1,"form-label"],[1,"password-input-container"],["id","newPassword","formControlName","newPassword","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629",1,"form-control",3,"type"],["type","button",1,"password-toggle",3,"click"],[1,"bi","bi-eye-slash"],[1,"bi","bi-eye"],[1,"invalid-feedback"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword","placeholder","\u0623\u0639\u062F \u0625\u062F\u062E\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629",1,"form-control",3,"type"],["role","alert",1,"alert","alert-danger","mt-3"],["type","submit",1,"btn","btn-submit",3,"disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,r){e&1&&(v(0,"head"),c(1,"div",0)(2,"div",1)(3,"div"),v(4,"img",2),u()(),c(5,"div",3)(6,"div",4)(7,"h2"),f(8,"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),u(),c(9,"p"),f(10,"\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"),u()(),c(11,"form",5),E("ngSubmit",function(){return r.submit()}),c(12,"div",6)(13,"label",7),f(14,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"),u(),c(15,"div",8),v(16,"input",9),c(17,"button",10),E("click",function(){return r.toggleNewPasswordVisibility()}),z(18,PA,1,0,"i",11)(19,OA,1,0,"i",12),u()(),z(20,AA,2,1,"div",13),u(),c(21,"div",6)(22,"label",14),f(23,"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),u(),c(24,"div",8),v(25,"input",15),c(26,"button",10),E("click",function(){return r.toggleConfirmPasswordVisibility()}),z(27,TA,1,0,"i",11)(28,kA,1,0,"i",12),u()(),z(29,NA,2,1,"div",13),u(),z(30,RA,2,0,"div",16),z(31,FA,2,1,"div",16),c(32,"button",17),z(33,LA,2,0)(34,jA,1,0),u()()()()),e&2&&(d(11),m("formGroup",r.form),d(5),W("is-invalid",r.newPasswordError()),m("type",r.showNewPassword()?"text":"password"),d(),fn("aria-label",r.showNewPassword()?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),d(),G(r.showNewPassword()?18:19),d(2),G(r.newPasswordError()?20:-1),d(5),W("is-invalid",r.confirmPasswordError()),m("type",r.showConfirmPassword()?"text":"password"),d(),fn("aria-label",r.showConfirmPassword()?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),d(),G(r.showConfirmPassword()?27:28),d(2),G(r.confirmPasswordError()?29:-1),d(),G(r.form.touched&&(r.form.errors!=null&&r.form.errors.passwordMismatch)?30:-1),d(),G(r.errorMessage()?31:-1),d(),m("disabled",r.form.invalid||r.submitting()),d(),G(r.submitting()?33:34))},dependencies:[Y,_i,vr,Ke,st,mr,Gr,qr],styles:[Nx,Nx]})};var Rx=".success-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;padding:20px;font-family:Almarai}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.success-card[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:20px 20px 20px 20px #0000001a;padding:40px;width:100%;max-width:450px;text-align:center}.success-icon[_ngcontent-%COMP%]{margin-bottom:20px}.success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#28a745}.success-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:24px;font-weight:600}.success-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px;line-height:1.5}.btn-login[_ngcontent-%COMP%]{width:100%;padding:15px;background:#171819;border:none;border-radius:5px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px #2f30384d}@media (max-width: 768px){.success-card[_ngcontent-%COMP%]{padding:30px 20px;margin:20px}.success-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.success-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}",Cf=class t{router=M(se);goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-reset-password-success"]],decls:15,vars:0,consts:[[1,"success-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"success-card"],[1,"success-icon"],[1,"bi","bi-check-circle-fill"],[1,"success-content"],[1,"btn","btn-login",3,"click"]],template:function(e,r){e&1&&(re(0,"head"),R(1,"div",0)(2,"div",1)(3,"div"),re(4,"img",2),L()(),R(5,"div",3)(6,"div",4),re(7,"i",5),L(),R(8,"div",6)(9,"h1"),f(10,"\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0628\u0646\u062C\u0627\u062D \u{1F389}"),L(),R(11,"p"),f(12,"\u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u0622\u0646 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"),L(),R(13,"button",7),tt("click",function(){return r.goToLogin()}),f(14," \u0627\u0644\u0630\u0647\u0627\u0628 \u0625\u0644\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),L()()()())},dependencies:[Y],styles:[Rx,Rx]})};var Fx=".failed-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;padding:20px;font-family:Almarai}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.failed-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:20px 20px 20px 20px #0000001a;padding:40px;width:100%;max-width:450px;text-align:center}.failed-icon[_ngcontent-%COMP%]{margin-bottom:20px}.failed-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#dc3545}.failed-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:24px;font-weight:600}.failed-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px;line-height:1.5}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.btn-retry[_ngcontent-%COMP%]{width:100%;padding:15px;background:#171819;border:none;border-radius:5px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-retry[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px #2e2f354d}.btn-login[_ngcontent-%COMP%]{width:100%;padding:15px;background:transparent;border:2px solid black;border-radius:10px;color:#000;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover{background:#595c60;color:#fff;transform:translateY(-2px)}@media (max-width: 768px){.failed-card[_ngcontent-%COMP%]{padding:30px 20px;margin:20px}.failed-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.failed-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}",_f=class t{router=M(se);reason=history.state?.reason;goToForgotPassword(){this.router.navigate(["/forgot-password"])}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-reset-password-failed"]],decls:18,vars:1,consts:[[1,"failed-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"failed-card"],[1,"failed-icon"],[1,"bi","bi-x-circle-fill"],[1,"failed-content"],[1,"action-buttons"],[1,"btn","btn-retry",3,"click"],[1,"btn","btn-login",3,"click"]],template:function(e,r){e&1&&(re(0,"head"),R(1,"div",0)(2,"div",1)(3,"div"),re(4,"img",2),L()(),R(5,"div",3)(6,"div",4),re(7,"i",5),L(),R(8,"div",6)(9,"h1"),f(10,"\u0641\u0634\u0644 \u0641\u064A \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),L(),R(11,"p"),f(12),L(),R(13,"div",7)(14,"button",8),tt("click",function(){return r.goToForgotPassword()}),f(15," \u0637\u0644\u0628 \u0631\u0627\u0628\u0637 \u0622\u062E\u0631 "),L(),R(16,"button",9),tt("click",function(){return r.goToLogin()}),f(17," \u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),L()()()()()),e&2&&(d(12),y(r.reason||"\u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0623\u0648 \u0637\u0644\u0628 \u0631\u0627\u0628\u0637 \u062C\u062F\u064A\u062F."))},dependencies:[Y],styles:[Fx,Fx]})};function VA(t,n){if(t&1&&(c(0,"div",9),f(1),u()),t&2){let e=w();d(),y(e.emailError())}}function BA(t,n){t&1&&(v(0,"span",15),f(1," \u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644... "))}function UA(t,n){t&1&&f(0," \u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u0639\u064A\u064A\u0646 ")}function HA(t,n){t&1&&(c(0,"div",11),f(1," \u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0625\u0644\u0649 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A "),u())}function $A(t,n){if(t&1&&(c(0,"div",12),f(1),u()),t&2){let e=w();d(),D(" ",e.errorMessage()," ")}}var Lx=".forgot-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;padding:20px;font-family:Almarai}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.forgot-password-card[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:20px 20px 20px 20px #0000001a;padding:40px;width:100%;max-width:450px;text-align:center}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:28px;font-weight:600}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px;line-height:1.5}.forgot-password-form[_ngcontent-%COMP%]{text-align:right}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;text-align:right}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #e1e5e9;border-radius:10px;font-size:16px;transition:all .3s ease;background:#f8f9fa}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#f5f5f5;background:#fff;box-shadow:0 0 0 3px #667eea1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;margin-top:5px;text-align:right}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:15px;background:#171819;border:none;border-radius:5px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;margin-top:10px}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 20px #292b334d}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.alert[_ngcontent-%COMP%]{border-radius:10px;padding:15px;margin-top:20px;text-align:right}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;border:1px solid #c3e6cb;color:#155724}.alert-warning[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeaa7;color:#856404;text-align:right}.alert-warning[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c5a00}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.alert-content[_ngcontent-%COMP%]{text-align:right}.alert-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{line-height:1.6;color:#5a1a20}.alert-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#721c24}.back-to-login[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.link-button[_ngcontent-%COMP%]{background:none;border:none;color:#000;text-decoration:underline;cursor:pointer;font-size:14px;transition:color .3s ease}.link-button[_ngcontent-%COMP%]:hover{color:#333}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (max-width: 768px){.forgot-password-card[_ngcontent-%COMP%]{padding:30px 20px;margin:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}",xf=class t{router=M(se);fb=M(Ci);authService=M(Mi);isSubmitting=he(!1);isEmailSent=he(!1);errorMessage=he("");forgotPasswordForm=this.fb.group({email:["",[Re.required,Re.email]]});ngOnInit(){}emailError=Me(()=>{let n=this.forgotPasswordForm.get("email");if(n?.errors&&n.touched){if(n.errors.required)return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u0637\u0644\u0648\u0628";if(n.errors.email)return"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D"}return""});onSubmit(){if(this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}this.isSubmitting.set(!0),this.errorMessage.set("");let n=this.forgotPasswordForm.value.email;this.authService.forgotPassword({email:n}).subscribe({next:e=>{if(console.log("Forgot Password Success Response:",e),this.isSubmitting.set(!1),e.success!==!1)this.isEmailSent.set(!0),this.forgotPasswordForm.reset(),this.errorMessage.set(""),setTimeout(()=>{this.router.navigate(["/login"])},3e3);else{let r=e.message||e.errors?.[0]||"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628";this.errorMessage.set(r)}},error:e=>{this.isSubmitting.set(!1),console.error("Forgot password error details:",{error:e,status:e?.status,message:e?.message,errorObject:e?.error,timestamp:new Date().toISOString()});let r="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.";e?.status===400?r="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D \u0623\u0648 \u063A\u064A\u0631 \u0645\u0633\u062C\u0644 \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645.":e?.status===429?r="\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u0642\u0644\u064A\u0644\u0627\u064B \u062B\u0645 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.":e?.status===500||e?.status>=500?r="\u062E\u0637\u0623 \u0645\u0624\u0642\u062A \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0628\u0639\u062F \u0642\u0644\u064A\u0644.":e?.status===0&&(r="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645. \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u062A\u0635\u0627\u0644\u0643 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A."),this.errorMessage.set(r)}})}onBackToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-forgot-password"]],decls:25,vars:8,consts:[[1,"forgot-password-container"],[1,"logo-container"],["src","/icons/logo.svg","alt","Logo","width","40","height","40",1,"me-2"],[1,"forgot-password-card"],[1,"header"],[1,"forgot-password-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","placeholder","\u0623\u062F\u062E\u0644 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",1,"form-control"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-submit",3,"disabled"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],[1,"back-to-login"],["type","button",1,"link-button",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,r){e&1&&(v(0,"head"),c(1,"div",0)(2,"div",1)(3,"div"),v(4,"img",2),u()(),c(5,"div",3)(6,"div",4)(7,"h2"),f(8,"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),u(),c(9,"p"),f(10,"\u0623\u062F\u062E\u0644 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0648\u0633\u0646\u0631\u0633\u0644 \u0644\u0643 \u0631\u0627\u0628\u0637\u0627\u064B \u0644\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),u()(),c(11,"form",5),E("ngSubmit",function(){return r.onSubmit()}),c(12,"div",6)(13,"label",7),f(14,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),u(),v(15,"input",8),z(16,VA,2,1,"div",9),u(),c(17,"button",10),z(18,BA,2,0)(19,UA,1,0),u(),z(20,HA,2,0,"div",11),z(21,$A,2,1,"div",12),u(),c(22,"div",13)(23,"button",14),E("click",function(){return r.onBackToLogin()}),f(24," \u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),u()()()()),e&2&&(d(11),m("formGroup",r.forgotPasswordForm),d(4),W("is-invalid",r.emailError()),d(),G(r.emailError()?16:-1),d(),m("disabled",r.isSubmitting()||!r.forgotPasswordForm.valid),d(),G(r.isSubmitting()?18:19),d(2),G(r.isEmailSent()?20:-1),d(),G(r.errorMessage()?21:-1))},dependencies:[Y,_i,vr,Ke,st,mr,Gr,qr],styles:[Lx,Lx]})};var zA=t=>["/MainFilterContainer",t],GA=(t,n)=>n.Id;function qA(t,n){if(t&1&&(c(0,"div",3)(1,"a",4),f(2),u()()),t&2){let e=n.$implicit;d(),m("routerLink",_e(2,zA,e.Id)),d(),D(" ",e.Name)}}var wf=class t{constructor(n){this.categoryService=n}breadcrumbs=[{name:"\u0627\u0644\u0623\u0642\u0633\u0627\u0645",path:"/AllCategories"}];parentCategories=[];ngOnInit(){this.loadParentCategories()}loadParentCategories(){this.categoryService.getAllParentCategoriesWithSubCounts().subscribe({next:n=>{this.parentCategories=n.data.filter(e=>!e.parentCategoryId||e.parentCategoryId===0).map(e=>({Id:e.id,Name:e.name,IsActive:e.isActive,SubCategoriesCount:0}))},error:n=>{console.error("Error loading parent categories:",n)}})}static \u0275fac=function(e){return new(e||t)(C(rn))};static \u0275cmp=k({type:t,selectors:[["app-all-categories"]],decls:5,vars:1,consts:[["id","mainContainer"],[3,"Navcrumbs"],["id","CategoriesContainer"],[1,"CategoryName"],["routerLinkActive","active",3,"routerLink"]],template:function(e,r){e&1&&(c(0,"div",0),v(1,"app-nav-crumb",1),c(2,"div",2),X(3,qA,3,4,"div",3,GA),u()()),e&2&&(d(),m("Navcrumbs",r.breadcrumbs),d(2),ee(r.parentCategories))},dependencies:[lt,de,Et],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}#mainContainer[_ngcontent-%COMP%]{margin-top:5rem;padding:1rem}#CategoriesContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-top:2rem}.CategoryName[_ngcontent-%COMP%]{background-color:#fff;border-radius:.3rem;box-shadow:1px 1px 4px #0000001a,-1px -1px 4px #0000001a;padding:1rem;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.CategoryName[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.CategoryName[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}@media (max-width: 1070px){#CategoriesContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){#CategoriesContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 460px){#CategoriesContainer[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function WA(t,n){if(t&1){let e=Q();c(0,"div",15),E("click",function(){let i=O(e).$implicit,o=w();return A(o.onStatClick(i))}),c(1,"div",16)(2,"i"),f(3),u(),c(4,"div",17),f(5),u()(),c(6,"div",18),f(7),u(),v(8,"div",19),u()}if(t&2){let e=n.$implicit;W("active",e.isActive),d(3),y(e.icon),d(2),y(e.label),d(2),y(e.value),d(),W("show",e.isActive)}}function YA(t,n){if(t&1&&(c(0,"div",20)(1,"div",21)(2,"h3"),f(3),u(),c(4,"p"),f(5),u()()()),t&2){let e=n.$implicit;m("hidden",!e.isActive),d(3),D("\u0645\u062D\u062A\u0648\u0649 \u0642\u0633\u0645 ",e.label),d(2),D("\u0647\u0646\u0627 \u0633\u064A\u062A\u0645 \u0639\u0631\u0636 \u0645\u062D\u062A\u0648\u0649 ",e.label)}}var Mf=class t{constructor(n){this.router=n}user={name:"Ahmed Abouelwafa",lastSeen:"\u0645\u0646\u0630 4 \u062B\u0648\u0627\u0646\u064A",isOnline:!0,profileImage:"assets/profile-avatar.png"};stats=[{label:"\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062A",value:3,icon:"\u{1F4CA}",isActive:!0},{label:"\u0637\u0644\u0628\u0627\u062A\u064A",value:0,icon:"\u{1F4E6}",isActive:!1,routerLink:"/orders"},{label:"\u062A\u0631\u0634\u064A\u062D\u0627\u062A\u064A",value:1,icon:"\u{1F3AF}",isActive:!1},{label:"\u0645\u0631\u0627\u062C\u0639\u0627\u062A\u064A",value:1,icon:"\u2B50",isActive:!1},{label:"\u0627\u0642\u062A\u0628\u0627\u0633\u0627\u062A\u064A",value:1,icon:"\u{1F4AC}",isActive:!1},{label:"\u064A\u062A\u0627\u0628\u0639\u0648\u0646\u064A",value:2,icon:"\u{1F465}",isActive:!1},{label:"\u0623\u062A\u0627\u0628\u0639\u0647\u0645",value:0,icon:"\u{1F464}",isActive:!1}];breadcrumbs=[{name:"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629",path:"/"},{name:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A",path:"/user-profile"}];onStatClick(n){if(n.routerLink){this.router.navigate([n.routerLink]);return}this.stats.forEach(e=>e.isActive=!1),n.isActive=!0}static \u0275fac=function(e){return new(e||t)(C(se))};static \u0275cmp=k({type:t,selectors:[["app-user-profile"]],decls:18,vars:9,consts:[[1,"pt-2","mt-5","mb-4"],[3,"Navcrumbs"],[1,"user-profile-container"],[1,"profile-header"],[1,"profile-avatar"],[3,"src","alt"],[1,"profile-info"],[1,"user-name"],[1,"user-status"],[1,"online-indicator"],[1,"last-seen"],[1,"member-duration"],[1,"stats-container"],["class","stat-item",3,"active","click",4,"ngFor","ngForOf"],["class","content-section",3,"hidden",4,"ngFor","ngForOf"],[1,"stat-item",3,"click"],[1,"d-flex","gap-2"],[1,"stat-label"],[1,"stat-value"],[1,"stat-underline"],[1,"content-section",3,"hidden"],[1,"section-content"]],template:function(e,r){e&1&&(c(0,"div",0),v(1,"app-nav-crumb",1),u(),c(2,"div",2)(3,"div",3)(4,"div",4),v(5,"img",5),u(),c(6,"div",6)(7,"h1",7),f(8),u(),c(9,"div",8),v(10,"span",9),c(11,"span",10),f(12),u(),c(13,"span",11),f(14,"\u0639\u0636\u0648 \u0645\u0646\u0630 \u0623\u0633\u0628\u0648\u0639\u064A\u0646"),u()()()(),c(15,"div",12),Z(16,WA,9,7,"div",13),u(),Z(17,YA,6,3,"div",14),u()),e&2&&(d(),m("Navcrumbs",r.breadcrumbs),d(4),m("src","/icons/user.png",Ce)("alt",r.user.name),d(3),y(r.user.name),d(2),W("online",r.user.isOnline),d(2),y(r.user.lastSeen),d(4),m("ngForOf",r.stats),d(),m("ngForOf",r.stats))},dependencies:[Y,Tt,lt],styles:[".user-profile-container[_ngcontent-%COMP%]{background:#fff;border-radius:0;padding:0;box-shadow:none;max-width:none;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;direction:rtl}.profile-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:#f8f9fa;border-bottom:1px solid #e9ecef;gap:20px}.profile-info[_ngcontent-%COMP%]{flex-grow:1}.user-name[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1a1a1a;margin:0 0 8px}.user-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666;font-size:13px}.online-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background-color:#28a745}.profile-avatar[_ngcontent-%COMP%]{position:relative}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:115px;height:115px;border:4px solid white;outline:4px solid #ffad56;border-radius:50%;box-shadow:0 2px 8px #0000001a;object-fit:cover;transition:all 2s ease}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{border:0;outline:0}.stats-container[_ngcontent-%COMP%]{display:flex;background:#fff;border-bottom:1px solid #e9ecef;overflow-x:auto}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex:1;padding:16px 12px;text-align:center;cursor:pointer;position:relative;transition:all .2s ease;border-bottom:3px solid transparent}.stat-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.stat-item.active[_ngcontent-%COMP%]{border-bottom-color:#dc3545;background-color:#fff}.stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1a1a1a;margin-bottom:4px;line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#666;white-space:nowrap}.stat-item.active[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .stat-item.active[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#dc3545}.content-section[_ngcontent-%COMP%]{padding:24px;background:#fff;min-height:200px}.section-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1a1a1a;font-size:18px;font-weight:600;margin-bottom:12px}.section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;line-height:1.5}.last-seen[_ngcontent-%COMP%], .member-duration[_ngcontent-%COMP%]{font-size:13px;color:#666}@keyframes _ngcontent-%COMP%_pulse{}.online-indicator.online[_ngcontent-%COMP%]:before{display:none}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:16px;padding:16px}.user-name[_ngcontent-%COMP%]{font-size:20px}.stats-container[_ngcontent-%COMP%]{flex-wrap:wrap}.stat-item[_ngcontent-%COMP%]{min-width:80px;padding:12px 8px}.stat-value[_ngcontent-%COMP%]{font-size:16px}.stat-label[_ngcontent-%COMP%]{font-size:11px}}"]})};var QA=t=>({followed:t}),jx=t=>({active:t}),ZA=t=>["/authors",t],Vx=(t,n)=>n.id;function KA(t,n){if(t&1&&v(0,"img",2),t&2){let e=w();m("alt",$t("",e.publisher.name," logo"))("src",e.getCoverImageUrl(e.publisher.logoUrl),Ce)}}function JA(t,n){t&1&&v(0,"i",3)}function XA(t,n){t&1&&(c(0,"span"),v(1,"i",16),u())}function eT(t,n){t&1&&(c(0,"span"),v(1,"i",17),u())}function tT(t,n){if(t&1&&v(0,"app-book-card",19),t&2){let e=n.$implicit;m("book",e)}}function nT(t,n){if(t&1){let e=Q();c(0,"div",18),X(1,tT,1,1,"app-book-card",19,Vx),u(),c(3,"div",20)(4,"app-pagination",21),E("PageChanged",function(i){O(e);let o=w(2);return A(o.GetNewPage(i))}),u()()}if(t&2){let e=w(2);d(),ee(e.Books),d(3),m("CurrentPage",e.currentPage)("TotalPages",e.totalPages)}}function rT(t,n){if(t&1&&(c(0,"div",15),z(1,nT,5,2),u()),t&2){let e=w();d(),G(e.Books.length!=0?1:-1)}}function iT(t,n){if(t&1&&v(0,"img",26),t&2){let e=w().$implicit,r=w(3);m("src",r.getCoverImageUrl(e.imageUrl),Ce)}}function oT(t,n){t&1&&v(0,"i",27)}function sT(t,n){if(t&1&&(c(0,"div",25)(1,"div"),z(2,iT,1,1,"img",26)(3,oT,1,0,"i",27),c(4,"a",28),f(5),u()(),c(6,"p"),f(7),u()()),t&2){let e=n.$implicit,r=w(3);d(2),G(e&&r.getCoverImageUrl(e.imageUrl)?2:3),d(2),m("routerLink",_e(4,ZA,e.id)),d(),D(" ",e.name," "),d(2),y(e.bio)}}function aT(t,n){if(t&1&&X(0,sT,8,6,"div",25,Vx),t&2){let e=w(2);ee(e.Authors)}}function lT(t,n){if(t&1){let e=Q();c(0,"div",22)(1,"div",23),z(2,aT,2,0),u()(),c(3,"div",24)(4,"app-pagination",21),E("PageChanged",function(i){O(e);let o=w();return A(o.GetNewPageAuthor(i))}),u()()}if(t&2){let e=w();d(2),G(e.Authors.length!=0?2:-1),d(2),m("CurrentPage",e.AuthorcurrentPage)("TotalPages",e.AuthortotalPages)}}var Ef=class t{constructor(n,e,r){this.publisherServices=n;this.BookServices=e;this.route=r}publisher;publisherId=1;PublisherFollowerCount=0;BookRelatedToPublisherCount=0;AuthorsRelatedToPublisherCount=0;isFollowing=!1;userId=5;Books=[];currentPage=1;pageSize=12;totalPages=1;totalCount=0;Authors=[];AuthorcurrentPage=1;AuthorpageSize=12;AuthortotalPages=1;AuthortotalCount=0;ngOnInit(){this.route.paramMap.subscribe(n=>{let e=n.get("id");e&&(this.publisherId=+e,this.GetPublisher(this.publisherId)),this.getBooksPublisherId(),this.getAuthorsRelatedToPublisher(this.AuthorcurrentPage,this.AuthorpageSize)})}GetPublisher(n){this.publisherServices.getPublisherById(n).subscribe({next:e=>{this.publisher=e.data,this.publisherId=e.data.id,this.publisherServices.getPublisherFollowerCount(e.data.id).subscribe({next:r=>{this.PublisherFollowerCount=r.data.followerCount},error:r=>{console.error("API error:",r),console.log("error to fetch data")}}),this.isFollow()},error:e=>{console.error("API error:",e),console.log("error to fetch data")}})}isFollow(){this.publisherServices.isFollowPublisher(this.userId,this.publisherId).subscribe({next:n=>{this.isFollowing=n.data.isFollow,console.log(n.data.isFollow)},error:n=>{console.error("API error:",n),console.log("error to fetch data")}})}toggleFollow(){this.isFollowing?this.publisherServices.unfollowPublisher(this.userId,this.publisherId).subscribe({next:n=>{this.isFollowing=!1,this.PublisherFollowerCount--},error:n=>{console.error("Failed to unfollow",n)}}):this.publisherServices.followPublisher(this.userId,this.publisherId).subscribe({next:n=>{this.isFollowing=!0,this.PublisherFollowerCount++},error:n=>{console.error("Failed to follow",n)}})}getBooksPublisherId(){let n={CategoryIds:[],PageNumber:this.currentPage,PageSize:this.pageSize,SearchTerm:"",Language:null,PublisherIds:[this.publisherId],SortBy:0};this.BookServices.filterBooks(n).subscribe({next:e=>{e.succeeded?(this.Books=e.data,this.totalCount=e.totalCount,this.totalPages=e.totalPages,this.BookRelatedToPublisherCount=this.Books.length,console.log(this.Books)):(console.error("API returned error:",e.message),this.Books=[])},error:e=>{console.error("Error fetching books:",e),this.Books=[]}})}getAuthorsRelatedToPublisher(n=this.AuthorcurrentPage,e=this.AuthorpageSize){this.publisherServices.getAuthorRelatedToPublisher(this.publisherId,n,e).subscribe({next:r=>{r.succeeded&&(this.Authors=r.data,this.AuthortotalCount=r.totalCount,this.AuthortotalPages=r.totalPages,this.AuthorsRelatedToPublisherCount=r.data.length),console.log(r.data)},error:r=>{console.error("Error fetching books:",r),this.Books=[]}})}GetNewPage(n){this.currentPage=n,this.getBooksPublisherId()}GetNewPageAuthor(n){this.AuthorcurrentPage=n,this.getAuthorsRelatedToPublisher(this.AuthorcurrentPage,this.AuthorpageSize)}baseUrl="https://localhost:7207";getCoverImageUrl(n){return n?n.startsWith("/uploads")?this.baseUrl+n:n:null}activeSection="books";showBooks(){this.activeSection="books"}showAuthors(){this.activeSection="authors"}static \u0275fac=function(e){return new(e||t)(C(ks),C(nn),C(Ve))};static \u0275cmp=k({type:t,selectors:[["app-publisher"]],decls:38,vars:19,consts:[["id","mainContainer"],["id","publisherData"],[3,"src","alt"],["id","AlternativeImage",1,"fa-solid","fa-circle-user"],["id","Fcontainer"],["id","followBtn",3,"click","ngClass"],["id","publisherInfo"],["id","btns"],["id","BooksBtn",1,"btn",3,"click","ngClass"],[1,"fa-solid","fa-book-open"],[1,"vertical-separator"],["id","AuthorsBtn",1,"btn",3,"click","ngClass"],[1,"fa-solid","fa-user-group"],[1,"btn"],[1,"fa-solid","fa-users"],["id","booksContainer"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-check"],[1,"books"],[3,"book"],[1,"books-pagination"],[3,"PageChanged","CurrentPage","TotalPages"],["id","AuthorsBigContainer"],["id","AuthorsContainer"],[1,"Authors-pagination"],[1,"Authors"],["id","AuthorImage",3,"src"],["id","AlternativeAuthorImage",1,"fa-solid","fa-circle-user"],["routerLinkActive","true",3,"routerLink"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1),z(2,KA,1,3,"img",2)(3,JA,1,0,"i",3),c(4,"div",4)(5,"h3"),f(6),u(),c(7,"p"),f(8),u(),c(9,"button",5),E("click",function(){return r.toggleFollow()}),c(10,"span"),f(11),u(),z(12,XA,2,0,"span")(13,eT,2,0,"span"),u()()(),c(14,"div",6)(15,"div",7)(16,"button",8),E("click",function(){return r.showBooks()}),c(17,"span"),v(18,"i",9),f(19," \u0627\u0644\u0643\u062A\u0628 "),u(),c(20,"span"),f(21),u()(),v(22,"hr",10),c(23,"button",11),E("click",function(){return r.showAuthors()}),c(24,"span"),v(25,"i",12),f(26," \u0627\u0644\u0645\u0624\u0644\u0641\u0648\u0646 "),u(),c(27,"span"),f(28),u()(),v(29,"hr",10),c(30,"button",13)(31,"span"),v(32,"i",14),f(33," \u064A\u062A\u0627\u0628\u0639\u0648\u0646\u0646\u064A "),u(),c(34,"span"),f(35),u()()(),z(36,rT,2,1,"div",15),z(37,lT,5,3),u()()),e&2&&(d(2),G(r.publisher&&r.getCoverImageUrl(r.publisher.logoUrl)?2:3),d(4),y(r.publisher==null?null:r.publisher.name),d(2),y(r.publisher==null?null:r.publisher.description),d(),m("ngClass",_e(13,QA,r.isFollowing)),d(2),y(r.isFollowing?"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629":"\u0645\u062A\u0627\u0628\u0639\u0629"),d(),G(r.isFollowing?13:12),d(4),m("ngClass",_e(15,jx,r.activeSection==="books")),d(5),y(r.BookRelatedToPublisherCount),d(2),m("ngClass",_e(17,jx,r.activeSection==="authors")),d(5),y(r.AuthorsRelatedToPublisherCount),d(7),y(r.PublisherFollowerCount),d(),G(r.activeSection==="books"?36:-1),d(),G(r.activeSection==="authors"?37:-1))},dependencies:[yr,Cr,Y,Gt,de,Et],styles:["#mainContainer[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}#publisherData[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;gap:2rem;box-shadow:1px 1px 4px #efeeee,-1px -1px 4px #efeeee;margin-top:7rem;margin-inline:.5rem;margin-bottom:3rem;margin-inline:1.3rem}#publisherData[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}#AlternativeImage[_ngcontent-%COMP%]{font-size:5rem}#Fcontainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700}#Fcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:large}#Fcontainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:700;color:#000;background-color:#b2bdc8;padding-inline:3.5rem;border-radius:7px;border:none}#followBtn.followed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border-color:#28a745}#followBtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}#followBtn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}#Fcontainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#76808b}#btns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;box-shadow:1px 1px 4px #efeeee,-1px -1px 4px #efeeee;padding-inline:1rem;padding:.3rem;margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:33%;display:flex;justify-content:space-between;align-items:center;flex-direction:row}.vertical-separator[_ngcontent-%COMP%]{transform:rotate(90deg);width:3rem;height:1px;background-color:#ccc}.btn.active[_ngcontent-%COMP%]{border:3px solid lightcoral}.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}#AuthorsBigContainer[_ngcontent-%COMP%]{margin:1rem;padding:1rem;box-shadow:1px 1px 1px #f0efef,-1px -1px 1px #f0efef}#AuthorsContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;width:100%}.Authors[_ngcontent-%COMP%]{padding:1rem;border-radius:7px;box-shadow:1px 1px 10px #dad9d9,-2px -2px 10px #dad9d9;display:flex;flex-direction:column;align-items:flex-start;width:100%;box-sizing:border-box}.Authors[_ngcontent-%COMP%]   #AuthorImage[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-bottom:.5rem}#AlternativeAuthorImage[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.5rem;color:#666}.Authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;padding:.3rem 0;font-weight:700;font-size:1rem;line-height:1.2}.Authors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#333;line-height:1.4;margin-top:.5rem;margin-bottom:0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;padding:0}.Authors-pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem;padding:0 1rem}@media (min-width: 1025px){#AuthorsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1.5rem}.Authors[_ngcontent-%COMP%]{padding:1.2rem}.Authors[_ngcontent-%COMP%]   #AuthorImage[_ngcontent-%COMP%]{width:45px;height:45px}}@media (max-width: 1024px) and (min-width: 769px){#AuthorsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.2rem}.Authors[_ngcontent-%COMP%]{padding:1rem}.Authors[_ngcontent-%COMP%]   #AuthorImage[_ngcontent-%COMP%]{width:40px;height:40px}.Authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.95rem}.Authors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 768px) and (min-width: 481px){#AuthorsBigContainer[_ngcontent-%COMP%]{margin:.8rem}#AuthorsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.Authors[_ngcontent-%COMP%]{padding:.8rem}.Authors[_ngcontent-%COMP%]   #AuthorImage[_ngcontent-%COMP%]{width:35px;height:35px}.Authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9rem}.Authors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;-webkit-line-clamp:2}}@media (max-width: 745px){#AuthorsBigContainer[_ngcontent-%COMP%]{margin:.5rem}#AuthorsContainer[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.8rem}.Authors[_ngcontent-%COMP%]{padding:1rem}.Authors-header[_ngcontent-%COMP%]{gap:1rem}.Authors[_ngcontent-%COMP%]   #AuthorImage[_ngcontent-%COMP%]{width:50px;height:50px}#AlternativeAuthorImage[_ngcontent-%COMP%]{font-size:3rem}.Authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}.Authors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;margin-top:.5rem;-webkit-line-clamp:2}}@media (max-width: 360px){#AuthorsBigContainer[_ngcontent-%COMP%]{margin:.3rem}#AuthorsContainer[_ngcontent-%COMP%]{gap:.6rem}.Authors[_ngcontent-%COMP%]{padding:.8rem}.Authors[_ngcontent-%COMP%]   #AuthorImage[_ngcontent-%COMP%]{width:45px;height:45px}.Authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9rem}.Authors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.books[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:20px;background-color:#f8f9fa;width:100%;padding:20px;box-sizing:border-box}app-book-card[_ngcontent-%COMP%]{display:block;background-color:#fff;box-shadow:0 2px 8px #0000001a;overflow:hidden;border-radius:12px;transition:transform .2s ease,box-shadow .2s ease;width:100%}app-book-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 20px #00000026}.books-pagination[_ngcontent-%COMP%], .Authors-pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0 20px}@media (max-width: 1450px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:7px}}@media (max-width: 1310px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:10px;padding:18px}}@media (max-width: 995px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:11px;padding:16px}app-book-card[_ngcontent-%COMP%]{border-radius:10px}.books-pagination[_ngcontent-%COMP%]{margin-top:30px}}@media (max-width: 768px){.books[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:11px;padding:16px}.books[_ngcontent-%COMP%]{min-height:100%}.books-pagination[_ngcontent-%COMP%]{margin-top:30px}}@media (max-width: 480px){.books[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;padding:12px}app-book-card[_ngcontent-%COMP%]{min-height:220px;border-radius:8px}.books-pagination[_ngcontent-%COMP%]{margin-top:25px}}@media (max-width: 360px){.books[_ngcontent-%COMP%]{gap:10px;padding:10px}app-book-card[_ngcontent-%COMP%]{min-height:200px}}"]})};var Bx={AD_DAQAHLIYAH:"\u0627\u0644\u062F\u0642\u0647\u0644\u064A\u0629",AL_BUHAYRAH:"\u0627\u0644\u0628\u062D\u064A\u0631\u0629",AL_GHARBIYAH:"\u0627\u0644\u063A\u0631\u0628\u064A\u0629",AL_ISKANDARIYAH:"\u0627\u0644\u0625\u0633\u0643\u0646\u062F\u0631\u064A\u0629",AL_ISMAILIA:"\u0627\u0644\u0625\u0633\u0645\u0627\u0639\u064A\u0644\u064A\u0629",AL_MINUFIYAH:"\u0627\u0644\u0645\u0646\u0648\u0641\u064A\u0629",AL_QALYUBIYAH:"\u0627\u0644\u0642\u0644\u064A\u0648\u0628\u064A\u0629",ASH_SHARQIYAH:"\u0627\u0644\u0634\u0631\u0642\u064A\u0629",DUMYAT:"\u062F\u0645\u064A\u0627\u0637",KAFR_ASH_SHAYKH:"\u0643\u0641\u0631 \u0627\u0644\u0634\u064A\u062E",AL_FAYYUM:"\u0627\u0644\u0641\u064A\u0648\u0645",AL_MINYA:"\u0627\u0644\u0645\u0646\u064A\u0627",ASYUT:"\u0623\u0633\u064A\u0648\u0637",SUHAJ:"\u0633\u0648\u0647\u0627\u062C",QINA:"\u0642\u0646\u0627",AL_UQSUR:"\u0627\u0644\u0623\u0642\u0635\u0631",ASWAN:"\u0623\u0633\u0648\u0627\u0646",BANI_SUWAYF:"\u0628\u0646\u064A \u0633\u0648\u064A\u0641",AL_QAHIRAH:"\u0627\u0644\u0642\u0627\u0647\u0631\u0629",AL_JIZAH:"\u0627\u0644\u062C\u064A\u0632\u0629",BUR_SAID:"\u0628\u0648\u0631\u0633\u0639\u064A\u062F",AS_SUWAYS:"\u0627\u0644\u0633\u0648\u064A\u0633",AL_BAHR_AL_AHMAR:"\u0627\u0644\u0628\u062D\u0631 \u0627\u0644\u0623\u062D\u0645\u0631",AL_WADI_AL_JADID:"\u0627\u0644\u0648\u0627\u062F\u064A \u0627\u0644\u062C\u062F\u064A\u062F",MATRUH:"\u0645\u0637\u0631\u0648\u062D",SHAMAL_SINA:"\u0634\u0645\u0627\u0644 \u0633\u064A\u0646\u0627\u0621",JANUB_SINA:"\u062C\u0646\u0648\u0628 \u0633\u064A\u0646\u0627\u0621"};var Ux={DOWNTOWN_CAIRO:"\u0648\u0633\u0637 \u0627\u0644\u0628\u0644\u062F",HELIOPOLIS_CAIRO:"\u0645\u0635\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629",NASR_CITY_CAIRO:"\u0645\u062F\u064A\u0646\u0629 \u0646\u0635\u0631",MAADI_CAIRO:"\u0627\u0644\u0645\u0639\u0627\u062F\u064A",NEW_CAIRO_FIFTH_SETTLEMENT:"\u0627\u0644\u062A\u062C\u0645\u0639 \u0627\u0644\u062E\u0627\u0645\u0633",GIZA_CENTER:"\u0627\u0644\u062C\u064A\u0632\u0629",SIXTH_OF_OCTOBER_GIZA:"6 \u0623\u0643\u062A\u0648\u0628\u0631",SHEIKH_ZAYED_GIZA:"\u0627\u0644\u0634\u064A\u062E \u0632\u0627\u064A\u062F",DOKKI_GIZA:"\u0627\u0644\u062F\u0642\u064A",MOHANDESSIN_GIZA:"\u0627\u0644\u0645\u0647\u0646\u062F\u0633\u064A\u0646",ALEXANDRIA_CENTER:"\u0627\u0644\u0625\u0633\u0643\u0646\u062F\u0631\u064A\u0629",MONTAZA_ALEXANDRIA:"\u0627\u0644\u0645\u0646\u062A\u0632\u0629",AMRIA_ALEXANDRIA:"\u0627\u0644\u0639\u0627\u0645\u0631\u064A\u0629",MANSOURA_DAQAHLIYAH:"\u0627\u0644\u0645\u0646\u0635\u0648\u0631\u0629",TALKHA_DAQAHLIYAH:"\u0637\u0644\u062E\u0627",TANTA_GHARBIYAH:"\u0637\u0646\u0637\u0627",BENHA_QALYUBIYAH:"\u0628\u0646\u0647\u0627",ZAGAZIG_SHARQIYAH:"\u0627\u0644\u0632\u0642\u0627\u0632\u064A\u0642",DAMANHUR_BUHAYRAH:"\u062F\u0645\u0646\u0647\u0648\u0631",KAFR_ASH_SHAYKH_CENTER:"\u0643\u0641\u0631 \u0627\u0644\u0634\u064A\u062E",DAMIETTA_CENTER:"\u062F\u0645\u064A\u0627\u0637",SHIBIN_AL_KOM_MINUFIYAH:"\u0634\u0628\u064A\u0646 \u0627\u0644\u0643\u0648\u0645",ISMAILIA_CENTER:"\u0627\u0644\u0625\u0633\u0645\u0627\u0639\u064A\u0644\u064A\u0629",SUEZ_CENTER:"\u0627\u0644\u0633\u0648\u064A\u0633",PORT_SAID_CENTER:"\u0628\u0648\u0631\u0633\u0639\u064A\u062F",FAYYUM_CENTER:"\u0627\u0644\u0641\u064A\u0648\u0645",BANI_SUEF_CENTER:"\u0628\u0646\u064A \u0633\u0648\u064A\u0641",MINYA_CENTER:"\u0627\u0644\u0645\u0646\u064A\u0627",ASYUT_CENTER:"\u0623\u0633\u064A\u0648\u0637",SOHAG_CENTER:"\u0633\u0648\u0647\u0627\u062C",QENA_CENTER:"\u0642\u0646\u0627",LUXOR_CENTER:"\u0627\u0644\u0623\u0642\u0635\u0631",ASWAN_CENTER:"\u0623\u0633\u0648\u0627\u0646",HURGHADA_RED_SEA:"\u0627\u0644\u063A\u0631\u062F\u0642\u0629",KHARGA_NEW_VALLEY:"\u0627\u0644\u062E\u0627\u0631\u062C\u0629",MARSA_MATRUH_CENTER:"\u0645\u0631\u0633\u0649 \u0645\u0637\u0631\u0648\u062D",ARISH_NORTH_SINAI:"\u0627\u0644\u0639\u0631\u064A\u0634",SHARM_EL_SHEIKH_SOUTH_SINAI:"\u0634\u0631\u0645 \u0627\u0644\u0634\u064A\u062E"};var Hx={1:"\u0627\u0644\u062F\u0641\u0639 \u0639\u0646\u062F \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645",2:"\u0627\u0644\u062F\u0641\u0639 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A",3:"\u0641\u0648\u062F\u0627\u0641\u0648\u0646 \u0643\u0627\u0634"};var Ei=class t{constructor(n){this.http=n}apiUrl=Ie.apiBaseUrl+"/Orders";checkout(n){console.log("OrderService: Making checkout request",n),console.log("OrderService: API URL:",`${this.apiUrl}/Checkout`);let e={FirstName:n.FirstName,LastName:n.LastName,StreetAddress:n.StreetAddress,PhoneNumber:n.PhoneNumber,Governorate:n.Governorate,City:n.City,PaymentMethod:n.PaymentMethod};return this.http.post(`${this.apiUrl}/Checkout`,null,{params:this.buildHttpParams(e)}).pipe(B(r=>(console.log("OrderService: Checkout response:",r),r.data)))}cancelOrder(n){console.log("OrderService: Cancelling order with tracking number:",n);let e={trackingNumber:n};return this.http.post(`${this.apiUrl}/Cancel`,null,{params:this.buildHttpParams(e)}).pipe(B(r=>(console.log("OrderService: Cancel order response:",r),r.data)))}getUserOrders(n){let e=new me().set("pageNumber",(n?.pageNumber||1).toString()).set("pageSize",(n?.pageSize||10).toString());return this.http.get(`${this.apiUrl}/User/GetAll`,{params:e}).pipe(B(r=>r.data))}getAllUserOrders(n){let e=new me().set("pageNumber",(n?.pageNumber||1).toString()).set("pageSize",(n?.pageSize||10).toString());return this.http.get(`${this.apiUrl}/User/GetAll`,{params:e})}getOrderByTrackingNumber(n){let e=new me().set("TrackingNumber",n);return this.http.get(`${this.apiUrl}/User/GetByTrackingNumber`,{params:e}).pipe(B(r=>r.data))}getShippingCost(n){console.log("OrderService: Getting shipping cost for governorate:",n);let e=new me().set("Governorate",n.toString());return this.http.get(`${this.apiUrl}/GetShippingCost`,{params:e}).pipe(B(r=>(console.log("OrderService: Shipping cost response:",r),r)))}buildHttpParams(n){let e=new me;return Object.keys(n).forEach(r=>{n[r]!==null&&n[r]!==void 0&&(e=e.set(r,n[r].toString()))}),e}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function uT(t,n){if(t&1&&(c(0,"option",35),f(1),u()),t&2){let e=n.$implicit;m("value",e.value),d(),D(" ",e.label," ")}}function dT(t,n){if(t&1&&(c(0,"option",35),f(1),u()),t&2){let e=n.$implicit;m("value",e.value),d(),D(" ",e.label," ")}}function fT(t,n){if(t&1&&(c(0,"span"),f(1),u()),t&2){let e=w();d(),D("",e.shippingCost," \u062C.\u0645")}}function pT(t,n){t&1&&f(0,"\u0645\u062C\u0627\u0646\u064A")}function gT(t,n){t&1&&(c(0,"span"),f(1,"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0637\u0644\u0628"),u())}function hT(t,n){t&1&&(c(0,"span"),f(1,"\u062C\u0627\u0631\u064A \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628..."),u())}function mT(t,n){t&1&&(c(0,"span"),f(1,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0648\u062C\u064A\u0647 \u0644\u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u062F\u0641\u0639..."),u())}function vT(t,n){t&1&&(c(0,"span"),f(1,"\u{1F4B5}"),u())}function bT(t,n){t&1&&(c(0,"span"),f(1,"\u{1F4B3}"),u())}function yT(t,n){t&1&&(c(0,"span"),f(1,"\u{1F4F1}"),u())}function CT(t,n){t&1&&(c(0,"span"),f(1,"\u{1F4B0}"),u())}function _T(t,n){if(t&1){let e=Q();c(0,"div",36)(1,"input",37),gt("ngModelChange",function(i){O(e);let o=w();return yt(o.checkoutData.PaymentMethod,i)||(o.checkoutData.PaymentMethod=i),A(i)}),u(),c(2,"label",38)(3,"span",39),Xo(4,40),Z(5,vT,2,0,"span",41)(6,bT,2,0,"span",41)(7,yT,2,0,"span",41)(8,CT,2,0,"span",42),es(),u(),f(9),u()()}if(t&2){let e=n.$implicit,r=w();W("selected",r.checkoutData.PaymentMethod===e.value),d(),m("id",e.value)("value",e.value),pt("ngModel",r.checkoutData.PaymentMethod),d(),m("for",e.value),d(2),m("ngSwitch",e.value),d(),m("ngSwitchCase",1),d(),m("ngSwitchCase",2),d(),m("ngSwitchCase",3),d(2),D(" ",e.label," ")}}var If=class t{constructor(n,e,r,i,o){this.router=n;this.cartService=e;this.auth=r;this.orderService=i;this.toastService=o}checkoutData={FirstName:"",LastName:"",StreetAddress:"",PhoneNumber:"",Governorate:"AL_QAHIRAH",City:"DOWNTOWN_CAIRO",PaymentMethod:1};cartTotal=0;cartDiscountedTotal=0;cartItemsCount=0;shippingCost=0;finalTotal=0;selectedPayment=1;isLoadingCart=!1;isSubmittingOrder=!1;isRedirectingToPayment=!1;governorates=Object.entries(Bx).map(([n,e])=>({value:n,label:e}));cities=Object.entries(Ux).map(([n,e])=>({value:n,label:e}));paymentMethods=Object.entries(Hx).map(([n,e])=>({value:Number(n),label:e}));isAuthenticated=Me(()=>!!this.auth.user());currentUser=Me(()=>this.auth.user());ngOnInit(){console.log("Checkout page initialized"),this.getUserCart(),this.updateShippingCost(),this.checkPaymentReturn()}checkPaymentReturn(){let n=new URLSearchParams(window.location.search),e=n.get("payment_status"),r=n.get("tracking_number"),i=sessionStorage.getItem("pending_order"),o=i?JSON.parse(i):null;if(e&&(r||o)){let s=r||o?.trackingNumber;console.log("Payment return detected:",{paymentStatus:e,trackingNumber:s}),sessionStorage.removeItem("pending_order"),e==="success"?(this.toastService.showSuccess("\u062A\u0645 \u0627\u0644\u062F\u0641\u0639 \u0628\u0646\u062C\u0627\u062D!",`\u0631\u0642\u0645 \u0627\u0644\u062A\u062A\u0628\u0639: ${s}`),this.router.navigate(["/orders"],{queryParams:{trackingNumber:s}})):(e==="failed"||e==="cancelled")&&(this.toastService.showError("\u0641\u0634\u0644 \u0641\u064A \u0639\u0645\u0644\u064A\u0629 \u0627\u0644\u062F\u0641\u0639","\u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),this.getUserCart())}}getUserCart(){console.log("Getting user cart..."),this.isLoadingCart=!0,this.cartService.getUserCart().subscribe({next:n=>{console.log("Cart data received:",n),this.cartTotal=n.sumTotalPrice,this.cartDiscountedTotal=n.sumDiscountedPrice,this.cartItemsCount=n.totalItemsCount,this.updateFinalTotal(),console.log("Cart totals extracted:",{total:this.cartTotal,discountedTotal:this.cartDiscountedTotal,itemsCount:this.cartItemsCount,shippingCost:this.shippingCost,finalTotal:this.finalTotal,originalData:{sumTotalPrice:n.sumTotalPrice,sumDiscountedPrice:n.sumDiscountedPrice,totalItemsCount:n.totalItemsCount}}),this.isLoadingCart=!1},error:n=>{console.error("Error loading cart:",n),console.error("Error details:",{status:n.status,message:n.message,url:n.url}),this.isLoadingCart=!1}})}navigateToCart(){this.router.navigate(["/Cart"])}onGovernorateChange(){console.log("Governorate changed to:",this.checkoutData.Governorate),this.updateShippingCost(),this.updateCitiesForGovernorate()}updateShippingCost(){if(this.cartDiscountedTotal>=600){console.log("Free shipping applied - cart total >= 600:",this.cartDiscountedTotal),this.shippingCost=0,this.updateFinalTotal();return}this.checkoutData.Governorate&&(console.log("Getting shipping cost for governorate:",this.checkoutData.Governorate),this.orderService.getShippingCost(this.checkoutData.Governorate).subscribe({next:n=>{console.log("Shipping cost received:",n),this.shippingCost=n,this.updateFinalTotal()},error:n=>{console.error("Error getting shipping cost:",n),this.shippingCost=0,this.updateFinalTotal()}}))}updateFinalTotal(){this.finalTotal=this.cartDiscountedTotal+this.shippingCost}updateCitiesForGovernorate(){let n=this.cities.filter(e=>{let r=e.value,i=this.checkoutData.Governorate;return r.includes(i)||r.endsWith("_CENTER")});n.length>0&&(this.checkoutData.City=n[0].value)}validateForm(){let{FirstName:n,LastName:e,StreetAddress:r,PhoneNumber:i,Governorate:o,City:s}=this.checkoutData;return n.trim()?e.trim()?r.trim()?i.trim()?o?s?!0:(this.toastService.showError("\u0628\u064A\u0627\u0646\u0627\u062A \u0646\u0627\u0642\u0635\u0629","\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0645\u062F\u064A\u0646\u0629"),!1):(this.toastService.showError("\u0628\u064A\u0627\u0646\u0627\u062A \u0646\u0627\u0642\u0635\u0629","\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0645\u062D\u0627\u0641\u0638\u0629"),!1):(this.toastService.showError("\u0628\u064A\u0627\u0646\u0627\u062A \u0646\u0627\u0642\u0635\u0629","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0635\u062D\u064A\u062D"),!1):(this.toastService.showError("\u0628\u064A\u0627\u0646\u0627\u062A \u0646\u0627\u0642\u0635\u0629","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0628\u0627\u0644\u062A\u0641\u0635\u064A\u0644"),!1):(this.toastService.showError("\u0628\u064A\u0627\u0646\u0627\u062A \u0646\u0627\u0642\u0635\u0629","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631"),!1):(this.toastService.showError("\u0628\u064A\u0627\u0646\u0627\u062A \u0646\u0627\u0642\u0635\u0629","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),!1)}submitOrder(){if(!this.validateForm()||this.isSubmittingOrder)return;this.isSubmittingOrder=!0;let n={FirstName:this.checkoutData.FirstName.trim(),LastName:this.checkoutData.LastName.trim(),StreetAddress:this.checkoutData.StreetAddress.trim(),PhoneNumber:this.checkoutData.PhoneNumber.trim(),Governorate:this.checkoutData.Governorate,City:this.checkoutData.City,PaymentMethod:this.checkoutData.PaymentMethod};console.log("Submitting order:",n),this.orderService.checkout(n).subscribe({next:e=>{console.log("Order submitted successfully:",e),this.handleOrderResponse(e),this.isSubmittingOrder=!1},error:e=>{console.error("Error submitting order:",e),this.toastService.showError("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0637\u0644\u0628","\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0637\u0644\u0628. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),this.isSubmittingOrder=!1}})}handleOrderResponse(n){console.log("Processing order response:",n),n.paymentInfo&&n.paymentInfo.requiresRedirect&&n.paymentInfo.redirectUrl?this.handlePaymentRedirect(n):this.handleDirectOrderCompletion(n)}handlePaymentRedirect(n){let e=n.paymentInfo;console.log("Payment redirect required:",{paymentMethod:e.paymentMethod,amount:e.amount,currency:e.currency,redirectUrl:e.redirectUrl});let r=`\u0631\u0642\u0645 \u0627\u0644\u062A\u062A\u0628\u0639: ${n.trackingNumber}<br>\u0645\u0628\u0644\u063A \u0627\u0644\u062F\u0641\u0639: ${e.amount} ${e.currency}<br><br>\u0633\u064A\u062A\u0645 \u062A\u0648\u062C\u064A\u0647\u0643 \u0625\u0644\u0649 \u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u062F\u0641\u0639...`;this.toastService.showInfo("\u062A\u0645 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D!",r),this.isRedirectingToPayment=!0,sessionStorage.setItem("pending_order",JSON.stringify({trackingNumber:n.trackingNumber,paymentId:e.paymentId,transactionId:e.transactionId})),setTimeout(()=>{console.log("Redirecting to payment gateway:",e.redirectUrl),window.location.href=e.redirectUrl},2e3)}handleDirectOrderCompletion(n){console.log("Direct order completion - no payment redirect needed"),this.toastService.showSuccess("\u062A\u0645 \u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D!",`\u0631\u0642\u0645 \u0627\u0644\u062A\u062A\u0628\u0639: ${n.trackingNumber}`),this.router.navigate(["/orders"],{queryParams:{trackingNumber:n.trackingNumber}})}static \u0275fac=function(e){return new(e||t)(C(se),C(Nt),C(at),C(Ei),C(Wt))};static \u0275cmp=k({type:t,selectors:[["app-checkout-page"]],decls:88,vars:20,consts:[["freeShipping",""],["dir","rtl",1,"checkout-container"],[1,"main-content"],[1,"page-title"],[1,"checkout-form"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],["type","text",1,"form-input",3,"ngModelChange","ngModel"],["type","text","value","\u0645\u0635\u0631",1,"form-input"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","tel","placeholder","01234567890",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-section","order-edit-section"],["routerLink","/Cart",1,"section-title","order-edit-title","btn",3,"click"],[1,"order-items-detailed"],[1,"order-item-detailed"],[1,"item-title"],[1,"item-price"],[1,"order-item-detailed","shipping-item"],[4,"ngIf","ngIfElse"],[1,"order-item-detailed","total-item"],[1,"item-price","total-price"],[1,"contact-section"],[1,"contact-text"],[1,"contact-info"],[1,"whatsapp-contact"],[1,"submit-section"],[1,"submit-btn",3,"click","disabled"],[4,"ngIf"],[1,"payment-section"],[1,"payment-options"],["class","payment-option",3,"selected",4,"ngFor","ngForOf"],[3,"value"],[1,"payment-option"],["type","radio","name","payment",3,"ngModelChange","id","value","ngModel"],[3,"for"],[1,"payment-icon"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,r){if(e&1){let i=Q();c(0,"div",1)(1,"div",2)(2,"h1",3),f(3,"\u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u0637\u0644\u0628"),u(),c(4,"div",4)(5,"div",5)(6,"h2",6),f(7,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0634\u062D\u0646"),u(),c(8,"div",7)(9,"div",8)(10,"label"),f(11,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),u(),c(12,"input",9),gt("ngModelChange",function(s){return O(i),yt(r.checkoutData.FirstName,s)||(r.checkoutData.FirstName=s),A(s)}),u()(),c(13,"div",8)(14,"label"),f(15,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631"),u(),c(16,"input",9),gt("ngModelChange",function(s){return O(i),yt(r.checkoutData.LastName,s)||(r.checkoutData.LastName=s),A(s)}),u()()(),c(17,"div",8)(18,"label"),f(19,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),u(),c(20,"input",9),gt("ngModelChange",function(s){return O(i),yt(r.checkoutData.StreetAddress,s)||(r.checkoutData.StreetAddress=s),A(s)}),u()(),c(21,"div",7)(22,"div",8)(23,"label"),f(24,"\u0627\u0644\u062F\u0648\u0644\u0629"),u(),v(25,"input",10),u(),c(26,"div",8)(27,"label"),f(28,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062D\u0627\u0641\u0638\u0629"),u(),c(29,"select",11),gt("ngModelChange",function(s){return O(i),yt(r.checkoutData.Governorate,s)||(r.checkoutData.Governorate=s),A(s)}),E("ngModelChange",function(){return O(i),A(r.onGovernorateChange())}),c(30,"option",12),f(31,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062D\u0627\u0641\u0638\u0629"),u(),Z(32,uT,2,2,"option",13),u()()(),c(33,"div",8)(34,"label"),f(35,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"),u(),c(36,"select",11),gt("ngModelChange",function(s){return O(i),yt(r.checkoutData.City,s)||(r.checkoutData.City=s),A(s)}),c(37,"option",12),f(38,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062F\u064A\u0646\u0629"),u(),Z(39,dT,2,2,"option",13),u()(),c(40,"div",7)(41,"div",8)(42,"label"),f(43,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),u(),c(44,"input",14),gt("ngModelChange",function(s){return O(i),yt(r.checkoutData.PhoneNumber,s)||(r.checkoutData.PhoneNumber=s),A(s)}),u()()()(),c(45,"div",15)(46,"a",16),E("click",function(){return O(i),A(r.navigateToCart())}),f(47,"\u062A\u0639\u062F\u064A\u0644 \u0637\u0644\u0628\u0643"),u(),c(48,"div",17)(49,"div",18)(50,"span",19),f(51,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0642\u0628\u0644 \u0627\u0644\u062E\u0635\u0645"),u(),c(52,"span",20),f(53),u()(),c(54,"div",18)(55,"span",19),f(56,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0628\u0639\u062F \u0627\u0644\u062E\u0635\u0645"),u(),c(57,"span",20),f(58),u()(),c(59,"div",21)(60,"span",19),f(61,"\u0627\u0644\u0634\u062D\u0646"),u(),c(62,"span",20),Z(63,fT,2,1,"span",22)(64,pT,1,0,"ng-template",null,0,Uh),u()(),c(66,"div",23)(67,"span",19),f(68,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),u(),c(69,"span",24),f(70),u()()(),c(71,"div",25)(72,"p",26),f(73," \u0625\u0630\u0627 \u0648\u0627\u062C\u0647\u062A\u0643 \u0623\u064A \u0645\u0634\u0643\u0644\u0629 \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639: "),u(),c(74,"div",27)(75,"span",28),f(76,"\u{1F4F1} \u062E\u062F\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"),u()()()(),c(77,"div",29)(78,"button",30),E("click",function(){return O(i),A(r.submitOrder())}),Z(79,gT,2,0,"span",31)(80,hT,2,0,"span",31)(81,mT,2,0,"span",31),u()()(),c(82,"div",32)(83,"div",5)(84,"h2",6),f(85,"\u0648\u0633\u064A\u0644\u0629 \u0627\u0644\u062F\u0641\u0639"),u(),c(86,"div",33),Z(87,_T,10,11,"div",34),u()()()()()}if(e&2){let i=Ia(65);d(12),pt("ngModel",r.checkoutData.FirstName),d(4),pt("ngModel",r.checkoutData.LastName),d(4),pt("ngModel",r.checkoutData.StreetAddress),d(9),pt("ngModel",r.checkoutData.Governorate),d(3),m("ngForOf",r.governorates),d(4),pt("ngModel",r.checkoutData.City),d(3),m("ngForOf",r.cities),d(5),pt("ngModel",r.checkoutData.PhoneNumber),d(9),D("",r.cartTotal," \u062C.\u0645"),d(5),D("",r.cartDiscountedTotal," \u062C.\u0645"),d(4),W("free-shipping",r.shippingCost===0),d(),m("ngIf",r.shippingCost>0)("ngIfElse",i),d(7),D("",r.finalTotal," \u062C.\u0645"),d(8),m("disabled",r.isSubmittingOrder||r.isLoadingCart||r.isRedirectingToPayment),d(),m("ngIf",!r.isSubmittingOrder&&!r.isRedirectingToPayment),d(),m("ngIf",r.isSubmittingOrder&&!r.isRedirectingToPayment),d(),m("ngIf",r.isRedirectingToPayment),d(6),m("ngForOf",r.paymentMethods)}},dependencies:[Y,Tt,Ne,Ra,mm,vm,kt,Wd,Yd,Ke,Es,P0,st,yn,Zn,de],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.checkout-container[_ngcontent-%COMP%]{font-family:Almarai;background-color:#f8f9fa;min-height:100vh}.header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a5a);color:#fff;padding:1rem 2rem}.nav-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}.nav-items[_ngcontent-%COMP%]{display:flex;gap:2rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem 1rem;border-radius:5px;transition:background-color .3s}.nav-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.search-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.search-input[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:25px;min-width:300px;text-align:right}.search-btn[_ngcontent-%COMP%]{background:#fff;border:none;padding:.5rem 1rem;border-radius:25px;cursor:pointer}.user-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:1.2rem}.breadcrumb[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;display:flex;gap:1rem;align-items:center;border-bottom:1px solid #eee}.breadcrumb[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#007bff;font-weight:bolder}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 2rem}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:2rem;font-weight:bolder;margin-bottom:2rem;color:#333}.checkout-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:2rem}.form-section[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;box-shadow:0 2px 10px #0000001a;margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem;font-weight:bolder;color:#333;text-align:right}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:bolder;color:#555;text-align:right}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #ddd;border-radius:5px;font-size:1rem;font-weight:700;color:#555;text-align:right;transition:border-color .3s}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.order-edit-section[_ngcontent-%COMP%]{border:1px solid #e9ecef}.order-edit-title[_ngcontent-%COMP%]{color:#dc3545;text-align:center;font-weight:bolder}.order-items-detailed[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:8px;overflow:hidden;margin-bottom:1rem}.order-item-detailed[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:bolder;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #dee2e6;background-color:#f8f9fa}.order-item-detailed[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-item-detailed.shipping-item[_ngcontent-%COMP%]{background-color:#f8f9fa}.order-item-detailed.total-item[_ngcontent-%COMP%]{background-color:#495057;color:#fff;font-weight:bolder;font-size:1.1rem}.free-shipping[_ngcontent-%COMP%]{color:#dc3545;font-weight:bolder}.total-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:bolder}.contact-section[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-weight:bolder}.contact-text[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#6c757d}.whatsapp-contact[_ngcontent-%COMP%]{color:#25d366;font-weight:bolder;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem}.payment-section[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 2rem}.payment-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:2px solid #ddd;border-radius:10px;cursor:pointer;transition:all .3s}.payment-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background-color:#f0f8ff}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-left:1rem}.payment-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-weight:bolder}.payment-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:.5rem}.order-summary[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;box-shadow:0 2px 10px #0000001a;height:fit-content;font-weight:bolder}.order-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.order-items[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:5px;overflow:hidden}.order-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-bottom:1px solid #eee}.order-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-item.shipping[_ngcontent-%COMP%]{background-color:#f8f9fa}.order-item.total[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;font-weight:bolder}.item-price.free[_ngcontent-%COMP%]{color:#28a745;font-weight:bolder}.promo-section[_ngcontent-%COMP%], .terms-section[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:#fff3cd;border-radius:5px;border-left:4px solid #ffc107}.promo-text[_ngcontent-%COMP%], .terms-text[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4;text-align:right}.whatsapp-link[_ngcontent-%COMP%]{color:#25d366;cursor:pointer}.submit-section[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;margin-top:2rem}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;border:none;padding:1rem 3rem;border-radius:25px;font-size:1.2rem;font-weight:bolder;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px #17a2b84d}.submit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #17a2b866}.footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;padding:2rem 0;margin-top:3rem}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;display:grid;grid-template-columns:1fr 2fr;gap:2rem}.footer-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem}.app-links[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.app-badge[_ngcontent-%COMP%]{height:40px;background:#555;border-radius:5px;padding:.5rem}.payment-methods[_ngcontent-%COMP%]{display:flex;gap:.5rem}.payment-badge[_ngcontent-%COMP%]{background:#555;padding:.3rem .8rem;border-radius:15px;font-size:.8rem}.footer-links[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.footer-column[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:1rem;color:#ecf0f1}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bdc3c7;text-decoration:none;transition:color .3s}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;padding-top:1rem;margin-top:2rem;border-top:1px solid #34495e;color:#bdc3c7}@media (max-width: 768px){.checkout-form[_ngcontent-%COMP%]{grid-template-columns:1fr}.nav-bar[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.form-row[_ngcontent-%COMP%], .footer-content[_ngcontent-%COMP%], .footer-links[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function xT(t,n){if(t&1&&(c(0,"p",11),f(1),u()),t&2){let e=w();d(),D(" \u0644\u062F\u064A\u0643 ",e.totalCount," \u0643\u062A\u0627\u0628 \u0641\u064A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u063A\u0628\u0627\u062A ")}}function wT(t,n){t&1&&(c(0,"div",12)(1,"div",13)(2,"span",14),f(3,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."),u()(),c(4,"p",15),f(5,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u063A\u0628\u0627\u062A..."),u()())}function MT(t,n){if(t&1){let e=Q();c(0,"div",16),v(1,"i",17),f(2),c(3,"button",18),E("click",function(){O(e);let i=w();return A(i.loadWishlistItems())}),v(4,"i",19),f(5," \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 "),u()()}if(t&2){let e=w();d(2),D(" ",e.error," ")}}function ET(t,n){t&1&&(c(0,"div",20)(1,"div",21),v(2,"i",22),u(),c(3,"h3",23),f(4,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u063A\u0628\u0627\u062A \u0641\u0627\u0631\u063A\u0629"),u(),c(5,"p",24),f(6,"\u0644\u0645 \u062A\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u064A \u0643\u062A\u0628 \u0625\u0644\u0649 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u063A\u0628\u0627\u062A \u0628\u0639\u062F"),u(),c(7,"a",25),v(8,"i",26),f(9," \u062A\u0635\u0641\u062D \u0627\u0644\u0643\u062A\u0628 "),u()())}function IT(t,n){if(t&1&&(c(0,"span",56),f(1),_(2,"number"),u()),t&2){let e=w().$implicit;d(),D(" \u062C.\u0645 ",We(2,1,e.price,"1.0-0")," ")}}function DT(t,n){if(t&1&&(c(0,"span",57),f(1),_(2,"number"),u()),t&2){let e=w().$implicit;d(),D(" \u062E\u0635\u0645 ",We(2,1,(e.price-e.discountedPrice)/e.price*100,"1.0-0"),"% ")}}function ST(t,n){if(t&1){let e=Q();c(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34)(4,"div",35)(5,"img",36),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.viewBookDetails(i.bookId))}),u()()(),c(6,"div",37)(7,"div",38)(8,"h5",39)(9,"a",40),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.viewBookDetails(i.bookId))}),f(10),u()(),c(11,"p",41),v(12,"i",42),c(13,"a",43),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.viewAuthorDetails(i.autherId))}),f(14),u()(),c(15,"div",44)(16,"div",45)(17,"span",46),f(18),_(19,"number"),u(),Z(20,IT,3,4,"span",47)(21,DT,3,4,"span",48),u()()()(),c(22,"div",49)(23,"div",50)(24,"div",51)(25,"button",52),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.addToCart(i.bookId))}),v(26,"i",53),f(27," \u0627\u0634\u062A\u0631\u0627\u0621 \u0646\u0633\u062E\u0629 \u0648\u0631\u0642\u064A\u0629 "),u(),c(28,"button",54),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.removeFromWishlist(i.bookId))}),v(29,"i",55),f(30," \u062D\u0630\u0641 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 "),u()()()()()()()}if(t&2){let e=n.$implicit,r=w(2);d(5),m("src",r.getCoverImageUrl(e.imageUrl),Ce)("alt",e.bookName),d(5),D(" ",e.bookName," "),d(4),D(" ",e.autherName," "),d(4),D(" \u062C.\u0645 ",We(19,7,e.discountedPrice,"1.0-0")," "),d(2),m("ngIf",e.price!==e.discountedPrice),d(),m("ngIf",e.price!==e.discountedPrice)}}function PT(t,n){if(t&1){let e=Q();c(0,"div",58)(1,"app-pagination",59),E("PageChanged",function(i){O(e);let o=w(2);return A(o.onPageChanged(i))}),u()()}if(t&2){let e=w(2);d(),m("CurrentPage",e.currentPage)("TotalPages",e.totalPages)}}function OT(t,n){if(t&1&&(c(0,"div",27)(1,"div",28),Z(2,ST,31,10,"div",29),u(),Z(3,PT,2,2,"div",30),u()),t&2){let e=w();d(2),m("ngForOf",e.wishlistItems)("ngForTrackBy",e.trackByBookId),d(),m("ngIf",e.totalPages>1)}}var Df=class t{constructor(n,e,r){this.wishlistService=n;this.auth=e;this.router=r}breadcrumbs=[{name:"\u0642\u0627\u0626\u0645\u0629 \u0631\u063A\u0628\u0627\u062A\u064A",path:"/wishlist"}];wishlistItems=[];loading=!1;error=null;currentPage=1;pageSize=5;totalPages=1;totalCount=0;hasNextPage=!1;hasPreviousPage=!1;ngOnInit(){this.loadWishlistItems()}loadWishlistItems(){this.loading=!0,this.error=null;let n={pageNumber:this.currentPage,pageSize:this.pageSize};this.wishlistService.getWishlistItems(n).subscribe({next:e=>{this.wishlistItems=e.data,this.currentPage=e.currentPage,this.totalPages=e.totalPages,this.totalCount=e.totalCount,this.hasNextPage=e.hasNextPage,this.hasPreviousPage=e.hasPreviousPage,this.loading=!1},error:e=>{console.error("Error loading wishlist items:",e),this.error="\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u063A\u0628\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",this.loading=!1,e.status===401&&this.router.navigate(["/login"])}})}onPageChanged(n){this.currentPage=n,this.loadWishlistItems()}addToCart(n){let e={bookId:n,quantity:1};this.wishlistService.addToCart(e).subscribe({next:r=>{console.log("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u062A\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 \u0628\u0646\u062C\u0627\u062D")},error:r=>{console.error("Error adding to cart:",r)}})}removeFromWishlist(n){let e={bookId:n};this.wishlistService.removeFromWishlist(e).subscribe({next:r=>{this.wishlistItems=this.wishlistItems.filter(i=>i.bookId!==n),this.totalCount--,this.wishlistItems.length===0&&this.currentPage>1&&(this.currentPage--,this.loadWishlistItems()),console.log("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0643\u062A\u0627\u0628 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u063A\u0628\u0627\u062A")},error:r=>{console.error("Error removing from wishlist:",r)}})}getCoverImageUrl(n){return this.wishlistService.getCoverImageUrl(n)}viewBookDetails(n){this.router.navigate(["/book-details",n])}viewAuthorDetails(n){this.router.navigate(["/authors",n])}trackByBookId(n,e){return e.bookId}static \u0275fac=function(e){return new(e||t)(C(Ts),C(at),C(se))};static \u0275cmp=k({type:t,selectors:[["app-wishlist"]],decls:12,vars:6,consts:[[1,"wishlist-container"],[1,"pt-2","mt-5","mb-4"],[3,"Navcrumbs"],[1,"wishlist-header","text-center","mb-5"],[1,"page-title"],[1,"fas","fa-heart","text-danger","me-2"],["class","text-muted",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger text-center","role","alert",4,"ngIf"],["class","empty-wishlist text-center py-5",4,"ngIf"],["class","wishlist-content",4,"ngIf"],[1,"text-muted"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],["role","alert",1,"alert","alert-danger","text-center"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"btn","btn-outline-danger","btn-sm","ms-3",3,"click"],[1,"fas","fa-redo","me-1"],[1,"empty-wishlist","text-center","py-5"],[1,"empty-icon","mb-4"],[1,"fas","fa-heart-broken","text-muted",2,"font-size","4rem"],[1,"mb-3","text-muted"],[1,"text-muted","mb-4"],["routerLink","/",1,"btn","btn-primary","btn-lg"],[1,"fas","fa-book","me-2"],[1,"wishlist-content"],[1,"row","g-4","mb-5"],["class","col-12",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-wrapper d-flex justify-content-center mt-5",4,"ngIf"],[1,"col-12"],[1,"wishlist-item","card","shadow-sm","h-100"],[1,"row","g-0","h-100"],[1,"col-md-3","col-lg-2"],[1,"book-cover-container"],[1,"book-cover","img-fluid",2,"cursor","pointer",3,"click","src","alt"],[1,"col-md-6","col-lg-7"],[1,"card-body","h-100","d-flex","flex-column"],[1,"book-title","mb-2"],[1,"text-decoration-none","text-dark","book-link",2,"cursor","pointer",3,"click"],[1,"book-author","text-muted","mb-3"],[1,"fas","fa-user","me-1"],[1,"text-decoration-none","author-link",2,"cursor","pointer",3,"click"],[1,"price-section","mt-auto"],[1,"price-info","d-flex","align-items-center","gap-3"],[1,"current-price","fw-bold","text-success","fs-5"],["class","original-price text-muted text-decoration-line-through",4,"ngIf"],["class","discount-badge badge bg-danger",4,"ngIf"],[1,"col-md-3","col-lg-3"],[1,"card-body","h-100","d-flex","flex-column","justify-content-center"],[1,"action-buttons","d-grid","gap-2"],["type","button",1,"btn","btn-success","btn-lg",3,"click"],[1,"fas","fa-cart-plus","me-2"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-heart-broken","me-2"],[1,"original-price","text-muted","text-decoration-line-through"],[1,"discount-badge","badge","bg-danger"],[1,"pagination-wrapper","d-flex","justify-content-center","mt-5"],[3,"PageChanged","CurrentPage","TotalPages"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1),v(2,"app-nav-crumb",2),u(),c(3,"div",3)(4,"h1",4),v(5,"i",5),f(6," \u0642\u0627\u0626\u0645\u0629 \u0631\u063A\u0628\u0627\u062A\u064A "),u(),Z(7,xT,2,1,"p",6),u(),Z(8,wT,6,0,"div",7)(9,MT,6,1,"div",8)(10,ET,10,0,"div",9)(11,OT,4,3,"div",10),u()),e&2&&(d(2),m("Navcrumbs",r.breadcrumbs),d(5),m("ngIf",!r.loading&&r.wishlistItems.length>0),d(),m("ngIf",r.loading),d(),m("ngIf",r.error),d(),m("ngIf",!r.loading&&!r.error&&r.wishlistItems.length===0),d(),m("ngIf",!r.loading&&!r.error&&r.wishlistItems.length>0))},dependencies:[Y,Tt,Ne,de,Be,lt,Cr,Vr],styles:[".wishlist-container[_ngcontent-%COMP%]{font-family:Almarai,Arial,sans-serif;background-color:#f8f9fa;min-height:100vh;padding:20px 0}.wishlist-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);padding:30px 20px;border-radius:15px;margin-bottom:2rem;box-shadow:0 2px 10px #0000000d}.page-title[_ngcontent-%COMP%]{color:#2c3e50;font-weight:700;font-size:2.5rem;margin-bottom:10px}.page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartbeat 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_heartbeat{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.empty-wishlist[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:60px 20px;box-shadow:0 4px 20px #00000014;margin:40px auto;max-width:600px}.empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.wishlist-item[_ngcontent-%COMP%]{border:none;border-radius:15px;transition:all .3s ease;overflow:hidden;background:#fff}.wishlist-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026!important}.book-cover-container[_ngcontent-%COMP%]{padding:20px;display:flex;align-items:center;justify-content:center;height:100%;min-height:200px;background:linear-gradient(135deg,#f8f9fa,#e9ecef)}.book-cover[_ngcontent-%COMP%]{max-width:120px;max-height:160px;border-radius:8px;box-shadow:0 4px 15px #0003;transition:transform .3s ease;object-fit:cover}.book-cover[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.book-title[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;font-size:1.3rem;line-height:1.4;margin-bottom:.5rem}.book-link[_ngcontent-%COMP%]:hover{color:#e74c3c!important;text-decoration:underline!important}.book-author[_ngcontent-%COMP%]{font-size:1rem;color:#7f8c8d!important}.author-link[_ngcontent-%COMP%]{color:#7f8c8d!important;transition:color .3s ease}.author-link[_ngcontent-%COMP%]:hover{color:#34495e!important;text-decoration:underline!important}.price-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:15px;border-radius:10px;margin-top:15px}.current-price[_ngcontent-%COMP%]{font-size:1.4rem!important;color:#27ae60!important;font-weight:700}.original-price[_ngcontent-%COMP%]{font-size:1rem;color:#95a5a6!important}.discount-badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.3rem .6rem;border-radius:20px}.action-buttons[_ngcontent-%COMP%]{padding:20px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:all .3s ease;padding:12px 20px;border:2px solid transparent}.action-buttons[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#27ae60,#2ecc71);border:none;box-shadow:0 4px 15px #27ae604d}.action-buttons[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#229954,#27ae60);transform:translateY(-2px);box-shadow:0 6px 20px #27ae6066}.action-buttons[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{color:#e74c3c;border-color:#e74c3c;background:transparent}.action-buttons[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background:#e74c3c;border-color:#e74c3c;color:#fff;transform:translateY(-1px);box-shadow:0 4px 15px #e74c3c4d}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.alert[_ngcontent-%COMP%]{border-radius:15px;border:none;box-shadow:0 4px 20px #0000001a}.pagination-wrapper[_ngcontent-%COMP%]{margin-top:40px;padding:20px}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}.wishlist-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{text-align:center}.book-cover-container[_ngcontent-%COMP%]{min-height:150px;padding:15px}.book-cover[_ngcontent-%COMP%]{max-width:100px;max-height:130px}.action-buttons[_ngcontent-%COMP%]{padding:15px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:10px 15px}.current-price[_ngcontent-%COMP%]{font-size:1.2rem!important}.price-section[_ngcontent-%COMP%]{margin-top:10px;padding:10px}}@media (max-width: 576px){.wishlist-container[_ngcontent-%COMP%]{padding:10px 0}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.wishlist-header[_ngcontent-%COMP%]{padding:20px 15px;margin-bottom:1rem}.empty-wishlist[_ngcontent-%COMP%]{padding:40px 15px;margin:20px 10px}.book-cover[_ngcontent-%COMP%]{max-width:80px;max-height:110px}.book-title[_ngcontent-%COMP%]{font-size:1.1rem}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.85rem;padding:8px 12px}}[dir=rtl][_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .book-author[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{text-align:right}[dir=rtl][_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{text-align:center}.wishlist-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};var wl=class t{constructor(n,e){this.auth=n;this.router=e}canActivate(){let n=this.auth.user(),e=localStorage.getItem("auth_token");return console.log("AuthGuard check:",{user:n,token:e,hasUser:!!n}),n&&e?!0:(console.log("Redirecting to login - no user or token"),this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||t)(F(at),F(se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var Sf=class t{constructor(n){this.currencyPipe=n}transform(n,e="USD"){if(n==null)return"";let r=this.currencyPipe.transform(n,e,"symbol");return r?r.replace(/(\D+)([\d,.]+)/,"$1 $2 "):""}static \u0275fac=function(e){return new(e||t)(C(so,16))};static \u0275pipe=dn({name:"customCurrencyPipe",type:t,pure:!0})};var $x={1:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",2:"\u0645\u0624\u0643\u062F",3:"\u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0636\u064A\u0631",4:"\u062A\u0645 \u0627\u0644\u0634\u062D\u0646",5:"\u062A\u0645 \u0627\u0644\u062A\u0633\u0644\u064A\u0645",6:"\u0645\u0644\u063A\u064A"};var Pf=class t{transform(n){return $x[n]||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=dn({name:"orderStatus",type:t,pure:!0})};var TT=t=>["/OrderDetails",t],kT=(t,n)=>n.id;function NT(t,n){if(t&1&&(c(0,"tr")(1,"td"),f(2),u(),c(3,"td"),f(4),_(5,"date"),u(),c(6,"td")(7,"span"),f(8),_(9,"orderStatus"),u()(),c(10,"td"),f(11),_(12,"customCurrencyPipe"),u(),c(13,"td")(14,"a",4)(15,"button",5),f(16,"\u0639\u0631\u0636"),u()()()()),t&2){let e=n.$implicit,r=w();d(2),y(e.trackingNumber),d(2),y(We(5,8,e.orderDate,"dd/MM/yyyy")),d(3),ro($t("status ",r.getStatusClass(e.orderStatus))),d(),y(I(9,11,e.orderStatus)),d(3),y(We(12,13,e.finalAmount,"EGP")),d(3),m("routerLink",_e(16,TT,e.trackingNumber))}}var Of=class t{constructor(n){this.orderService=n}breadcrumbs=[{name:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A",path:"/user-profile"},{name:" \u0627\u0644\u0637\u0644\u0628\u0627\u062A ",path:"#"}];orders=[];currentPage=1;pageSize=10;ngOnInit(){this.loadOrders()}loadOrders(){let n={pageNumber:this.currentPage,pageSize:this.pageSize};this.orderService.getAllUserOrders(n).subscribe({next:e=>{this.orders=e.data.sort((r,i)=>r.orderStatus-i.orderStatus)},error:e=>{console.error("Error loading orders:",e)}})}getStatusClass(n){switch(n){case 1:return"pending";case 2:return"confirmed";case 3:return"processing";case 4:return"shipped";case 5:return"delivered";case 6:return"cancelled";default:return"unknown"}}static \u0275fac=function(e){return new(e||t)(C(Ei))};static \u0275cmp=k({type:t,selectors:[["app-orders"]],features:[pn([so])],decls:14,vars:1,consts:[["id","mainContainer"],["id","nav-crumb"],[3,"Navcrumbs"],["id","Table"],["routerLinkActive","true",3,"routerLink"],[1,"btn"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1),v(2,"app-nav-crumb",2),u(),c(3,"table",3)(4,"th"),f(5,"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"),u(),c(6,"th"),f(7,"\u062A\u0627\u0631\u064A\u062E \u062A\u0642\u062F\u0645 \u0627\u0644\u0637\u0644\u0628"),u(),c(8,"th"),f(9,"\u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"),u(),c(10,"th"),f(11,"\u0627\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628"),u(),X(12,NT,17,18,"tr",null,kT),u()()),e&2&&(d(2),m("Navcrumbs",r.breadcrumbs),d(10),ee(r.orders))},dependencies:[lt,Y,Zn,de,Et,jr,Sf,Pf],styles:["#mainContainer[_ngcontent-%COMP%]{margin:0;padding:5rem}#Table[_ngcontent-%COMP%]{width:100%;margin-top:5rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.7rem}th[_ngcontent-%COMP%]{background-color:#fbfdfe}td[_ngcontent-%COMP%]{background-color:#fff;padding-inline:1rem}tr[_ngcontent-%COMP%]{box-shadow:1px 1px 1px #f0efef,-1px -1px 1px #d8d8d8}.status[_ngcontent-%COMP%]{display:inline-block;padding:.3rem;color:#fff;border-radius:1rem;font-size:small;min-width:80px;text-align:center}.pending[_ngcontent-%COMP%]{background-color:#ff9800}.confirmed[_ngcontent-%COMP%]{background-color:#4caf50}.processing[_ngcontent-%COMP%]{background-color:#2196f3}.shipped[_ngcontent-%COMP%]{background-color:#f08080}.delivered[_ngcontent-%COMP%]{background-color:#9c27b0}.cancelled[_ngcontent-%COMP%]{background-color:#f44336}.unknown[_ngcontent-%COMP%]{background-color:#757575}.btn[_ngcontent-%COMP%]{border:none;box-shadow:1px 1px 1px #f0efef,-1px -1px 1px #f0efef}@media (min-width:1200px){.btn[_ngcontent-%COMP%]{margin-left:-4rem}}@media (min-width:900px){.btn[_ngcontent-%COMP%]{margin-left:-2.5rem}.status[_ngcontent-%COMP%]{padding-inline:.5rem}}@media (max-width:760px){#mainContainer[_ngcontent-%COMP%]{padding:.8rem}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%], .status[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700}.status[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 560px){#mainContainer[_ngcontent-%COMP%]{padding:.2rem}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%], .status[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700}}"]})};var zx=t=>({active:t}),RT=(t,n)=>n.title;function FT(t,n){if(t&1&&(c(0,"div",10)(1,"span",23),f(2),u()()),t&2){let e=w();d(),m("ngClass",_e(2,zx,e.currentStatus===e.CancelledOrderStatus)),d(),D(" ",e.orderStatusDisplayNames[e.CancelledOrderStatus]," ")}}function LT(t,n){if(t&1&&(c(0,"span",24),f(1),u()),t&2){let e=n.$implicit,r=w(2);m("ngClass",_e(2,zx,r.currentStatus===e)),d(),D(" ",r.orderStatusDisplayNames[e]," ")}}function jT(t,n){if(t&1&&(c(0,"div",11)(1,"div",10),X(2,LT,2,4,"span",24,Qe),u()()),t&2){let e=w();d(2),ee(e.statusProgression)}}function VT(t,n){if(t&1&&(c(0,"tr")(1,"td",25),v(2,"img",26),f(3),u(),c(4,"td"),f(5),u(),c(6,"td"),f(7),u(),c(8,"td"),f(9),u()()),t&2){let e=n.$implicit;d(3),D(" ",e.title," "),d(2),y(e.quantity),d(2),y(e.price),d(2),y(e.quantity*e.price)}}function BT(t,n){if(t&1&&(c(0,"span"),f(1),u()),t&2){let e=w();d(),y(e.PaymentMethodDisplayNames[e.order.paymentMethod])}}var Af=class t{constructor(n,e){this.route=n;this.orderService=e}breadcrumbs=[{name:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A",path:"/user-profile"},{name:" \u0627\u0644\u0637\u0644\u0628\u0627\u062A ",path:"/Orders"},{name:"  ",path:"#"}];order;trackingNumber;currentStatus=1;ngOnInit(){this.trackingNumber=this.route.snapshot.paramMap.get("trackingNumber"),this.trackingNumber&&this.loadData()}loadData(){this.orderService.getOrderByTrackingNumber(this.trackingNumber).subscribe({next:n=>{this.order=n,this.breadcrumbs=[{name:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A",path:"/user-profile"},{name:" \u0627\u0644\u0637\u0644\u0628\u0627\u062A ",path:"/Orders"},{name:n.trackingNumber,path:"#"}],console.log(n)},error:n=>{console.error("Error loading orders:",n)}})}orderStatusDisplayNames={5:"\u062A\u0645 \u0627\u0644\u062A\u0648\u0635\u064A\u0644",4:"\u062C\u0627\u0647\u0632 \u0627\u0644\u062A\u0633\u0644\u064A\u0645",3:"\u062A\u0645 \u0627\u0644\u062A\u0623\u0643\u064A\u062F",2:"\u062A\u0645 \u0627\u0644\u062A\u0623\u0643\u064A\u062F",1:"\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631",6:"\u0645\u0644\u063A\u064A"};CancelledOrderStatus=6;statusProgression=[1,2,3,4,5];PaymentMethodDisplayNames={1:"\u0627\u0644\u062F\u0641\u0639 \u0639\u0646\u062F \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645",2:"\u0627\u0644\u062F\u0641\u0639 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A",3:"\u0641\u0648\u062F\u0627\u0641\u0648\u0646 \u0643\u0627\u0634"};static \u0275fac=function(e){return new(e||t)(C(Ve),C(Ei))};static \u0275cmp=k({type:t,selectors:[["app-order-details"]],decls:87,vars:9,consts:[["id","mainContainer"],["id","nav-crumb"],[3,"Navcrumbs"],["id","BigContainer"],["id","OrderHeader"],["id","OrderHeaderData"],["id","link"],[1,"fa-solid","fa-link"],["routerLink","#","routerLinkActive","true"],["id","OrderProcess"],[1,"status-btns"],[1,"statusProgress"],["id","tableContainer"],["id","table"],["id","moreDetails"],["id","customer-adress"],["id","customer-data"],["id","payment-way"],["id","price-details"],[1,"price"],["id","TotalPrice",1,"price"],["id","TotalPriceText"],["id","TotalPriceValue"],[1,"cancelledBtn",3,"ngClass"],[1,"status-btn",3,"ngClass"],["id","Item"],["id","BookCover","src","https://i.pinimg.com/originals/9a/a4/dc/9aa4dc527c8adbcad5fa790f3ac59a44.png"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1),v(2,"app-nav-crumb",2),u(),c(3,"div",3)(4,"div",4)(5,"h2"),f(6,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0637\u0644\u0628 "),u(),c(7,"div",5)(8,"p")(9,"span"),f(10,"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"),u(),c(11,"span"),f(12),u(),c(13,"span"),f(14),_(15,"date"),u()(),c(16,"span",6),v(17,"i",7),c(18,"a",8),f(19,"\u0633\u064A\u0627\u0633\u0629 \u0627\u0644\u0627\u0631\u062C\u0627\u0639 \u0648 \u0627\u0644\u0627\u0633\u062A\u0631\u062F\u0627\u062F"),u()()()(),v(20,"hr")(21,"div",9),z(22,FT,3,4,"div",10),z(23,jT,4,0,"div",11),c(24,"div",12)(25,"table",13)(26,"th"),f(27," \u0627\u0644\u0645\u0646\u062A\u062C"),u(),c(28,"th"),f(29,"\u0627\u0644\u0643\u0645\u064A\u0629"),u(),c(30,"th"),f(31,"\u0627\u0644\u0633\u0639\u0631"),u(),c(32,"th"),f(33,"\u0633\u0639\u0631 \u0627\u0644\u0643\u0645\u064A\u0629"),u(),X(34,VT,10,4,"tr",null,RT),u()(),c(36,"div",14)(37,"div",15)(38,"h6"),f(39,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0634\u062D\u0646"),u(),c(40,"span"),f(41,"\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629"),u(),c(42,"span"),f(43,"\u0645\u0643\u0629"),u(),c(44,"span"),f(45,"\u0645\u0643\u0629"),u(),c(46,"span"),f(47,"\u0634\u0627\u0631\u0639 \u0645\u0643\u0629"),u()(),c(48,"div",16)(49,"h6"),f(50,"\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644"),u(),c(51,"span"),f(52,"\u062E\u062F\u064A\u062C\u0629"),u(),c(53,"span"),f(54,"0104367115"),u(),c(55,"span"),f(56,"khadija@gmail.com"),u()(),c(57,"div",17)(58,"h6"),f(59,"\u0648\u0633\u064A\u0644\u0629 \u0627\u0644\u062F\u0641\u0639"),u(),z(60,BT,2,1,"span"),u(),c(61,"div",18)(62,"div",19)(63,"span"),f(64,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0642\u0628\u0644 \u0627\u0644\u062E\u0635\u0645"),u(),c(65,"span"),f(66,"100"),u()(),c(67,"div",19)(68,"span"),f(69,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639"),u(),c(70,"span"),f(71,"800"),u()(),c(72,"div",19)(73,"span"),f(74,"\u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),u(),c(75,"span"),f(76,"0"),u()(),c(77,"div",19)(78,"span"),f(79,"\u0627\u0644\u0634\u062D\u0646"),u(),c(80,"span"),f(81,"0"),u()(),c(82,"div",20)(83,"span",21),f(84,"\u0627\u0644\u0627\u062C\u0645\u0627\u0644\u064A"),u(),c(85,"span",22),f(86,"800"),u()()()()()()),e&2&&(d(2),m("Navcrumbs",r.breadcrumbs),d(10),y(r.order==null?null:r.order.trackingNumber),d(2),y(We(15,6,r.order==null?null:r.order.orderDate,"M/d/yy, h:mm a")),d(8),G(r.currentStatus===r.CancelledOrderStatus?22:-1),d(),G(r.currentStatus!==r.CancelledOrderStatus?23:-1),d(11),ee(r.order==null?null:r.order.books),d(26),G(r.order?60:-1))},dependencies:[lt,Zn,de,Et,Y,Gt,jr],styles:["#mainContainer[_ngcontent-%COMP%]{margin:0;padding:5rem}#BigContainer[_ngcontent-%COMP%]{padding:1rem;box-shadow:1px 1px 10px #e7e6e6,-1px -1px 10px #e7e6e6}#OrderHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}#OrderHeaderData[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#OrderHeaderData[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;gap:.9rem}#link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}#link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}#tableContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#table[_ngcontent-%COMP%]{width:100%;margin-block:4rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.7rem;padding-inline:1rem}td[_ngcontent-%COMP%]{background-color:#fff}tr[_ngcontent-%COMP%]{box-shadow:1px 1px 1px #f0efef,-1px -1px 1px #d8d8d8}#BookCover[_ngcontent-%COMP%]{width:30px}#Item[_ngcontent-%COMP%]{display:flex;gap:1.5rem}#moreDetails[_ngcontent-%COMP%]{padding:1.7rem;border-radius:.5rem;background-color:#fafafa;display:flex;justify-content:space-between}#moreDetails[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700}#customer-adress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #customer-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #payment-way[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:column}#price-details[_ngcontent-%COMP%]{width:40%}.price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;border-bottom:1px solid lightgray}#TotalPrice[_ngcontent-%COMP%]{border-bottom:none}#TotalPrice[_ngcontent-%COMP%]   #TotalPriceText[_ngcontent-%COMP%]{font-weight:700}#TotalPrice[_ngcontent-%COMP%]   #TotalPriceValue[_ngcontent-%COMP%]{color:red}@media (max-width: 950px){#mainContainer[_ngcontent-%COMP%]{margin:0;padding:0}#OrderHeaderData[_ngcontent-%COMP%]{display:flex;flex-direction:column}#table[_ngcontent-%COMP%]{width:100%;margin-bottom:4rem}#moreDetails[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-wrap:wrap}#price-details[_ngcontent-%COMP%]{width:100%}}@media (max-width: 560px){th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700}}.statusProgress[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:1rem}.status-btns[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.status-btn[_ngcontent-%COMP%], .cancelledBtn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.5rem;font-size:.875rem;font-weight:500;transition:all .3s ease;border:none;background-color:#f3f4f6;color:#374151}.status-btn.active[_ngcontent-%COMP%]{background-color:#00b894;color:#fff}.cancelledBtn[_ngcontent-%COMP%]{padding:.3rem;margin-inline:47%;padding-inline:3rem;text-align:center;font-size:large}.cancelledBtn.active[_ngcontent-%COMP%]{background-color:red;color:#fff}@media (max-width: 768px){.demo-buttons[_ngcontent-%COMP%]{justify-content:center}}"]})};var Ns=class t{constructor(n){this.http=n}baseUrl=Ie.apiBaseUrl;polly="https://text.pollinations.ai";pollyImage="https://image.pollinations.ai/prompt/";audioPlayer=null;currentAudioUrl=null;audioEndedSubject=new ge;audioStateSubject=new Ue("stopped");audioState$=this.audioStateSubject.asObservable();callChatAPI(n){return this.http.post(`${this.baseUrl}/Rag/ask`,n).pipe(B(e=>e.data))}generateImage(n){return n?`${this.pollyImage}${encodeURIComponent(n)}`:""}generateImageWithParams(n,e=512,r=512,i){if(!n)return"";let o=`${this.pollyImage}${encodeURIComponent(n)}?width=${e}&height=${r}`;return i&&(o+=`&seed=${i}`),o}getTtsUrl(n,e="alloy"){return n?`${this.polly}/${encodeURIComponent(n)}?model=openai-audio&voice=${e}`:""}playText(n,e="alloy"){return this.stopAudio(),new oe(r=>{let i=this.getTtsUrl(n,e);return this.currentAudioUrl=i,this.audioPlayer=new Audio(i),this.audioPlayer.onplay=()=>{this.audioStateSubject.next("playing")},this.audioPlayer.onpause=()=>{this.audioStateSubject.next("paused")},this.audioPlayer.onended=()=>{this.audioStateSubject.next("stopped"),this.cleanupAudio(),r.next(),r.complete()},this.audioPlayer.onerror=o=>{this.audioStateSubject.next("stopped"),this.cleanupAudio(),r.error(o)},this.audioPlayer.play().catch(o=>{this.audioStateSubject.next("stopped"),this.cleanupAudio(),r.error(o)}),()=>{this.stopAudio()}})}pauseAudio(){this.audioPlayer&&!this.audioPlayer.paused&&(this.audioPlayer.pause(),this.audioStateSubject.next("paused"))}resumeAudio(){this.audioPlayer&&this.audioPlayer.paused&&this.audioPlayer.play().catch(n=>{console.error("Error resuming audio:",n),this.audioStateSubject.next("stopped"),this.cleanupAudio()})}stopAudio(){this.audioPlayer&&(this.audioPlayer.pause(),this.audioPlayer.currentTime=0,this.cleanupAudio(),this.audioStateSubject.next("stopped"))}cleanupAudio(){this.audioPlayer&&(this.audioPlayer.onplay=null,this.audioPlayer.onpause=null,this.audioPlayer.onended=null,this.audioPlayer.onerror=null,this.audioPlayer.src="",this.audioPlayer.load(),this.audioPlayer=null),this.currentAudioUrl=null}getResponse(n,e=!1,r="alloy"){return this.callChatAPI(n).pipe($e(i=>e&&i.answer?new oe(o=>{o.next(i),setTimeout(()=>{this.playText(i.answer,r).subscribe({error:s=>console.error("Error playing audio:",s)})},100),o.complete()}):q(i)))}static \u0275fac=function(e){return new(e||t)(F(Se))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function UT(t,n){if(t&1){let e=Q();c(0,"button",14),E("click",function(){let i=O(e).$implicit,o=w();return A(o.usePromptExample(i))}),f(1),u()}if(t&2){let e=n.$implicit;d(),D(" ",e," ")}}function HT(t,n){t&1&&(c(0,"span"),f(1),_(2,"translate"),u()),t&2&&(d(),y(I(2,1,"gen.generate")))}function $T(t,n){t&1&&(c(0,"span"),f(1),_(2,"translate"),u()),t&2&&(d(),D("\u23F3 ",I(2,1,"gen.generating")))}function zT(t,n){if(t&1){let e=Q();c(0,"div",15)(1,"div",16),v(2,"img",17),c(3,"div",18)(4,"button",19),E("click",function(){O(e);let i=w();return A(i.downloadImage(i.currentImageUrl,i.prompt))}),f(5),_(6,"translate"),u(),c(7,"button",20),E("click",function(){O(e);let i=w();return A(i.copyImageUrl(i.currentImageUrl))}),f(8),_(9,"translate"),u()()()()}if(t&2){let e=w();d(2),m("src",e.currentImageUrl,Ce)("alt",e.prompt),d(3),D(" \u{1F4E5} ",I(6,4,"gen.download")," "),d(3),D(" \u{1F4CB} ",I(9,6,"gen.copyLink")," ")}}function GT(t,n){if(t&1){let e=Q();c(0,"div",26),E("click",function(){let i=O(e).$implicit,o=w(2);return A(o.selectImage(i))}),v(1,"img",27),c(2,"div",28)(3,"p",29),f(4),_(5,"slice"),u(),c(6,"div",30)(7,"span"),f(8),u(),c(9,"span"),f(10),_(11,"date"),u()()()()}if(t&2){let e=n.$implicit,r=w(2);W("active",e.url===r.currentImageUrl),d(),m("src",e.url,Ce)("alt",e.prompt),d(3),Ot("",Vh(5,9,e.prompt,0,30),"",e.prompt.length>30?"...":""),d(4),Ot("",e.width,"\xD7",e.height),d(2),y(We(11,13,e.timestamp,"short"))}}function qT(t,n){if(t&1){let e=Q();c(0,"div",21)(1,"div",22)(2,"h3"),f(3),_(4,"translate"),u(),c(5,"button",23),E("click",function(){O(e);let i=w();return A(i.clearHistory())}),f(6),_(7,"translate"),u()(),c(8,"div",24),Z(9,GT,12,16,"div",25),u()()}if(t&2){let e=w();d(3),Ot("",I(4,4,"gen.history")," (",e.generatedImages.length,")"),d(3),D(" \u{1F5D1}\uFE0F ",I(7,6,"gen.clearHistory")," "),d(3),m("ngForOf",e.generatedImages)}}var Tf=class t{constructor(n){this.chatService=n}prompt="";width=512;height=512;seed=null;isGenerating=!1;generatedImages=[];currentImageUrl="";sizeOptions=[{label:"Square (512x512)",width:512,height:512},{label:"Portrait (512x768)",width:512,height:768},{label:"Landscape (768x512)",width:768,height:512},{label:"HD (1024x768)",width:1024,height:768},{label:"Full HD (1920x1080)",width:1920,height:1080}];promptExamples=["A mysterious old library at night","A brave knight standing on a cliff","A magical potion on a wooden table","A futuristic spaceship landing on Mars","A cozy cottage in a snowy forest"];generateImage(){if(!this.prompt.trim()){alert("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062F\u062E\u0644 \u0648\u0635\u0641 \u0644\u0644\u0635\u0648\u0631\u0629");return}this.isGenerating=!0;let n=this.seed?this.chatService.generateImageWithParams(this.prompt,this.width,this.height,this.seed):this.chatService.generateImageWithParams(this.prompt,this.width,this.height);this.currentImageUrl=n;let e={prompt:this.prompt,url:n,timestamp:new Date,width:this.width,height:this.height,seed:this.seed||void 0};this.generatedImages.unshift(e),this.generatedImages.length>10&&(this.generatedImages=this.generatedImages.slice(0,10)),this.isGenerating=!1}usePromptExample(n){this.prompt=n}setSizePreset(n){let e=n.target;if(e&&e.value){let r=this.sizeOptions.find(i=>i.label===e.value);r&&(this.width=r.width,this.height=r.height)}}downloadImage(n,e){let r=document.createElement("a");r.href=n,r.download=`generated-image-${e.substring(0,30).replace(/[^a-z0-9]/gi,"_").toLowerCase()}.jpg`,r.click()}clearHistory(){this.generatedImages=[],this.currentImageUrl=""}generateRandomSeed(){this.seed=Math.floor(Math.random()*1e6)}clearSeed(){this.seed=null}copyImageUrl(n){navigator.clipboard.writeText(n).then(()=>{alert("\u062A\u0645 \u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629")}).catch(e=>{console.error("Error copying to clipboard:",e)})}selectImage(n){this.currentImageUrl=n.url,this.prompt=n.prompt,this.width=n.width,this.height=n.height,this.seed=n.seed||null}static \u0275fac=function(e){return new(e||t)(C(Ns))};static \u0275cmp=k({type:t,selectors:[["app-image-generation"]],decls:28,vars:23,consts:[[1,"image-generation-container"],[1,"header"],[1,"content-wrapper"],[1,"generation-form"],[1,"input-group"],["for","prompt"],["id","prompt","rows","3",3,"ngModelChange","ngModel","placeholder"],[1,"prompt-examples"],[1,"examples-grid"],["class","example-btn",3,"click",4,"ngFor","ngForOf"],[1,"generate-btn",3,"click","disabled"],[4,"ngIf"],["class","image-display",4,"ngIf"],["class","image-history",4,"ngIf"],[1,"example-btn",3,"click"],[1,"image-display"],[1,"image-container"],[1,"generated-image",3,"src","alt"],[1,"image-actions"],[1,"action-btn","download",3,"click"],[1,"action-btn","copy",3,"click"],[1,"image-history"],[1,"history-header"],[1,"clear-history-btn",3,"click"],[1,"history-grid"],["class","history-item",3,"active","click",4,"ngFor","ngForOf"],[1,"history-item",3,"click"],[1,"history-thumbnail",3,"src","alt"],[1,"history-info"],[1,"history-prompt"],[1,"history-details"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),f(3),_(4,"translate"),u(),c(5,"p"),f(6),_(7,"translate"),u()(),c(8,"div",2)(9,"div",3)(10,"div",4)(11,"label",5),f(12),_(13,"translate"),u(),c(14,"textarea",6),_(15,"translate"),gt("ngModelChange",function(o){return yt(r.prompt,o)||(r.prompt=o),o}),f(16,"        "),u()(),c(17,"div",7)(18,"h4"),f(19),_(20,"translate"),u(),c(21,"div",8),Z(22,UT,2,1,"button",9),u()(),c(23,"button",10),E("click",function(){return r.generateImage()}),Z(24,HT,3,3,"span",11)(25,$T,3,3,"span",11),u()(),Z(26,zT,10,8,"div",12)(27,qT,10,8,"div",13),u()()),e&2&&(d(3),y(I(4,13,"gen.title")),d(3),y(I(7,15,"gen.description")),d(6),y(I(13,17,"gen.prompt")),d(2),m("placeholder",qe(I(15,19,"gen.placeholder"))),pt("ngModel",r.prompt),d(5),y(I(20,21,"gen.quickExamples")),d(3),m("ngForOf",r.promptExamples),d(),m("disabled",r.isGenerating||!r.prompt.trim()),d(),m("ngIf",!r.isGenerating),d(),m("ngIf",r.isGenerating),d(),m("ngIf",r.currentImageUrl),d(),m("ngIf",r.generatedImages.length>0))},dependencies:[Y,Tt,Ne,kt,Ke,st,yn,Be,bm,jr,Ze],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.image-generation-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f8f9ff,#e2e8f0);color:#2d3748;line-height:1.7;padding:20px 0}.content-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 24px;display:grid;gap:60px}.header[_ngcontent-%COMP%]{text-align:center;padding:40px 0 20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:300;color:#1a202c;margin-bottom:16px;letter-spacing:-.03em;position:relative;text-shadow:0 2px 4px rgba(0,0,0,.03)}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:100px;height:4px;background:linear-gradient(90deg,#ff4d6d,#ff9a76);border-radius:2px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#64748b;max-width:700px;margin:0 auto;opacity:.9;font-weight:300}.generation-form[_ngcontent-%COMP%]{background:#ffffffd9;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:28px;padding:50px;box-shadow:0 8px 32px #00000014;border:1px solid rgba(255,255,255,.6);position:relative;transition:transform .3s ease}.generation-form[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #0000001f}.generation-form[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#ff4d6d,#ffb74d,#4fc3f7);border-radius:28px 28px 0 0}.input-group[_ngcontent-%COMP%]{margin-bottom:32px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:600;color:#475569;margin-bottom:10px;letter-spacing:.05em;transition:color .3s}.input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:16px 20px;background:#f8fafc;border:2px solid #e2e8f0;border-radius:14px;color:#1e293b;font-size:1rem;font-family:inherit;transition:all .3s ease;resize:vertical;min-height:120px;box-shadow:0 2px 6px #00000005}.input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff4d6d;background:#fff;box-shadow:0 4px 16px #ff4d6d26}.input-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-style:italic}.prompt-examples[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#64748b;margin-bottom:24px;text-align:center;letter-spacing:.05em}.examples-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center}.example-btn[_ngcontent-%COMP%]{padding:14px 28px;background:#f1f5f9;border:1px solid #cbd5e1;border-radius:50px;color:#334155;font-size:.92rem;font-weight:500;cursor:pointer;transition:all .3s ease;white-space:nowrap;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.example-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0;border-color:#94a3b8;transform:translateY(-2px);box-shadow:0 6px 16px #00000014}.generate-btn[_ngcontent-%COMP%]{width:100%;padding:20px;background:linear-gradient(90deg,#ff4d6d,#ff9a76);border:none;border-radius:18px;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .4s ease;text-transform:uppercase;letter-spacing:.06em;position:relative;overflow:hidden;margin-top:20px}.generate-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(90deg,#e63e4d,#e68e17);transform:translateY(-3px);box-shadow:0 8px 24px #ff4d6d4d}.generate-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.image-display[_ngcontent-%COMP%]{display:flex;justify-content:center}.image-container[_ngcontent-%COMP%]{position:relative;max-width:800px;width:100%;border-radius:24px;overflow:hidden;box-shadow:0 10px 30px #0000001a;transition:all .4s cubic-bezier(.25,.46,.45,.94)}.image-container[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 16px 40px #00000026}.generated-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:24px}.image-actions[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;display:flex;gap:12px;opacity:0;transition:opacity .4s ease}.image-container[_ngcontent-%COMP%]:hover   .image-actions[_ngcontent-%COMP%]{opacity:1}.action-btn[_ngcontent-%COMP%]{background:#007bffe6;color:#fff;border:none;padding:10px 18px;border-radius:12px;cursor:pointer;font-weight:500;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:6px}.action-btn.download[_ngcontent-%COMP%]{background:#2eb857e6}.action-btn.copy[_ngcontent-%COMP%]{background:#ffc107e6}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:brightness(1.1)}.image-history[_ngcontent-%COMP%]{margin-top:40px}.history-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.history-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;color:#1e293b;font-weight:600}.clear-history-btn[_ngcontent-%COMP%]{background:transparent;border:2px solid #0ea5e9;color:#0ea5e9;padding:8px 20px;border-radius:12px;cursor:pointer;font-weight:500;font-size:.95rem;transition:all .3s ease}.clear-history-btn[_ngcontent-%COMP%]:hover{background:#0ea5e9;color:#fff;transform:translateY(-2px)}.history-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:20px}.history-item[_ngcontent-%COMP%]{background:#f8fafc;border-radius:16px;overflow:hidden;cursor:pointer;border:3px solid transparent;transition:all .3s ease;box-shadow:0 4px 12px #0000000d}.history-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #00000014}.history-item.active[_ngcontent-%COMP%]{border-color:#0ea5e9;background:#f0f9ff;transform:scale(1.03) translateY(-4px);box-shadow:0 10px 24px #0ea5e933}.history-thumbnail[_ngcontent-%COMP%]{width:100%;height:100px;object-fit:cover;border-radius:12px 12px 0 0}.history-info[_ngcontent-%COMP%]{padding:10px;font-size:.85rem;color:#475569}.history-prompt[_ngcontent-%COMP%]{margin:0 0 6px;font-weight:500;line-height:1.4}.history-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.75rem;color:#94a3b8}@media (max-width: 768px){.content-wrapper[_ngcontent-%COMP%]{padding:20px;gap:40px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.generation-form[_ngcontent-%COMP%]{padding:30px 20px}.examples-grid[_ngcontent-%COMP%]{gap:10px}.example-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:.85rem}.history-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(130px,1fr))}.history-thumbnail[_ngcontent-%COMP%]{height:80px}}']})};var qx=[{path:"",component:Xd},{path:"authors/:id",component:tf},{path:"book-details/:id",component:sf},{path:"confirm-email",component:mf},{path:"confirm-email-success",component:vf},{path:"confirm-email-failed",component:bf},{path:"forgot-password",component:xf},{path:"reset-password",component:yf},{path:"reset-password-success",component:Cf},{path:"reset-password-failed",component:_f},{path:"login",component:af},{path:"register",component:lf},{path:"MainFilterContainer/:Id",component:pf},{path:"allAuthors",component:gf},{path:"Cart",component:hf},{path:"AllCategories",component:wf},{path:"user-profile",component:Mf},{path:"checkout",component:If},{path:"wishlist",component:Df,canActivate:[wl]},{path:"Publisher/:id",component:Ef},{path:"orders",component:Of,canActivate:[wl]},{path:"similar-books",component:As},{path:"OrderDetails/:trackingNumber",component:Af},{path:"image-generation",component:Tf}];var Wx=(t,n)=>{let e=t.clone({headers:t.headers.set("Accept-Language",localStorage.getItem("lang")||"ar")});return n(e)};var Yx=(t,n)=>n(t).pipe(rt(e=>{console.error("HTTP Request Error Details:",{url:t.url,method:t.method,status:e.status,statusText:e.statusText,errorBody:e.error,message:e.message,timestamp:new Date().toISOString(),fullError:e});let r="\u062D\u062F\u062B \u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u062A\u0648\u0642\u0639";return e.error instanceof ErrorEvent?r="\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645":e.status===0?r="\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645. \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u062A\u0635\u0627\u0644\u0643 \u0628\u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A":e.status===400?r="\u0628\u064A\u0627\u0646\u0627\u062A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062F\u062E\u0644\u0629":e.status===401?r="\u063A\u064A\u0631 \u0645\u0635\u0631\u062D \u0644\u0643 \u0628\u0627\u0644\u0648\u0635\u0648\u0644. \u064A\u0631\u062C\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644":e.status===403?r="\u0644\u0627 \u062A\u0645\u0644\u0643 \u0635\u0644\u0627\u062D\u064A\u0629 \u0644\u0623\u062F\u0627\u0621 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629":e.status===404?r="\u0627\u0644\u0645\u0648\u0631\u062F \u0627\u0644\u0645\u0637\u0644\u0648\u0628 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F":e.status===429?r="\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0644\u0628\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u0642\u0644\u064A\u0644\u0627\u064B":e.status>=500?r="\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0628\u0639\u062F \u0642\u0644\u064A\u0644":e.error&&typeof e.error=="string"&&e.error.includes("<!doctype")&&(r="\u0627\u0644\u062E\u0627\u062F\u0645 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D \u062D\u0627\u0644\u064A\u0627\u064B"),Jn(()=>({message:r,status:e.status,statusText:e.statusText,originalError:e}))}));var k0=new U("TRANSLATE_HTTP_LOADER_CONFIG"),WT=(()=>{class t{http;config;constructor(){this.config=T({prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1},M(k0)),this.http=this.config.useHttpBackend?new Se(M(Ur)):M(Se)}getTranslation(e){let r=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${e}${this.config.suffix}${r}`)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function Qx(t={}){let n=t.useHttpBackend??!1;return[{provide:k0,useValue:t},{provide:vi,useClass:WT,deps:[n?Ur:Se,k0]}]}var Zx=(t,n)=>{let e=localStorage.getItem("auth_token");return e&&(t=t.clone({setHeaders:{Authorization:`Bearer ${e}`}})),n(t)};var Kx={providers:[og(),zh({eventCoalescing:!0}),d0(qx),Rm(Lm(),Fm([Zx,Yx,Wx])),K_({loader:Qx({prefix:"/assets/i18n/",suffix:".json"}),lang:"ar",fallbackLang:"en"})]};var Rs=class t{constructor(n,e){this.document=n;this.translate=e;let r=localStorage.getItem("lang")||"ar",i=r==="ar"?"rtl":"ltr";this.dirSubject=new Ue(i),this.dir$=this.dirSubject.asObservable(),localStorage.getItem("dir")||localStorage.setItem("dir",i),this.translate.setDefaultLang("ar"),this.translate.use(r),this.document.documentElement.setAttribute("dir",i),this.document.documentElement.setAttribute("lang",r)}dirSubject;dir$;setLang(n){localStorage.setItem("lang",n);let e=n==="ar"?"rtl":"ltr";localStorage.setItem("dir",e),this.dirSubject.next(e),this.translate.use(n),this.document.documentElement.setAttribute("dir",e),this.document.documentElement.setAttribute("lang",n)}static \u0275fac=function(e){return new(e||t)(F(ke),F(nt))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var YT=["nav"],QT=t=>({show:t});function ZT(t,n){t&1&&(c(0,"li",25)(1,"a",44),f(2),_(3,"translate"),u()()),t&2&&(d(2),y(I(3,1,"navbar.menu.login")))}function KT(t,n){t&1&&(c(0,"li",25)(1,"a",45),f(2),_(3,"translate"),u()()),t&2&&(d(2),y(I(3,1,"navbar.menu.register")))}function JT(t,n){if(t&1&&(c(0,"span",66),f(1),u()),t&2){let e=w(2);d(),y(e.cartItemsCount())}}function XT(t,n){if(t&1){let e=Q();c(0,"button",46),v(1,"img",47),_(2,"translate"),c(3,"ul",14)(4,"li")(5,"a",48),v(6,"img",49)(7,"i",50),f(8),_(9,"translate"),u()(),c(10,"li")(11,"a",51),v(12,"i",52),f(13),_(14,"translate"),v(15,"span",53),u()(),c(16,"li")(17,"a",54),v(18,"i",55),f(19),_(20,"translate"),v(21,"span",53),u()(),c(22,"li")(23,"a",15),v(24,"i",16),f(25),_(26,"translate"),u()(),c(27,"li")(28,"a",17),v(29,"i",18),f(30),_(31,"translate"),u()(),c(32,"li")(33,"a",19),v(34,"i",20),f(35),_(36,"translate"),u()(),c(37,"li")(38,"a",21),v(39,"i",22),f(40),_(41,"translate"),u()(),c(42,"li")(43,"a",33),v(44,"i",56),f(45),_(46,"translate"),Z(47,JT,2,1,"span",57),u()(),c(48,"li")(49,"a",58),v(50,"i",59),f(51),_(52,"translate"),u()(),c(53,"li")(54,"a",60),v(55,"i",61),f(56),_(57,"translate"),u()(),c(58,"li")(59,"a",62),v(60,"i",63),f(61),_(62,"translate"),u()(),c(63,"li")(64,"a",64),E("click",function(){O(e);let i=w();return A(i.logout())}),v(65,"i",65),f(66),_(67,"translate"),u()()()()}if(t&2){let e=w();d(),m("alt",qe(I(2,15,"navbar.userMenu.profile"))),d(7),D(" ",I(9,17,"navbar.userMenu.profile")," "),d(5),D(" ",I(14,19,"navbar.userMenu.notifications")," "),d(6),D(" ",I(20,21,"navbar.userMenu.messages")," "),d(6),D(" ",I(26,23,"navbar.menu.allBooks")),d(5),D(" ",I(31,25,"navbar.menu.readableBooks")),d(5),D(" ",I(36,27,"navbar.menu.purchasableBooks")),d(5),D(" ",I(41,29,"navbar.menu.audioBooks")),d(5),D(" ",I(46,31,"navbar.userMenu.cart")," "),d(2),m("ngIf",e.cartItemsCount()>0),d(4),D(" ",I(52,33,"navbar.userMenu.wishlist")," "),d(5),D(" ",I(57,35,"navbar.userMenu.orders")," "),d(5),D(" ",I(62,37,"navbar.userMenu.apiTokens")),d(5),D(" ",I(67,39,"navbar.userMenu.logout"))}}function e3(t,n){t&1&&(c(0,"a",58)(1,"button",30),v(2,"i",67),u()())}function t3(t,n){if(t&1&&(c(0,"span",68),f(1),u()),t&2){let e=w();d(),y(e.cartItemsCount())}}var kf=class t{constructor(n,e,r,i,o){this.langService=n;this.translate=e;this.auth=r;this.router=i;this.cartService=o;Da(()=>{this.auth.user()?this.loadCartItemsCount():this.cartItemsCount.set(0)})}currentLang=localStorage.getItem("lang")||"ar";isRTL=this.currentLang==="ar";showDropdown=!1;cartItemsCount=he(0);cartSubscription;ngOnInit(){this.langService.dir$.subscribe(n=>{this.isRTL=n==="rtl",this.currentLang=localStorage.getItem("lang")||"ar"}),this.isAuthenticated()&&this.loadCartItemsCount(),this.cartSubscription=this.cartService.cartUpdated$.subscribe(()=>{this.isAuthenticated()&&this.loadCartItemsCount()})}ngOnDestroy(){this.cartSubscription&&this.cartSubscription.unsubscribe()}loadCartItemsCount(){this.cartService.getUserCart().subscribe({next:n=>{this.cartItemsCount.set(n.totalItemsCount)},error:n=>{console.error("Error loading cart items count:",n),this.cartItemsCount.set(0)}})}nav;isNavbarCollapsed=!0;isAuthenticated=Me(()=>!!this.auth.user());onScroll(){this.nav&&(window.scrollY>0?this.nav.nativeElement.classList.add("glass"):this.nav.nativeElement.classList.remove("glass"))}toggleNavbar(){this.isNavbarCollapsed=!this.isNavbarCollapsed}closeNavbar(){this.isNavbarCollapsed=!0}logout(){this.auth.logout(),this.cartItemsCount.set(0),this.router.navigate(["/"])}refreshCartCount(){this.isAuthenticated()?this.loadCartItemsCount():this.cartItemsCount.set(0)}updateCartCount(n){this.cartItemsCount.set(n)}toggleMenu(){this.showDropdown=!this.showDropdown}changeLang(n){this.langService.setLang(n),this.showDropdown=!1,window.location.reload()}static \u0275fac=function(e){return new(e||t)(C(Rs),C(nt),C(at),C(se),C(Nt))};static \u0275cmp=k({type:t,selectors:[["app-navbar"]],viewQuery:function(e,r){if(e&1&&no(YT,5),e&2){let i;Rr(i=Fr())&&(r.nav=i.first)}},hostBindings:function(e,r){e&1&&E("scroll",function(){return r.onScroll()},ya)},decls:73,vars:44,consts:[["nav",""],[1,"all-nav"],[1,"navbarSeparator"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center"],["src","/icons/logo.svg","width","40","height","40",1,"me-2",3,"alt"],[1,"ms-lg-3","my-2","my-lg-0"],[3,"placeholderSize"],["id","navbarContent",1,"collapse","navbar-collapse","d-flex","align-items-center"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item","books","position-relative"],[1,"nav-link"],[1,"dropdown-menu-custom"],["routerLink","/books"],[1,"fas","fa-book-open"],["routerLink","/books/readable"],[1,"fas","fa-feather-alt"],["routerLink","/books/purchasable"],[1,"fas","fa-child"],["routerLink","/books/audio"],[1,"fas","fa-headphones-alt"],["class","nav-item",4,"ngIf"],["class","nav-item ",4,"ngIf"],[1,"nav-item"],["routerLink","/MainFilterContainer/7",1,"nav-link"],["routerLink","/image-generation",1,"nav-link"],[1,"d-flex","align-items-center","gap-3"],["class","btn p-0",4,"ngIf"],[1,"btn","btn-nav","p-0","position-relative"],[1,"fa-regular","fa-bell","fs-5","opacity-50"],["routerLink","/wishlist",4,"ngIf"],["routerLink","/Cart"],[1,"fa-solid","fa-cart-shopping","fs-6","opacity-50"],["class","badge",4,"ngIf"],[1,"fas","fa-truck","text-success","fs-6","opacity-75"],[1,"lang-dropdown",3,"dir"],[1,"lang-btn",3,"click"],[1,"flag",3,"ngClass"],[1,"menu",3,"ngClass"],[1,"menu-item",3,"click"],[1,"flag","flag-ar"],[1,"flag","flag-en"],["routerLink","/login",1,"nav-link"],["routerLink","/register",1,"nav-link"],[1,"btn","p-0"],["src","/icons/user.png","width","28",1,"rounded-circle",3,"alt"],["routerLink","/profile"],["src","/icons/user.png","width","28",1,"rounded-circle"],[1,"fas","fa-user"],["routerLink","/notifications"],[1,"fas","fa-bell"],[1,"badge","bg-danger"],["routerLink","/messages"],[1,"fas","fa-envelope"],[1,"fas","fa-shopping-cart"],["class","badge bg-success",4,"ngIf"],["routerLink","/wishlist"],[1,"fas","fa-heart"],["routerLink","/orders"],[1,"fas","fa-box"],["routerLink","/api-tokens"],[1,"fas","fa-key"],[3,"click"],[1,"fas","fa-sign-out-alt"],[1,"badge","bg-success"],[1,"fas","fa-heart","fs-6","opacity-50","text-danger"],[1,"badge"]],template:function(e,r){if(e&1){let i=Q();c(0,"div",1,0),v(2,"div",2),c(3,"nav",3)(4,"div",4)(5,"div",5)(6,"a",6),v(7,"img",7),_(8,"translate"),u(),c(9,"div",8),v(10,"app-search",9),u()(),c(11,"div",10)(12,"ul",11)(13,"li",12)(14,"a",13),f(15),_(16,"translate"),u(),c(17,"ul",14)(18,"li")(19,"a",15),v(20,"i",16),f(21),_(22,"translate"),u()(),c(23,"li")(24,"a",17),v(25,"i",18),f(26),_(27,"translate"),u()(),c(28,"li")(29,"a",19),v(30,"i",20),f(31),_(32,"translate"),u()(),c(33,"li")(34,"a",21),v(35,"i",22),f(36),_(37,"translate"),u()()()(),Z(38,ZT,4,3,"li",23)(39,KT,4,3,"li",24),c(40,"li",25)(41,"a",26),f(42),_(43,"translate"),u()(),c(44,"li",25)(45,"a",27),f(46),_(47,"translate"),u()()(),c(48,"div",28),Z(49,XT,68,41,"button",29),c(50,"button",30),v(51,"i",31),u(),Z(52,e3,3,0,"a",32),c(53,"a",33)(54,"button",30),v(55,"i",34),Z(56,t3,2,1,"span",35),u()(),c(57,"button",30),v(58,"i",36),u(),c(59,"div",37)(60,"button",38),E("click",function(){return O(i),A(r.toggleMenu())}),v(61,"div",39),u(),c(62,"div",40)(63,"button",41),E("click",function(){return O(i),A(r.changeLang("ar"))}),v(64,"div",42),c(65,"span"),f(66),_(67,"translate"),u()(),c(68,"button",41),E("click",function(){return O(i),A(r.changeLang("en"))}),v(69,"div",43),c(70,"span"),f(71),_(72,"translate"),u()()()()()()()()()}e&2&&(d(7),m("alt",qe(I(8,22,"navbar.logo"))),d(3),m("placeholderSize","0.8rem"),d(),W("show",!r.isNavbarCollapsed),d(4),y(I(16,24,"navbar.menu.books")),d(6),D(" ",I(22,26,"navbar.menu.allBooks")),d(5),D(" ",I(27,28,"navbar.menu.readableBooks")),d(5),D(" ",I(32,30,"navbar.menu.purchasableBooks")),d(5),D(" ",I(37,32,"navbar.menu.audioBooks")),d(2),m("ngIf",!r.isAuthenticated()),d(),m("ngIf",!r.isAuthenticated()),d(3),y(I(43,34,"navbar.menu.kidsSection")),d(4),y(I(47,36,"navbar.menu.aiChatbot")),d(3),m("ngIf",r.isAuthenticated()),d(3),m("ngIf",r.isAuthenticated()),d(4),m("ngIf",r.isAuthenticated()&&r.cartItemsCount()>0),d(3),m("dir",r.isRTL?"rtl":"ltr"),d(2),m("ngClass","flag-"+r.currentLang),d(),m("ngClass",_e(42,QT,r.showDropdown)),d(4),y(I(67,38,"navbar.languageSwitcher.arabic")),d(5),y(I(72,40,"navbar.languageSwitcher.english")))},dependencies:[Ds,Y,Gt,Ne,de,Be,Ze],styles:[`.all-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;z-index:1000;background-color:#fff;transition:all .3s ease;box-shadow:0 2px 10px #0000001a}.all-nav.glass[_ngcontent-%COMP%]{background:#fffffff2;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 8px 32px #1f268726;border-bottom:1px solid rgba(255,255,255,.18)}.navbarSeparator[_ngcontent-%COMP%]{height:4px;background:linear-gradient(90deg,#e60000,#f44)}.navbar[_ngcontent-%COMP%]{padding:.5rem 0}.navbar-brand[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.nav-link[_ngcontent-%COMP%]{color:#626c7e;font-weight:600;font-size:.9rem;opacity:.95;position:relative;transition:color .3s ease,font-size .3s ease;cursor:pointer;padding:.5rem 1rem;border-radius:.5rem}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus, .nav-link.active[_ngcontent-%COMP%]{color:#e60000;background-color:#e600001a}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:50%;width:0;height:2px;background:linear-gradient(90deg,#e60000,#f44);transition:width .3s ease,transform .3s ease;transform:translate(-50%)}.nav-link[_ngcontent-%COMP%]:hover:after, .nav-link[_ngcontent-%COMP%]:focus:after, .nav-link.active[_ngcontent-%COMP%]:after{width:80%}.btn-nav[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;transition:transform .3s ease}.btn-nav[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-5px;color:#fff;background-color:#e60000;width:18px;height:18px;border-radius:50%;font-size:.7rem;display:flex;justify-content:center;align-items:center;font-weight:600}.navbar-collapse[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.navbar-toggler[_ngcontent-%COMP%]{border:none;padding:.5rem;font-size:1.25rem;line-height:1;background-color:transparent;border-radius:.5rem;transition:all .3s ease;display:none;color:#e60000;border:2px solid transparent}.navbar-toggler[_ngcontent-%COMP%]:hover{background-color:#e600001a;border-color:#e60000}.navbar-toggler[_ngcontent-%COMP%]:focus{text-decoration:none;outline:0;box-shadow:0 0 0 .25rem #e6000040}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23e60000' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:center;background-size:100%;transition:all .3s ease}.navbar-toggler[_ngcontent-%COMP%]:hover   .navbar-toggler-icon[_ngcontent-%COMP%]{transform:scale(1.1)}@media (min-width: 992px){.navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}}@media (max-width: 991.98px){.navbar-toggler[_ngcontent-%COMP%]{display:block}.navbar-collapse[_ngcontent-%COMP%]{overflow:hidden;position:absolute;top:100%;left:0;right:0;background:linear-gradient(135deg,#fff,#f8f9fa);box-shadow:0 8px 25px #00000026;border-radius:0 0 20px 20px;border:1px solid rgba(230,0,0,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.navbar-collapse[_ngcontent-%COMP%]:not(.show){max-height:0;opacity:0;visibility:hidden;transform:translateY(-10px)}.navbar-collapse.show[_ngcontent-%COMP%]{max-height:600px;opacity:1;visibility:visible;transform:translateY(0)}}@media (max-width: 991.98px){.navbar-nav[_ngcontent-%COMP%]{text-align:center;padding:1.5rem 0;width:100%}.nav-item[_ngcontent-%COMP%]{width:100%;margin:.5rem 0}.nav-link[_ngcontent-%COMP%]{font-size:1rem;margin:.5rem 0;padding:1rem 1.5rem;display:block;border-radius:12px;transition:all .3s ease;border:1px solid transparent;background:#ffffff80}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus, .nav-link.active[_ngcontent-%COMP%]{font-size:1.05rem;background:linear-gradient(135deg,#e600001a,#ff44441a);color:#e60000;border-color:#e6000033;transform:translate(5px);box-shadow:0 4px 15px #e600001a}.navbar-collapse[_ngcontent-%COMP%]{margin-top:0}.navbar-nav[_ngcontent-%COMP%]{order:1;margin-bottom:1.5rem}.d-flex.gap-3[_ngcontent-%COMP%]{order:2;justify-content:center;flex-wrap:wrap;gap:1.5rem;padding:1.5rem 0;border-top:2px solid rgba(230,0,0,.1);background:#ffffff4d;margin:0 1rem;border-radius:15px}.ms-lg-3[_ngcontent-%COMP%]{order:0;margin:1.5rem 0;text-align:center;padding:0 1rem}.navbar-collapse.show[_ngcontent-%COMP%]{animation:slideDown .5s ease-out}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px);max-height:0}to{opacity:1;transform:translateY(0);max-height:600px}}}@media (max-width: 767.98px){.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}.nav-link[_ngcontent-%COMP%]{font-size:.95rem;padding:.8rem 1.2rem;margin:.3rem 0}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus, .nav-link.active[_ngcontent-%COMP%]{font-size:1rem}.d-flex.gap-3[_ngcontent-%COMP%]{gap:1.2rem;padding:1.2rem 0}.btn-nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 575.98px){.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.nav-link[_ngcontent-%COMP%]{font-size:.9rem;padding:.7rem 1rem}.d-flex.gap-3[_ngcontent-%COMP%]{gap:1rem}.btn-nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px}.badge[_ngcontent-%COMP%]{width:15px;height:15px;font-size:.55rem;top:-10px;right:-3px}.btn-nav[_ngcontent-%COMP%]{padding:.3rem}}.nav-item.books[_ngcontent-%COMP%]{position:relative}.all-nav.glass[_ngcontent-%COMP%]{background:#ffffff9a;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 8px 32px #1f26875e;border-bottom:1px solid rgba(255,255,255,.18)}.dropdown-menu-custom[_ngcontent-%COMP%]{list-style:none;padding:10px 0;margin:0;position:absolute;top:100%;min-width:200px;background-color:#fff;border-radius:10px;box-shadow:0 8px 32px #1f268726;opacity:0;visibility:hidden;transition:.3s ease-in-out;z-index:1000;font-weight:500;font-size:14px;color:#333;border:1px solid rgba(0,0,0,.1)}[dir=rtl][_ngcontent-%COMP%]   .dropdown-menu-custom[_ngcontent-%COMP%]{left:0;right:auto;text-align:right}[dir=ltr][_ngcontent-%COMP%]   .dropdown-menu-custom[_ngcontent-%COMP%]{left:auto;right:0;text-align:left}.dropdown-menu-custom[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 20px;transition:background-color .3s ease;display:flex;align-items:center;justify-content:space-between}.dropdown-menu-custom[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;display:flex;align-items:center;gap:10px;width:100%}.dropdown-menu-custom[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#ff00001a}.dropdown-menu-custom[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#e60000}.dropdown-menu-custom[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:2px 6px;font-size:.75rem;border-radius:10px}.nav-item.books[_ngcontent-%COMP%]:hover   .dropdown-menu-custom[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover   .dropdown-menu-custom[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(5px)}@media (max-width: 991.98px){.dropdown-menu-custom[_ngcontent-%COMP%]{position:static;transform:none;opacity:1;visibility:visible;box-shadow:none;border:none;background-color:transparent;margin-top:.5rem;border-radius:10px;overflow:hidden}.dropdown-menu-custom[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 20px;margin:.2rem 0;border-radius:8px;background:#ffffff4d}.dropdown-menu-custom[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#626c7e;font-size:.9rem}.dropdown-menu-custom[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e600001a,#ff44441a);transform:translate(5px)}}.lang-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.lang-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:8px;border-radius:4px;transition:background .2s}.lang-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.flag[_ngcontent-%COMP%]{width:28px;height:20px;border-radius:3px;display:block;position:relative}.flag-ar[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ce1126 33%,#fff 33% 66%,#000 66%)}.flag-en[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#b22234 0% 8%,#fff 8% 15%,#b22234 15% 23%,#fff 23% 31%,#b22234 31% 38%,#fff 38% 46%,#b22234 46% 54%,#fff 54% 62%,#b22234 62% 69%,#fff 69% 77%,#b22234 77% 85%,#fff 85% 92%,#b22234 92% 100%);position:relative}.flag-en[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:40%;height:54%;background:#3c3b6e}.menu[_ngcontent-%COMP%]{position:absolute;top:100%;background:#fff;border:1px solid #ddd;border-radius:6px;box-shadow:0 2px 10px #0000001a;width:150px;z-index:100;opacity:0;visibility:hidden;transform:translateY(-5px);transition:all .2s ease;right:0}[dir=rtl][_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{right:-100px}.menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;cursor:pointer;border:none;background:none;width:100%;text-align:left;transition:background .2s}[dir=rtl][_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{text-align:right}.menu-item[_ngcontent-%COMP%]:hover{background:#f5f5f5}.menu-item.active[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.menu-item[_ngcontent-%COMP%]   .flag[_ngcontent-%COMP%]{width:20px;height:14px;margin:8px}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.check[_ngcontent-%COMP%]{margin-left:auto;color:#4caf50;font-weight:700}[dir=rtl][_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{margin-left:0;margin-right:auto}[dir=ltr][_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}`]})};var Nf=class t{constructor(n){this.translate=n}static \u0275fac=function(e){return new(e||t)(C(nt))};static \u0275cmp=k({type:t,selectors:[["app-footer"]],decls:81,vars:64,consts:[["dir","rtl",1,"text-light","py-5",2,"background-color","#1d293b"],[1,"container"],[1,"row"],[1,"col-md-3","mb-4","text-end"],[1,"fw-bold","mb-2"],[1,"list-unstyled"],["href","#",1,"text-decoration-none","text-light-50","d-block","mb-2"],["href","#",1,"text-decoration-none","text-light-50","d-block"],[1,"col-md-6","mb-4","text-center"],[1,"fw-bold","mb-3"],[1,"d-flex","justify-content-center","gap-2","mb-3","flex-wrap"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg","height","40",3,"alt"],["src","https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg","height","40",3,"alt"],[1,"d-flex","justify-content-center","gap-3","align-items-center","mb-3"],["src","https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png","height","20",3,"alt"],["src","https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png","height","20",3,"alt"],[1,"border-secondary"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","mt-3","text-light-50"],[1,"d-flex","gap-3","fs-5"],["href","#",1,"text-light"],[1,"fab","fa-telegram"],[1,"fab","fa-youtube"],[1,"fab","fa-x-twitter"],[1,"fab","fa-instagram"],[1,"fab","fa-facebook"]],template:function(e,r){e&1&&(R(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),f(5),_(6,"translate"),L(),R(7,"ul",5)(8,"li")(9,"a",6),f(10),_(11,"translate"),L()(),R(12,"li")(13,"a",6),f(14),_(15,"translate"),L()(),R(16,"li")(17,"a",6),f(18),_(19,"translate"),L()(),R(20,"li")(21,"a",7),f(22),_(23,"translate"),L()()()(),R(24,"div",3)(25,"h6",4),f(26),_(27,"translate"),L(),R(28,"ul",5)(29,"li")(30,"a",6),f(31),_(32,"translate"),L()(),R(33,"li")(34,"a",6),f(35),_(36,"translate"),L()(),R(37,"li")(38,"a",7),f(39),_(40,"translate"),L()()()(),R(41,"div",8)(42,"h5",9),f(43),_(44,"translate"),L(),R(45,"div",10),re(46,"img",11),_(47,"translate"),re(48,"img",12),_(49,"translate"),L(),R(50,"div",13),re(51,"img",14),_(52,"translate"),re(53,"img",15),_(54,"translate"),L()()(),re(55,"hr",16),R(56,"div",17)(57,"div",18)(58,"a",19),re(59,"i",20),f(60),_(61,"translate"),L(),R(62,"a",19),re(63,"i",21),f(64),_(65,"translate"),L(),R(66,"a",19),re(67,"i",22),f(68),_(69,"translate"),L(),R(70,"a",19),re(71,"i",23),f(72),_(73,"translate"),L(),R(74,"a",19),re(75,"i",24),f(76),_(77,"translate"),L()(),R(78,"small"),f(79),_(80,"translate"),L()()()()),e&2&&(d(5),y(I(6,24,"footer.quickLinks")),d(5),y(I(11,26,"footer.termsAndConditions")),d(4),y(I(15,28,"footer.privacyPolicy")),d(4),y(I(19,30,"footer.returnPolicy")),d(4),y(I(23,32,"footer.discountCardInstructions")),d(4),y(I(27,34,"footer.supportLinks")),d(5),y(I(32,36,"footer.contactUs")),d(4),y(I(36,38,"footer.customerService")),d(4),y(I(40,40,"footer.branchLocations")),d(4),y(I(44,42,"footer.appDownload")),d(3),lr("alt",qe(I(47,44,"footer.googlePlay"))),d(2),lr("alt",qe(I(49,46,"footer.appStore"))),d(3),lr("alt",qe(I(52,48,"footer.mastercard"))),d(2),lr("alt",qe(I(54,50,"footer.visa"))),d(7),D(" ",I(61,52,"footer.telegram")),d(4),D(" ",I(65,54,"footer.youtube")),d(4),D(" ",I(69,56,"footer.twitter")),d(4),D(" ",I(73,58,"footer.instagram")),d(4),D(" ",I(77,60,"footer.facebook")),d(3),y(I(80,62,"footer.copyright")))},dependencies:[Y,Be,Ze],styles:["footer[_ngcontent-%COMP%]{position:static}"]})};var N0={production:!0,apiUrl:"http://localhost:5234",cartUrl:"http://localhost:5234"};var n3=["chatMessages"],r3=t=>["/book-details/",t];function i3(t,n){if(t&1&&(c(0,"span"),f(1),u()),t&2){let e=w().$implicit;d(),y(e.isUser?e.question:e.answer)}}function o3(t,n){t&1&&(c(0,"div",35),v(1,"span")(2,"span")(3,"span"),u())}function s3(t,n){if(t&1&&v(0,"img",37),t&2){let e=w().$implicit;m("src",e.coverImageUrl,Ce)}}function a3(t,n){if(t&1&&(c(0,"div",36),z(1,s3,1,1,"img",37),c(2,"a",38)(3,"div",39)(4,"strong"),f(5),u(),c(6,"p"),f(7),u()()()()),t&2){let e=n.$implicit;d(),G(e!=null&&e.coverImageUrl?1:-1),d(),m("routerLink",_e(4,r3,e==null?null:e.bookId)),d(3),y(e==null?null:e.title),d(2),y(e==null?null:e.snippet)}}function l3(t,n){t&1&&(c(0,"p"),f(1),_(2,"translate"),u()),t&2&&(d(),y(I(2,1,"AseerAlkotb.noSources")))}function c3(t,n){if(t&1&&(c(0,"div",33)(1,"h6"),f(2),_(3,"translate"),u(),X(4,a3,8,6,"div",36,to,!1,l3,3,3,"p"),u()),t&2){let e=w().$implicit;d(2),y(I(3,2,"AseerAlkotb.sources")),d(2),ee(e.sources)}}function u3(t,n){if(t&1&&(c(0,"div",28)(1,"div",29)(2,"div",30),Z(3,i3,2,1,"span",31)(4,o3,4,0,"div",32),z(5,c3,7,4,"div",33),u(),c(6,"div",34),f(7),u()()()),t&2){let e=n.$implicit;W("user-message",e.isUser)("bot-message",!e.isUser),d(2),W("typing",e.isTyping),d(),m("ngIf",!e.isTyping),d(),m("ngIf",e.isTyping),d(),G(!e.isUser&&!e.isTyping&&e.sources&&e.sources.length>0?5:-1),d(2),y(e.time)}}function d3(t,n){if(t&1&&(c(0,"div",40)(1,"div",41)(2,"span"),f(3),_(4,"translate"),u(),c(5,"div",42),f(6),u()()()),t&2){let e=w();d(3),y(I(4,2,"AseerAlkotb.inquiryNotice")),d(3),y(e.getCurrentTime())}}function f3(t,n){t&1&&v(0,"div",46)}function p3(t,n){if(t&1){let e=Q();c(0,"button",43),E("click",function(){O(e);let i=w();return A(i.toggleChat())}),c(1,"div",44),f(2,"\u{1F4D6}"),u(),Z(3,f3,1,0,"div",45),u()}if(t&2){let e=w();d(3),m("ngIf",e.hasUnreadMessages)}}var Rf=class t{constructor(n,e){this.chatService=n;this.translate=e}chatMessagesRef;showModal=!1;showChat=!1;showThankYouModal=!1;showInquiryNotice=!1;showConfirmationNotice=!1;hasUnreadMessages=!0;currentMessage="";useAudioResponse=!1;isAudioPlaying=!1;messages=[];ngOnDestroy(){this.chatService.stopAudio()}ngOnInit(){setTimeout(()=>{this.showModal=!1},1e3);let n={answer:"",isUser:!1,time:this.getCurrentTime()};this.messages=[n],this.translate.get("AseerAlkotb.welcome").subscribe(e=>{this.messages.length>0&&(this.messages[0].answer=e)})}toggleChat(){this.showModal&&this.closeModal(),this.showChat=!this.showChat,this.hasUnreadMessages=!1,this.showChat&&setTimeout(()=>this.scrollToBottom(),100)}closeModal(){this.showModal=!1}minimizeChat(){this.showChat=!1,this.showThankYouModal=!0}selectOption(n){this.showModal=!1,this.showChat=!0,this.addMessage(`\u0623\u0631\u064A\u062F \u0645\u0633\u0627\u0639\u062F\u0629 \u0641\u064A ${n}`,!0),setTimeout(()=>{this.addTypingMessage(),setTimeout(()=>{this.removeTypingMessage(),this.addMessage("\u0628\u0627\u0644\u0637\u0628\u0639! \u0633\u0623\u0633\u0627\u0639\u062F\u0643 \u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u0623\u0645\u0631. \u062F\u0639\u0646\u064A \u0623\u062D\u0636\u0631 \u0644\u0643 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629.",!1),n==="\u0637\u0644\u0628"&&(this.showInquiryNotice=!0)},2e3)},500)}startNewChat(){this.showModal=!1,this.showChat=!0,this.messages=[{answer:"\u0645\u0631\u062D\u0628\u0627\u064B! \u0643\u064A\u0641 \u064A\u0645\u0643\u0646\u0646\u064A \u0645\u0633\u0627\u0639\u062F\u062A\u0643 \u0627\u0644\u064A\u0648\u0645\u061F",isUser:!1,time:this.getCurrentTime()}],setTimeout(()=>this.scrollToBottom(),100)}toggleAudioResponse(){this.useAudioResponse=!this.useAudioResponse,this.useAudioResponse||(this.chatService.stopAudio(),this.isAudioPlaying=!1)}sendMessage(){if(!this.currentMessage.trim())return;this.addMessage(this.currentMessage,!0);let n=this.currentMessage;this.currentMessage="",setTimeout(()=>{this.addTypingMessage(),setTimeout(()=>{this.removeTypingMessage(),this.generateBotResponse(n)},1500)},300)}addMessage(n,e,r){let i={[e?"question":"answer"]:n,isUser:e,time:this.getCurrentTime(),sources:r};this.messages.push(i),setTimeout(()=>this.scrollToBottom(),100)}addTypingMessage(){let n={isUser:!1,time:this.getCurrentTime(),isTyping:!0};this.messages.push(n),setTimeout(()=>this.scrollToBottom(),100)}removeTypingMessage(){this.messages=this.messages.filter(n=>!n.isTyping)}generateBotResponse(n){return An(this,null,function*(){let e={Question:n,Language:"ar",Category:"general",Limit:1};try{this.addTypingMessage();let r=yield sc(this.chatService.getResponse(e,this.useAudioResponse));if(!r)throw new Error("No response received from the server");this.removeTypingMessage();let i=r.answer||"\u0634\u0643\u0631\u0627\u064B \u0644\u062A\u0648\u0627\u0635\u0644\u0643 \u0645\u0639\u0646\u0627! \u0633\u0623\u0633\u0627\u0639\u062F\u0643 \u0628\u0623\u0641\u0636\u0644 \u0645\u0627 \u0644\u062F\u064A.",o=N0.apiUrlHttps?.replace(/\/$/,"")||N0.apiUrl?.replace(/\/$/,"")||"",s=(r.sources||[]).map(a=>{let l=a.coverImageUrl??a.CoverImageUrl,p=typeof l=="string"&&/^(?:https?:)?\/\//.test(l),g=l?p?l:`${o}${l.startsWith("/")?"":"/"}${l}`:void 0;return{bookId:a.bookId??a.BookId,title:a.title??a.Title,snippet:a.snippet??a.Snippet,coverImageUrl:g}});this.addMessage(i,!1,s),Math.random()>.5&&setTimeout(()=>{this.showConfirmationNotice=!0},1e3),this.messages.filter(a=>!a.isTyping).length>=3&&setTimeout(()=>{this.showThankYouModal=!0},1e3)}catch(r){console.error("Error generating bot response:",r),this.removeTypingMessage();let i="\u0639\u0630\u0631\u0627\u064B\u060C \u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062C\u0629 \u0637\u0644\u0628\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.";r.status===0?i="\u0645\u0634 \u0639\u0627\u0631\u0641 \u0623\u0648\u0635\u0644 \u0644\u0644\u0633\u064A\u0631\u0641\u0631. \u062A\u0623\u0643\u062F \u0625\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631 \u0634\u063A\u0627\u0644 \u0648\u0625\u0646 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0645\u0638\u0628\u0648\u0637.":r.status===404&&(i="\u0627\u0644\u0640 API \u0645\u0634 \u0645\u0648\u062C\u0648\u062F. \u0645\u0645\u0643\u0646 \u0627\u0644\u0631\u0627\u0628\u0637 \u063A\u0644\u0637."),this.addMessage(i,!1)}})}closeThankYouModal(){this.showThankYouModal=!1}openRating(){this.showThankYouModal=!1,alert("\u0634\u0643\u0631\u0627\u064B \u0644\u0643! \u0633\u064A\u062A\u0645 \u0641\u062A\u062D \u0646\u0645\u0648\u0630\u062C \u0627\u0644\u062A\u0642\u064A\u064A\u0645.")}getCurrentTime(){let n=new Date,e=n.getHours(),r=n.getMinutes(),i=e>=12?"\u0645\u0633\u0627\u0621\u064B":"\u0635\u0628\u0627\u062D\u0627\u064B";return`${e%12||12}:${r.toString().padStart(2,"0")} ${i}`}scrollToBottom(){if(this.chatMessagesRef){let n=this.chatMessagesRef.nativeElement;n.scrollTop=n.scrollHeight}}callChatAPI(n){return An(this,null,function*(){try{return yield sc(this.chatService.callChatAPI(n))}catch(e){throw e}})}static \u0275fac=function(e){return new(e||t)(C(Ns),C(nt))};static \u0275cmp=k({type:t,selectors:[["app-ai-chatbot"]],viewQuery:function(e,r){if(e&1&&no(n3,5),e&2){let i;Rr(i=Fr())&&(r.chatMessagesRef=i.first)}},decls:69,vars:47,consts:[["chatMessages",""],[1,"modal-overlay",3,"click"],[1,"help-modal",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"help-icon"],[1,"close-btn",3,"click"],[1,"subtitle"],[1,"modal-content"],[1,"options-list"],[1,"option-item",3,"click"],[1,"arrow"],[1,"new-chat-btn",3,"click"],[1,"chat-container"],[1,"chat-header"],[1,"chat-title"],[1,"bot-avatar"],[1,"title-text"],[1,"status"],[1,"minimize-btn",3,"click"],[1,"chat-messages"],["class","message",3,"user-message","bot-message",4,"ngFor","ngForOf"],["class","inquiry-notice",4,"ngIf"],[1,"chat-input"],[1,"audio-toggle",3,"click","title"],["type","text",1,"message-input",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"send-btn",3,"click","disabled"],["class","floating-chat-btn",3,"click",4,"ngIf"],[1,"message"],[1,"message-content"],[1,"message-bubble"],[4,"ngIf"],["class","typing-indicator",4,"ngIf"],[1,"sources"],[1,"message-time"],[1,"typing-indicator"],[1,"source-item"],["alt","Cover",1,"source-image",3,"src"],[3,"routerLink"],[1,"source-details"],[1,"inquiry-notice"],[1,"notice-content"],[1,"notice-time"],[1,"floating-chat-btn",3,"click"],[1,"chat-icon"],["class","notification-dot",4,"ngIf"],[1,"notification-dot"]],template:function(e,r){if(e&1){let i=Q();c(0,"div",1),E("click",function(){return O(i),A(r.closeModal())}),c(1,"div",2),E("click",function(s){return O(i),A(s.stopPropagation())}),c(2,"div",3)(3,"div",4)(4,"div",5),f(5,"\u{1F4D6}"),u(),c(6,"span"),f(7),_(8,"translate"),u()(),c(9,"button",6),E("click",function(){return O(i),A(r.closeModal())}),f(10,"\xD7"),u(),c(11,"div",7),f(12),_(13,"translate"),u()(),c(14,"div",8)(15,"h3"),f(16),_(17,"translate"),u(),c(18,"p"),f(19),_(20,"translate"),u(),c(21,"div",9)(22,"div",10),E("click",function(){return O(i),A(r.selectOption("inquiry"))}),c(23,"span"),f(24),_(25,"translate"),u(),c(26,"span",11),f(27,"\u2192"),u()(),c(28,"div",10),E("click",function(){return O(i),A(r.selectOption("return"))}),c(29,"span"),f(30),_(31,"translate"),u(),c(32,"span",11),f(33,"\u2192"),u()(),c(34,"div",10),E("click",function(){return O(i),A(r.selectOption("payment"))}),c(35,"span"),f(36),_(37,"translate"),u(),c(38,"span",11),f(39,"\u2192"),u()()(),c(40,"button",12),E("click",function(){return O(i),A(r.startNewChat())}),f(41),_(42,"translate"),u()()()(),c(43,"div",13)(44,"div",14)(45,"div",15)(46,"div",16),f(47,"\u{1F916}"),u(),c(48,"div",17)(49,"h4"),f(50),_(51,"translate"),u(),c(52,"span",18),f(53),_(54,"translate"),u()()(),c(55,"button",19),E("click",function(){return O(i),A(r.minimizeChat())}),f(56,"\u2212"),u()(),c(57,"div",20,0),Z(59,u3,8,10,"div",21)(60,d3,7,4,"div",22),u(),c(61,"div",23)(62,"button",24),E("click",function(){return O(i),A(r.toggleAudioResponse())}),f(63),u(),c(64,"input",25),_(65,"translate"),gt("ngModelChange",function(s){return O(i),yt(r.currentMessage,s)||(r.currentMessage=s),A(s)}),E("keyup.enter",function(){return O(i),A(r.sendMessage())}),u(),c(66,"button",26),E("click",function(){return O(i),A(r.sendMessage())}),f(67," \u27A4 "),u()()(),Z(68,p3,4,1,"button",27)}e&2&&(W("show",r.showModal),d(7),y(I(8,25,"AseerAlkotb.helpCenter")),d(5),y(I(13,27,"AseerAlkotb.subtitle")),d(4),y(I(17,29,"AseerAlkotb.welcome")),d(3),y(I(20,31,"AseerAlkotb.options")),d(5),y(I(25,33,"AseerAlkotb.inquiry")),d(6),y(I(31,35,"AseerAlkotb.return")),d(6),y(I(37,37,"AseerAlkotb.payment")),d(5),D(" ",I(42,39,"AseerAlkotb.newChat")," "),d(2),W("show",r.showChat),d(7),y(I(51,41,"AseerAlkotb.name")),d(3),y(I(54,43,"AseerAlkotb.status")),d(6),m("ngForOf",r.messages),d(),m("ngIf",r.showInquiryNotice),d(2),W("active",r.useAudioResponse),m("title",r.useAudioResponse?"\u0625\u064A\u0642\u0627\u0641 \u0627\u0644\u0631\u062F \u0627\u0644\u0635\u0648\u062A\u064A":"\u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0631\u062F \u0627\u0644\u0635\u0648\u062A\u064A"),d(),D(" ",r.useAudioResponse?"\u{1F50A}":"\u{1F508}"," "),d(),m("placeholder",qe(I(65,45,"AseerAlkotb.placeholder"))),pt("ngModel",r.currentMessage),d(2),m("disabled",!r.currentMessage.trim()),d(2),m("ngIf",!r.showChat&&!r.showModal))},dependencies:[Y,Tt,Ne,kt,Ke,st,yn,de,Be,Ze],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease}.modal-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.help-modal[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:16px;width:400px;max-width:90vw;box-shadow:0 20px 40px #00000026;overflow:hidden;animation:_ngcontent-%COMP%_modalSlideIn .3s ease}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{transform:translate(-50%,-60%);opacity:0}to{transform:translate(-50%,-50%);opacity:1}}.modal-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;text-align:center;border-bottom:1px solid #eee;position:relative}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;font-size:18px;font-weight:600;color:#333}.help-icon[_ngcontent-%COMP%]{width:24px;height:24px;background:linear-gradient(135deg,#dc3545,#c82333);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;color:#fff;box-shadow:0 2px 8px #dc35454d}.close-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:none;border:none;font-size:24px;color:#999;cursor:pointer;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#666}.subtitle[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:5px}.modal-content[_ngcontent-%COMP%]{padding:24px;text-align:center}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0 0 8px}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0 0 24px;line-height:1.4}.options-list[_ngcontent-%COMP%]{margin-bottom:20px}.option-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;margin-bottom:8px;background:#f8f9fa;border:1px solid #eee;border-radius:8px;cursor:pointer;transition:all .2s ease;text-align:right}.option-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translate(-2px)}.option-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:14px;color:#333}.arrow[_ngcontent-%COMP%]{color:#999;font-weight:700}.new-chat-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;width:100%;box-shadow:0 4px 12px #dc35454d}.new-chat-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c82333,#b21e2f);transform:translateY(-2px);box-shadow:0 6px 16px #dc354566}.chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:350px;height:500px;background:#fff;border-radius:16px;box-shadow:0 8px 30px #0000001f;display:flex;flex-direction:column;transform:translateY(100%);opacity:0;transition:all .3s ease;z-index:999;overflow:hidden}.chat-container.show[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.chat-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:16px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 12px #dc35454d}.chat-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.bot-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px}.title-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.status[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.minimize-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px}.minimize-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto;background:#f8f9fa}.message[_ngcontent-%COMP%]{margin-bottom:16px;display:flex}.user-message[_ngcontent-%COMP%]{justify-content:flex-end}.bot-message[_ngcontent-%COMP%]{justify-content:flex-start}.message-content[_ngcontent-%COMP%]{max-width:80%}.message-bubble[_ngcontent-%COMP%]{padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.4;position:relative}.user-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border-bottom-right-radius:4px;box-shadow:0 2px 8px #dc354533}.bot-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#fff;color:#333;border:1px solid #e0e0e0;border-bottom-left-radius:4px}.message-time[_ngcontent-%COMP%]{font-size:11px;color:#999;margin-top:4px;text-align:right}.user-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{text-align:left}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8px;height:8px;background:#999;border-radius:50%;animation:_ngcontent-%COMP%_typing 1.5s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:scale(1);opacity:.5}30%{transform:scale(1.2);opacity:1}}.inquiry-notice[_ngcontent-%COMP%], .confirmation-notice[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;padding:12px;margin:16px 0;text-align:center}.inquiry-notice[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);border:none;color:#fff;border-radius:8px;padding:12px;margin:16px 0;text-align:center;box-shadow:0 2px 8px #dc35454d}.confirmation-notice[_ngcontent-%COMP%]{background:#d1ecf1;border-color:#bee5eb;color:#0c5460}.notice-content[_ngcontent-%COMP%]{font-size:13px}.notice-time[_ngcontent-%COMP%]{font-size:11px;opacity:.7;margin-top:4px}.chat-input[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#fff;border-top:1px solid #eee;gap:8px}.message-input[_ngcontent-%COMP%]{flex:1;border:1px solid #ddd;border-radius:20px;padding:12px 16px;outline:none;font-size:14px;background:#f8f9fa}.message-input[_ngcontent-%COMP%]:focus{border-color:#dc3545;background:#fff;box-shadow:0 0 0 3px #dc35451a}.send-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);border:none;color:#fff;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;transition:all .2s ease;box-shadow:0 2px 8px #dc35454d}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#c82333,#b21e2f);transform:scale(1.05);box-shadow:0 4px 12px #dc354566}.send-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.thank-you-modal[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:16px;width:350px;max-width:90vw;padding:32px;text-align:center;box-shadow:0 20px 40px #00000026}.thank-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:#28a745;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;font-size:24px}.thank-you-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin:0 0 12px}.thank-you-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0 0 24px;line-height:1.4}.rating-section[_ngcontent-%COMP%]{font-size:14px;color:#333;margin-bottom:24px;padding:16px;background:#f8f9fa;border-radius:8px}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.skip-btn[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;border:1px solid #ddd;color:#666;padding:12px;border-radius:8px;cursor:pointer;font-size:14px}.rate-btn[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#dc3545,#c82333);border:none;color:#fff;padding:12px;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;box-shadow:0 2px 8px #dc35454d}.skip-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translateY(-1px)}.rate-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c82333,#b21e2f);transform:translateY(-1px);box-shadow:0 4px 12px #dc354566}.floating-chat-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background:linear-gradient(135deg,#dc3545,#c82333);border:none;border-radius:50%;cursor:pointer;box-shadow:0 6px 20px #dc354566;z-index:998;transition:all .3s ease;position:relative}.floating-chat-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 8px 25px #dc354580;background:linear-gradient(135deg,#c82333,#b21e2f)}.chat-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px}.notification-dot[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;width:12px;height:12px;background:#dc3545;border:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.chat-container[_ngcontent-%COMP%]{width:calc(100vw - 20px);height:calc(100vh - 40px);bottom:10px;right:10px}.help-modal[_ngcontent-%COMP%], .thank-you-modal[_ngcontent-%COMP%]{width:calc(100vw - 40px);margin:20px}}.sources[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background-color:#f9f9f9;border-radius:5px}.source-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.source-image[_ngcontent-%COMP%]{width:50px;height:75px;object-fit:cover;margin-right:10px;border-radius:3px}.source-details[_ngcontent-%COMP%]{flex:1;margin-right:20px}.source-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px}.source-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:12px;color:#666}.audio-controls[_ngcontent-%COMP%]{display:flex;gap:5px;margin-right:10px}.audio-toggle[_ngcontent-%COMP%], .audio-control-btn[_ngcontent-%COMP%]{background-color:#4a90e2;border:none;border-radius:50%;width:40px;height:40px;color:#fff;font-size:18px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 5px #0003;padding:0}.audio-toggle[_ngcontent-%COMP%]:hover, .audio-control-btn[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#357abd;transform:scale(1.05)}.audio-toggle.active[_ngcontent-%COMP%]{background-color:#e63946}.audio-toggle.active[_ngcontent-%COMP%]:hover{background-color:#c92a38}.audio-control-btn.stop-btn[_ngcontent-%COMP%]{background-color:#e63946}.audio-control-btn.stop-btn[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#c92a38}.audio-control-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.chat-input[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;background-color:#f9f9f9;border-top:1px solid #e0e0e0}.message-input[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:1px solid #ddd;border-radius:25px;outline:none;font-size:14px;margin:0 10px}.send-btn[_ngcontent-%COMP%]{background-color:#4a90e2;color:#fff;border:none;border-radius:50%;width:40px;height:40px;font-size:16px;cursor:pointer;transition:background-color .3s}.send-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.send-btn[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#357abd}"]})};var Ff=class t{constructor(n,e){this.langService=n;this.translate=e;this.currentLang$=this.langService.dir$,e.setDefaultLang(localStorage.getItem("lang")||"ar"),e.use(localStorage.getItem("lang")||"ar")}title="AseerElKotb";currentLang$;static \u0275fac=function(e){return new(e||t)(C(Rs),C(nt))};static \u0275cmp=k({type:t,selectors:[["app-root"]],decls:10,vars:3,consts:[[1,"app-layout",3,"dir"],[1,"main-content"],[1,"chat-container"]],template:function(e,r){e&1&&(c(0,"div",0),_(1,"async"),v(2,"app-navbar"),c(3,"main",1),v(4,"router-outlet"),u(),v(5,"app-footer"),c(6,"div",2),v(7,"app-ai-chatbot"),u(),v(8,"app-toast-notification")(9,"app-toast-notification"),u()),e&2&&m("dir",I(1,1,r.currentLang$))},dependencies:[sl,Nf,kf,Rf,Kd,ja],styles:["body[_ngcontent-%COMP%]{background-color:#f8f9fa;margin:0;padding:0;font-family:Almarai,cursive}.main-content[_ngcontent-%COMP%]{padding-top:70px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}*[_ngcontent-%COMP%]:focus{outline:2px solid #e60000;outline-offset:2px}[_ngcontent-%COMP%]::selection{background-color:#e600004d;color:#333}.chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px}"]})};Sm(Ff,Kx).catch(t=>console.error(t));
